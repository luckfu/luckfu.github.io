<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>Chainlit ä½¿ç”¨ Langflow åç«¯</title><url>http://www.luckfu.com/post/2025-04-24_langflow_and_chainlit/</url><categories><category>GPT</category><category>chatGPT</category></categories><tags><tag>Langflow</tag><tag>Chainlit</tag></tags><content type="html"> LangFlowæ˜¯ä¸€ä¸ªé’ˆå¯¹LangChainçš„GUIï¼Œå®ƒé‡‡ç”¨äº†ååº”æµè®¾è®¡ï¼Œæä¾›äº†ä¸€ç§è½»æ¾çš„æ–¹å¼ï¼Œé€šè¿‡æ‹–æ”¾ç»„ä»¶å’ŒèŠå¤©æ¡†æ¥å®éªŒå’ŒåŸå‹åŒ–æµç¨‹ã€‚ LangFlowå…è®¸æ‚¨æ¢ç´¢ä¸åŒçš„å¤§è¯­è¨€æ¨¡å‹ã€promptå‚æ•°ã€é“¾é…ç½®å’Œä»£ç†è¡Œä¸ºï¼Œå¹¶è·Ÿè¸ªä»£ç†çš„æ€ç»´è¿‡ç¨‹ã€‚
Chainlitæ˜¯ä¸€ä¸ªå¼€æºPythonåŒ…ï¼Œæ—¨åœ¨å½»åº•æ”¹å˜æ„å»ºå’Œå…±äº«è¯­è¨€æ¨¡å‹ï¼ˆLMï¼‰åº”ç”¨ç¨‹åºçš„æ–¹å¼ã€‚Chainlitå¯ä»¥åˆ›å»ºç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰ï¼Œç±»ä¼¼äºç”±OpenAIå¼€å‘çš„ChatGPTç”¨æˆ·ç•Œé¢ï¼ŒChainlitå¯ä»¥å¼€å‘ç±»
æœ¬æ–‡å°†ä»‹ç» Chainlit ä½¿ç”¨ LangFlowæ„å»º LLM çš„å·¥ä½œæµï¼Œå°† LangFlow å‘å¸ƒçš„æœåŠ¡å±•ç°åˆ°Chainlit å‰ç«¯
ç¯å¢ƒè®¾ç½® ä»£ç é¦–å…ˆå¯¼å…¥å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ chainlit ç”¨äºå¤„ç†å¯¹è¯ç•Œé¢å’Œ aiohttp ç”¨äºå¼‚æ­¥ HTTP è¯·æ±‚ã€‚å®ƒå®šä¹‰äº† BASE_API_URL å’Œ LANGFLOW_API_KEY ç­‰å¸¸é‡ï¼Œç”¨äºè¿æ¥ Langflow çš„ APIã€‚æ ¹æ® Langflow API å¯†é’¥æ–‡æ¡£ï¼ŒAPI å¯†é’¥æ˜¯å¿…éœ€çš„ï¼Œç”¨äºè®¤è¯è¯·æ±‚ã€‚
æ¶ˆæ¯å¤„ç† on_message å‡½æ•°é€šè¿‡ @cl.on_message è£…é¥°å™¨è§¦å‘ï¼Œå½“ç”¨æˆ·å‘é€æ–°æ¶ˆæ¯æ—¶è°ƒç”¨ã€‚å®ƒå°†èŠå¤©ä¸Šä¸‹æ–‡è½¬æ¢ä¸º Langflow æœŸæœ›çš„æ ¼å¼ï¼Œå‡†å¤‡å‘é€è¯·æ±‚ã€‚
å‘é€è¯·æ±‚åˆ° Langflow ä»£ç æ„å»ºäº† Langflow API çš„ URLï¼ŒåŒ…å« stream=true å‚æ•°ä»¥å¯ç”¨æµå¼å“åº”ã€‚è¯·æ±‚è´Ÿè½½ï¼ˆpayloadï¼‰åŒ…æ‹¬è¾“å…¥æ¶ˆæ¯å†…å®¹ï¼Œè¾“å…¥å’Œè¾“å‡ºç±»å‹å‡è®¾ç½®ä¸ºâ€œchatâ€ã€‚ç„¶åï¼Œå®ƒä½¿ç”¨ aiohttp.ClientSession å¼‚æ­¥å‘é€ POST è¯·æ±‚ï¼ŒåŒ…å« JSON è´Ÿè½½å’Œè®¤è¯å¤´ã€‚æ ¹æ® Langflow API ç¤ºä¾‹ï¼Œè¿™ç§æ–¹å¼ä¸ Langflow çš„ /api/v1/run/{FLOW_ID} ç«¯ç‚¹å…¼å®¹ã€‚
å¤„ç†æµå¼å“åº” Langflow çš„å“åº”ä»¥æµå¼æ–¹å¼è¿”å›ï¼Œä»£ç é€šè¿‡å¼‚æ­¥è¿­ä»£ response.content å¤„ç†æ¯ä¸ªäº‹ä»¶ã€‚äº‹ä»¶ç±»å‹åŒ…æ‹¬ï¼š
&ldquo;add_message&rdquo;ï¼šå¤„ç†æ–°æ¶ˆæ¯çš„æ·»åŠ ï¼› &ldquo;token&rdquo;ï¼šè§£ç å¹¶å¤„ç†å•ä¸ªä»¤ç‰Œï¼ŒåŒºåˆ†â€œæ€è€ƒå†…å®¹â€å’Œâ€œæœ€ç»ˆç­”æ¡ˆâ€ï¼› &ldquo;end&rdquo;ï¼šç»“æŸå¤„ç†ï¼Œå‘é€æœ€ç»ˆç­”æ¡ˆã€‚ æ”¯æŒâ€œæ€è€ƒâ€æ¨¡å¼ å¯¹äºâ€œtokenâ€äº‹ä»¶ï¼Œä»£ç ä½¿ç”¨ get_thinking_content æ£€æŸ¥æ˜¯å¦ä¸ºæ€è€ƒå†…å®¹ã€‚å¦‚æœæ˜¯ï¼Œåˆ™æ›´æ–° Chainlit ä¸­çš„â€œThinkingâ€æ­¥éª¤ï¼›å¦åˆ™ï¼Œä½¿ç”¨ filter_content å¤„ç†æ™®é€šå†…å®¹å¹¶æµå¼ä¼ è¾“ã€‚
é›†æˆçš„ä¼˜åŠ¿ è¿™ç§ Chainlit ä¸ Langflow çš„é›†æˆæä¾›äº†ä»¥ä¸‹ä¼˜åŠ¿ï¼š
å¢å¼ºåŠŸèƒ½ï¼šç»“åˆ Chainlit çš„ç•Œé¢å’Œ Langflow çš„åç«¯ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå…·æœ‰å¤æ‚é€»è¾‘å’Œå·¥ä½œæµçš„åº”ç”¨ã€‚
å®æ—¶äº¤äº’ï¼šæµå¼å¤„ç†ç¡®ä¿ç”¨æˆ·å®æ—¶æ¥æ”¶å“åº”ï¼Œæå‡å¯¹è¯ä½“éªŒã€‚
çµæ´»æ€§å’Œå®šåˆ¶åŒ–ï¼šä¸¤è€…å‡ä¸ºå¼€æº Python å·¥å…·ï¼Œæ”¯æŒå¹¿æ³›çš„å®šåˆ¶å’Œä¸å…¶ä»–æœåŠ¡çš„é›†æˆã€‚
å¿«é€Ÿå¼€å‘ï¼šå¼€å‘è€…å¯ä»¥åˆ©ç”¨ä¸¤è€…çš„ä¼˜åŠ¿ï¼Œå¿«é€ŸåŸå‹è®¾è®¡å’Œéƒ¨ç½²å¯¹è¯å¼ AI åº”ç”¨ã€‚
è¿™ç§é›†æˆç‰¹åˆ«é€‚åˆéœ€è¦å¤šä»£ç†ç³»ç»Ÿæˆ– RAG åŠŸèƒ½çš„èŠå¤©åº”ç”¨å¼€å‘ï¼Œä¾‹å¦‚å®¢æˆ·æ”¯æŒæœºå™¨äººæˆ–åŸºäºçŸ¥è¯†åº“çš„é—®ç­”ç³»ç»Ÿã€‚
ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
@cl.on_message async def on_message(msg: cl.Message): messages = cl.chat_context.to_openai() print("Historical messages:", messages) start = time.time() url = f"{BASE_API_URL}/api/v1/run/{FLOW_ID}?stream=true" payload = { "input_value": msg.content, "output_type": "chat", "input_type": "chat" } print(f"Request URL: {url}") print(f"Request payload: {json.dumps(payload, ensure_ascii=False)}") thinking = False final_answer = cl.Message(content="") thinking_step = None async with aiohttp.ClientSession() as session: try: headers = { "Content-Type": "application/json", "Authorization": f"Bearer {LANGFLOW_API_KEY}" } async with session.post(url, json=payload, headers=headers) as response: print(f"Response status: {response.status}") if response.status != 200: error_text = await response.text() print(f"Error response: {error_text}") raise Exception(f"API request failed: {response.status} - {error_text}") buffer = "" async for line in response.content: if not line: continue try: line_text = line.decode('utf-8').strip() if not line_text: continue event_data = json.loads(line_text) event_type = event_data["event"] if event_type == "add_message": message_id = event_data["data"]["id"] elif event_type == "token": chunk = event_data["data"].get("chunk", "") if chunk: # è¿‡æ»¤ç©ºå¿ƒè·³åŒ… try: # é¦–å…ˆå°è¯•ç›´æ¥è§£ç  decoded = chunk if '\\u' in chunk: decoded = chunk.encode().decode('unicode_escape') # ä½¿ç”¨ get_thinking_content æ£€æŸ¥æ˜¯å¦åŒ…å«æ€è€ƒå†…å®¹ thinking_content = get_thinking_content(type('Delta', (), {'content': decoded})()) if thinking_content: # å¦‚æœæœ‰æ€è€ƒå†…å®¹ï¼Œåˆ›å»ºæˆ–æ›´æ–° thinking_step if not thinking_step: thinking_step = cl.Step(name="Thinking") await thinking_step.__aenter__() thinking = True await thinking_step.stream_token(thinking_content) else: # å¦‚æœæ²¡æœ‰æ€è€ƒå†…å®¹ï¼Œä½¿ç”¨ filter_content å¤„ç†æ™®é€šå†…å®¹ filtered_content = filter_content(decoded) if filtered_content: buffer += filtered_content await final_answer.stream_token(filtered_content) except Exception as decode_error: print(f"è§£ç é”™è¯¯: {decode_error}, åŸå§‹chunk: {chunk}") elif event_type == "end": if thinking and thinking_step: thought_for = round(time.time() - start) thinking_step.name = f"Thought for {thought_for}s" await thinking_step.update() await thinking_step.__aexit__(None, None, None) thinking = False # è®¾ç½®æœ€ç»ˆç­”æ¡ˆ final_answer.content = buffer await final_answer.send() except json.JSONDecodeError as e: print(f"è§£æå¤±è´¥çš„è¡Œ: {line_text}, é”™è¯¯: {str(e)}") continue except Exception as e: print(f"è¯·æ±‚é”™è¯¯: {str(e)}") await cl.Message(content=f"æŠ±æ­‰ï¼Œå‘ç”Ÿé”™è¯¯: {str(e)}").send() è¯¦ç»†ä»£ç å‚è€ƒ https://github.com/luckfu/chat</content></entry><entry><title>è‡ªå®šä¹‰ LangChain OpenAI èŠå¤©æ¨¡å‹ï¼ˆCustomChatOpenAIï¼‰é‡æ„å®è·µ</title><url>http://www.luckfu.com/post/2022-05-27_langchain_openai/</url><categories><category>Langchain</category><category>openai</category></categories><tags><tag>Langchain</tag></tags><content type="html"> è‡ªå®šä¹‰ LangChain OpenAI èŠå¤©æ¨¡å‹ï¼ˆCustomChatOpenAIï¼‰é‡æ„å®è·µ åœ¨ AI åº”ç”¨å¼€å‘ä¸­ï¼ŒLangChain æä¾›äº†å¼ºå¤§çš„é“¾å¼è°ƒç”¨èƒ½åŠ›ï¼Œè€Œ OpenAI çš„æ¥å£åˆ™æ˜¯ä¸»æµå¤§æ¨¡å‹æœåŠ¡çš„äº‹å®æ ‡å‡†ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åŸºäº LangChain çš„ ChatOpenAIï¼Œé‡æ„å¹¶æ‰©å±•å‡ºä¸€ä¸ªæ”¯æŒæ¨ç†å†…å®¹ï¼ˆreasoning_contentï¼‰æµå¼è¾“å‡ºçš„è‡ªå®šä¹‰èŠå¤©æ¨¡å‹â€”â€”CustomChatOpenAIï¼Œå¹¶è¯¦ç»†è§£æå…¶è®¾è®¡æ€è·¯ä¸å®ç°ç»†èŠ‚ã€‚
èƒŒæ™¯ä¸éœ€æ±‚ åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œé™¤äº†å¸¸è§„çš„å¯¹è¯å†…å®¹ï¼ˆcontentï¼‰ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›æ¨¡å‹èƒ½è¾“å‡ºæ¨ç†è¿‡ç¨‹ï¼ˆreasoning_contentï¼‰ï¼Œå¹¶ä¸”åœ¨æµå¼å“åº”æ—¶èƒ½ä»¥ &lt;think>...&lt;/think> æ ‡ç­¾åŒ…è£¹æ¨ç†å†…å®¹ï¼Œä¾¿äºå‰ç«¯æˆ–ä¸‹æ¸¸ç³»ç»Ÿåšè¿›ä¸€æ­¥å¤„ç†ã€‚åŸç”Ÿçš„ ChatOpenAI å¹¶ä¸æ”¯æŒè¿™ä¸€éœ€æ±‚ï¼Œå› æ­¤éœ€è¦è‡ªå®šä¹‰æ‰©å±•ã€‚
è®¾è®¡æ€è·¯ 1. ç»§æ‰¿ä¸æ‰©å±• æˆ‘ä»¬é€šè¿‡ç»§æ‰¿ ChatOpenAIï¼Œé‡å†™å…¶æ ¸å¿ƒæ–¹æ³•ï¼Œå¢åŠ å¯¹ reasoning_content çš„å¤„ç†èƒ½åŠ›ã€‚æ ¸å¿ƒæ€è·¯å¦‚ä¸‹ï¼š
æµå¼è¾“å‡ºï¼šåœ¨æµå¼å“åº”ä¸­ï¼Œä¼˜å…ˆæ£€æµ‹ reasoning_contentï¼Œå¹¶ç”¨ &lt;think>...&lt;/think> æ ‡ç­¾åŒ…è£¹ï¼Œä»…å…è®¸å‡ºç°ä¸€æ¬¡ï¼Œé¿å…é‡å¤åµŒå¥—ã€‚ æ™®é€šè¾“å‡ºï¼šåœ¨éæµå¼å“åº”ä¸­ï¼Œå°†æ¨ç†å†…å®¹å’Œæœ€ç»ˆå›å¤æ‹¼æ¥è¾“å‡ºï¼Œæ ¼å¼ç»Ÿä¸€ã€‚ 2. å…³é”®æ–¹æ³•è§£æ _create_client é‡å†™å®¢æˆ·ç«¯åˆ›å»ºæ–¹æ³•ï¼Œæ”¯æŒè‡ªå®šä¹‰ base_url å’Œ api_keyï¼Œå…¼å®¹å¤šç§ OpenAI å…¼å®¹æœåŠ¡ã€‚
_process_stream æ ¸å¿ƒæµå¼å¤„ç†é€»è¾‘ã€‚éå†å¤§æ¨¡å‹è¿”å›çš„æµå¼æ•°æ®å—ï¼Œåˆ¤æ–­ delta ä¸­æ˜¯å¦åŒ…å« reasoning_content æˆ– contentï¼Œå¹¶æŒ‰éœ€æ’å…¥ &lt;think> æ ‡ç­¾ã€‚ä¾‹å¦‚ï¼š
// ... existing code ... if hasattr(delta, 'reasoning_content') and delta.reasoning_content: if not in_think_tag and not think_closed: yield AIMessageChunk(content="&lt;think>\n") in_think_tag = True if in_think_tag and not think_closed: yield AIMessageChunk(content=delta.reasoning_content) elif hasattr(delta, 'content') and delta.content: if in_think_tag and not think_closed: yield AIMessageChunk(content="\n&lt;/think>\n") in_think_tag = False think_closed = True yield AIMessageChunk(content=delta.content) // ... existing code ... _generate éæµå¼å“åº”æ—¶ï¼Œå°† reasoning_content å’Œ content æ‹¼æ¥ï¼Œä¿è¯è¾“å‡ºæ ¼å¼ä¸€è‡´ã€‚
stream ä¸ invoke stream æ–¹æ³•ç”¨äºæµå¼è¾“å‡ºï¼Œé€‚é… LangChain çš„æ¶ˆæ¯æ ¼å¼ã€‚ invoke æ–¹æ³•æ ¹æ® streaming å‚æ•°è‡ªåŠ¨é€‰æ‹©æµå¼æˆ–éæµå¼å¤„ç†ï¼Œæå‡æ¥å£æ˜“ç”¨æ€§ã€‚ å®è·µæ•ˆæœ é€šè¿‡ test.py ä¸­çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¯ä»¥çœ‹åˆ° CustomChatOpenAI èƒ½å¤Ÿæ­£ç¡®è¾“å‡ºå¸¦ &lt;think> æ ‡ç­¾çš„æ¨ç†å†…å®¹ï¼Œå¹¶å…¼å®¹åŸæœ‰çš„å¯¹è¯å†…å®¹è¾“å‡ºï¼Œæå¤§æå‡äº†æ¨¡å‹è¾“å‡ºçš„å¯è§£é‡Šæ€§å’Œå¯ç”¨æ€§ã€‚
æ€»ç»“ä¸å±•æœ› æœ¬æ¬¡é‡æ„ä¸ä»…æ»¡è¶³äº†ä¸šåŠ¡å¯¹æ¨ç†å†…å®¹çš„ç‰¹æ®Šéœ€æ±‚ï¼Œè¿˜ä¸ºåç»­æ‰©å±•ï¼ˆå¦‚å¤šæ ‡ç­¾ã€å¤šæ®µæ¨ç†ç­‰ï¼‰æ‰“ä¸‹äº†è‰¯å¥½åŸºç¡€ã€‚æœªæ¥å¯ä»¥è€ƒè™‘ï¼š
æ”¯æŒå¤šæ®µæ¨ç†å†…å®¹çš„åˆ†æ®µè¾“å‡º æ¨ç†å†…å®¹ä¸æœ€ç»ˆå›å¤çš„æ ·å¼è‡ªå®šä¹‰ æ›´ä¸°å¯Œçš„æµå¼æ¶ˆæ¯å¤„ç†èƒ½åŠ› å¦‚éœ€å®Œæ•´ä»£ç å®ç°ï¼Œè¯·å‚è€ƒé¡¹ https://raw.githubusercontent.com/luckfu/chat/refs/heads/main/custom_chat.py æ–‡ä»¶ã€‚æ¬¢è¿äº¤æµä¸æŒ‡æ­£ï¼</content></entry><entry><title>ç”¨GPT-4oå†™äº†ä¸€ä¸ªç«¯å£è½¬å‘ç¨‹åº</title><url>http://www.luckfu.com/post/2024-06-06_port-forward/</url><categories><category>GPT</category><category>chatGPT</category></categories><tags><tag>GPT</tag><tag>chatGPT</tag></tags><content type="html"> æ˜¨å¤©ä¸€ä¸ªåŒäº‹é—®æˆ‘ï¼Œç±»ä¼¼é˜¿é‡Œçš„PAIå¹³å°ï¼Œå½“ä½ åœ¨jupyteræˆ–è€…codeç¯å¢ƒçš„ç»ˆç«¯ä¸­ï¼Œå¯åŠ¨ä¸€ä¸ªå¸¦ç½‘ç»œç«¯å£çš„appï¼Œä¼šè‡ªåŠ¨å¯åŠ¨ä¸€ä¸ªç«¯å£è½¬å‘ï¼ŒæŠŠä½ çš„appåº”ç”¨ç«¯å£ï¼Œæ˜ å°„åˆ°ä¸€ä¸ªå½“å‰ç½‘ç«™çš„urlä¸­ï¼Œç±»ä¼¼è¡Œä¸ºçš„è¿˜æœ‰code-serverï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œå¹¶ä¸”å¹³å°ä¼šæç¤ºä½ ï¼Œä½ çš„ç«¯å£è¢«è½¬å‘åˆ°äº†xxx.
ç»è¿‡å¯¹code-serverçš„å°è¯•ï¼Œå‘ç°å®ƒå®é™…ä¸Šæœ‰ä¸ªç«¯å£æ‰«æï¼Œå¯¹å½“å‰ä¸»æœºå½“å‰ç”¨æˆ·ä¸‹ï¼Œä½¿ç”¨webç«¯å£çš„ç¨‹åºï¼Œè‡ªåŠ¨è¿›è¡Œè½¬å‘(å¼€å§‹ä»¥ä¸ºå®ƒåªè½¬å‘è‡ªå·±è¿›ç¨‹ä¸‹çš„å­è¿›ç¨‹ï¼Œåæ¥å‘ç°ä¸æ˜¯ï¼Œåªè¦å½“å‰ç”¨æˆ·ä¸‹çš„webè¿›ç¨‹ï¼Œå®ƒéƒ½ä¼šè‡ªåŠ¨åšè½¬å‘é…ç½®) æˆ‘è®¾æƒ³ç”¨nginxåšç«¯å£è½¬å‘åº”è¯¥æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åŠ¨æ€é…ç½®å°±éº»çƒ¦ä¸€ç‚¹ï¼Œè‡ªå·±å†™ç¨‹åºä¹Ÿèƒ½å®ç°ï¼Œæ¯•ç«Ÿå·²ç»æ˜¯å¤§æ¨¡å‹çš„æ—¶ä»£ï¼Œè¿™ç§äº‹æƒ…ï¼Œå½“ç„¶åº”è¯¥äº¤ç»™LLMå»åšã€‚ è·Ÿgpt-4oæäº†éœ€æ±‚åï¼Œåšäº†å‡ æ¬¡å°ä¿®æ”¹å’Œæ–°å¢åŠŸèƒ½éœ€æ±‚ï¼Œå¤§æ¦‚åŠå°æ—¶å®ç°äº†å¯æ¼”ç¤ºçš„åŸå‹
ä»£ç è§ https://github.com/luckfu/port-forward/tree/main
å®ƒå®ç°äº†ç¨‹åºå¯åŠ¨åï¼Œæ‰«æå½“å‰ä¸»æœºå½“å‰ç”¨æˆ·ä¸‹çš„ï¼Œå¯åŠ¨ä¸€ä¸ªwebç«¯å£çš„appï¼Œä¸ºå®ƒç”Ÿæˆä¸€ä¸ªå”¯ä¸€idçš„urlï¼Œå¹¶è½¬å‘ç«¯å£åˆ°url</content></entry><entry><title>ç”¨Alpacaå’ŒLangChainåˆ¶ä½œä¸€ä¸ªè‡ªå®šä¹‰çŸ¥è¯†åº“çš„èŠå¤©æœºå™¨äºº</title><url>http://www.luckfu.com/post/2023-06-06_langchain_qa/</url><categories><category>GPT</category><category>Alpaca</category><category>LangChain</category></categories><tags><tag>GPT</tag><tag>Alpaca</tag><tag>LangChain</tag></tags><content type="html"> è¿‘æ¥ï¼ŒèŠå¤©æœºå™¨äººå·²æˆä¸ºæˆ‘ä»¬æ•°å­—ç”Ÿæ´»ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œç®€åŒ–äº†å®¢æˆ·æœåŠ¡ï¼Œå¢å¼ºäº†ç”¨æˆ·ä½“éªŒï¼Œç”šè‡³æä¾›äº†é™ªä¼´ã€‚éšç€äººå·¥æ™ºèƒ½å’Œè‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯çš„è¿›æ­¥ä¸æ–­æ¶Œç°ï¼Œå¼€å‘äººå‘˜è¶Šæ¥è¶Šå¤šåœ°å¯»æ±‚åˆ›æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥åˆ›å»ºæ›´å¤æ‚ã€æ›´äººæ€§åŒ–çš„èŠå¤©æœºå™¨äººã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥ç ”ç©¶æ”¯æŒå¼€å‘èŠå¤©æœºå™¨äººæŠ€æœ¯ï¼šä½¿ç”¨LangChainæ¡†æ¶æ„å»ºçš„Alpacaï¼Œä¸ºæœ‰å…´è¶£åˆ›å»ºè‡ªå·±çš„èŠå¤©æœºå™¨äººæˆ–æ”¹è¿›ç°æœ‰èŠå¤©æœºå™¨äººçš„äººæä¾›å‚è€ƒã€‚å‡†å¤‡å¥½è¸ä¸ŠèŠå¤©æœºå™¨äººåˆ›å»ºæŠ€æœ¯é¢†åŸŸçš„æ—…ç¨‹ï¼Œæˆ‘ä»¬å°†æ­å¼€ Alpaca éå‡¡å¯¹è¯èƒ½åŠ›èƒŒåçš„ç§˜å¯†ã€‚
é¦–å…ˆï¼Œæ‚¨éœ€è¦ä»HuggingFaceå®‰è£…Transformersåº“ã€‚é€šè¿‡ pip ä½¿ç”¨ Python åŒ…ç´¢å¼• ï¼ˆPyPIï¼‰ æä¾›çš„ç‰ˆæœ¬ï¼Œæˆ‘å»ºè®®ç›´æ¥ä» GitHub ä¸Šçš„ä¸»åˆ†æ”¯å®‰è£…å®ƒã€‚è¿™å¯ç¡®ä¿æ‚¨æœ‰æƒè®¿é—®æ­¤é¡¹ç›®æ‰€éœ€çš„æœ€æ–°ç‰ˆæœ¬å’Œæ¨¡å‹ã€‚
è¦ä» GitHub å®‰è£…è½¬æ¢å™¨ï¼Œåªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
pip install git+https://github.com/huggingface/transformers.git ç°åœ¨ï¼Œè®©æˆ‘ä»¬è°ˆè°ˆå°†Hugging Face LLMï¼ˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼‰åŒ…è£…å™¨ä¸LangChainæ¡†æ¶é›†æˆåœ¨ä¸€èµ·ã€‚LangChainå…è®¸æ— ç¼é›†æˆå„ç§AIæ¨¡å‹å’Œæ ‡è®°å™¨ï¼Œä½¿å…¶æˆä¸ºæ„å»ºAlpacaçš„å®Œç¾é€‰æ‹©ã€‚
ä»¥ä¸‹æ˜¯åœ¨ LangChain ä¸­ä½¿ç”¨HuggingFace LLM æ‰€æ¶‰åŠçš„æ­¥éª¤çš„æ¦‚è¿°ï¼š
å¯¼å…¥æ‰€éœ€çš„åº“å’Œæ¨¡å—ï¼Œä¾‹å¦‚ Transformer å’Œ LangChainã€‚ ä½¿ç”¨é€‚å½“çš„embeddingæ¨¡å‹å’Œå‘é‡åº“ï¼Œæ„å»ºä¸ªæ€§åŒ–çŸ¥è¯†åº“ ã€‚ LangChain æ¥å¤„ç†å’Œç”Ÿæˆå“åº”ã€‚ from langchain.embeddings import HuggingFaceEmbeddings from langchain.chains import RetrievalQA from langchain.indexes import VectorstoreIndexCreator from langchain.text_splitter import CharacterTextSplitter from langchain.text_splitter import TokenTextSplitter from langchain.text_splitter import RecursiveCharacterTextSplitter from langchain.vectorstores import Chroma from langchain.document_loaders import TextLoader from langchain.document_loaders import DirectoryLoader import torch EMBEDDING_DEVICE = "cuda" if torch.cuda.is_available() else "mps" #æˆ‘æ²¡æœ‰Nå¡ï¼Œåªèƒ½å°†å°±ä½¿ç”¨M1çš„mpsåŠ é€Ÿ ä¸€ã€å»ºç«‹çŸ¥è¯†åº“ 1.1 ä¸­æ–‡ embedding è¿™é‡Œä½¿ç”¨ text2vec-large-chinese æ¨¡å‹å®ç°embedding https://huggingface.co/GanymedeNil/text2vec-large-chinese
embedding_model_name='./EmbeddingsModel/text2vec-large-chinese' embeddings = HuggingFaceEmbeddings(model_name=embedding_model_name, model_kwargs={'device': EMBEDDING_DEVICE}) 1.2 æœ¬åœ°ç›®å½•ä¸‹çš„çŸ¥è¯†åº“åŠ è½½ loader = DirectoryLoader('./docs/', glob='**/*.txt',show_progress=True) # å°†æ•°æ®è½¬æˆ document å¯¹è±¡ï¼Œæ¯ä¸ªæ–‡ä»¶ä¼šä½œä¸ºä¸€ä¸ª document documents = loader.load() # åˆå§‹åŒ–åŠ è½½å™¨ text_splitter = CharacterTextSplitter(chunk_size=100, chunk_overlap=0) # åˆ‡å‰²åŠ è½½çš„ document split_docs = text_splitter.split_documents(documents) 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:00&lt;00:00, 9.61it/s] 1.3 ä½¿ç”¨Chromaå‘é‡åº“ï¼Œå°†Embeddingæ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ persist_directory = './db' docsearch = Chroma.from_documents(split_docs, embeddings,persist_directory=persist_directory) docsearch.persist() Using embedded DuckDB with persistence: data will be stored in: ./db 1.4 Chromaå‘é‡åº“åŠ è½½ # åŠ è½½æ•°æ® docsearch = Chroma(persist_directory=persist_directory, embedding_function=embeddings) Using embedded DuckDB with persistence: data will be stored in: ./db 1.5 å°è¯•æŸ¥è¯¢å‘é‡åº“ å°è¯•ç”¨ä¸€ä¸ªæé—®æ¥æŸ¥è¯¢å‘é‡åº“çš„å…³è”å†…å®¹
query = "ä»‹ç»ä¸‹å§šæ˜" docs = docsearch.similarity_search(query, k=1) docs å¯ä»¥çœ‹åˆ°é€šè¿‡æŸ¥è¯¢ï¼Œè¿”å›ç›¸å…³åº“æœ€é«˜çš„è®°å½•
[Document(page_content='å§šæ˜ï¼ˆYao Mingï¼‰ï¼Œç”·ï¼Œæ±‰æ—ï¼Œæ— å…šæ´¾äººå£«ï¼Œ1980å¹´9æœˆ12æ—¥å‡ºç”Ÿäºä¸Šæµ·å¸‚å¾æ±‡åŒºï¼Œç¥–ç±æ±Ÿè‹çœè‹å·å¸‚å´æ±ŸåŒºéœ‡æ³½é•‡ï¼Œå‰ä¸­å›½èŒä¸šç¯®çƒè¿åŠ¨å‘˜ï¼Œå¸èŒä¸­é”‹ï¼Œç°ä»»äºšæ´²ç¯®çƒè”åˆä¼šä¸»å¸­ã€ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿å…¼æ€»ç»ç†ï¼Œ [1-3] åä¸‰å±Šå…¨å›½é’è”å‰¯ä¸»å¸­ï¼Œ [4] æ”¹é©å…ˆé”‹å¥–ç« è·å¾—è€…ã€‚ [5] ç¬¬åå››å±Šå…¨å›½äººå¤§ä»£è¡¨ [108] ã€‚ 1998å¹´4æœˆï¼Œå§šæ˜å…¥é€‰ç‹éæ‰§æ•™çš„å›½å®¶é˜Ÿï¼Œå¼€å§‹ç¯®çƒç”Ÿæ¶¯ã€‚2001å¤ºå¾—CBAå¸¸è§„èµ›MVPï¼Œ2002å¹´å¤ºå¾—CBAæ€»å† å†›ä»¥åŠæ€»å†³èµ›MVPï¼Œåˆ†åˆ«3æ¬¡å½“é€‰CBAç¯®æ¿ç‹ä»¥åŠç›–å¸½ç‹ï¼Œ2æ¬¡å½“é€‰CBAæ‰£ç¯®ç‹ã€‚åœ¨2002å¹´NBAé€‰ç§€ä¸­ï¼Œä»–ä»¥çŠ¶å…ƒç§€èº«ä»½è¢«NBAçš„ä¼‘æ–¯æ•¦ç«ç®­é˜Ÿé€‰ä¸­ï¼Œ2003-09å¹´è¿ç»­6ä¸ªèµ›å­£ï¼ˆç”Ÿæ¶¯å…±8æ¬¡ï¼‰å…¥é€‰NBAå…¨æ˜æ˜Ÿèµ›é˜µå®¹ï¼Œ2æ¬¡å…¥é€‰NBAæœ€ä½³é˜µå®¹äºŒé˜µï¼Œ3æ¬¡å…¥é€‰NBAæœ€ä½³é˜µå®¹ä¸‰é˜µã€‚2009å¹´ï¼Œå§šæ˜æ”¶è´­ä¸Šæµ·ç”·ç¯®ï¼Œæˆä¸ºä¸Šæµ·ä¹…äº‹å¤§é²¨é±¼ä¿±ä¹éƒ¨è€æ¿ã€‚2011å¹´7æœˆ20æ—¥ï¼Œå§šæ˜å®£å¸ƒé€€å½¹ã€‚ 2013å¹´ï¼Œå§šæ˜å½“é€‰ä¸ºç¬¬åäºŒå±Šå…¨å›½æ”¿åå§”å‘˜ã€‚2015å¹´2æœˆ10æ—¥ï¼Œå§šæ˜æ­£å¼æˆä¸ºåŒ—äº¬ç”³åŠå†¬å­£å¥¥æ—åŒ¹å…‹è¿åŠ¨ä¼šå½¢è±¡å¤§ä½¿ä¹‹ä¸€ã€‚2016å¹´4æœˆ4æ—¥ï¼Œå§šæ˜æ­£å¼å…¥é€‰2016å¹´å¥ˆå²å¯†æ–¯ç¯®çƒåäººçºªå¿µå ‚ï¼Œæˆä¸ºé¦–ä½è·æ­¤æ®Šè£çš„ä¸­å›½äººï¼›10æœˆï¼Œå§šæ˜æˆä¸ºä¸­å›½â€œç«æ˜Ÿå¤§ä½¿â€ï¼›11æœˆï¼Œå½“é€‰CBAå…¬å¸å‰¯è‘£äº‹é•¿ã€‚ [6] 2017å¹´10æœˆ20æ—¥ï¼Œå§šæ˜å·²å°†ä¸Šæµ·å“”å“©å“”å“©ä¿±ä¹éƒ¨å…¨éƒ¨è‚¡æƒè½¬è®©ã€‚ [7] 2018å¹´9æœˆï¼Œè£è·ç¬¬åå±Šâ€œä¸­åæ…ˆå–„å¥–â€æ…ˆå–„æ¥·æ¨¡å¥–é¡¹ã€‚ [8] 2019å¹´10æœˆ28æ—¥ï¼Œèƒ¡æ¶¦ç ”ç©¶é™¢å‘å¸ƒã€Š2019èƒ¡æ¶¦80åç™½æ‰‹èµ·å®¶å¯Œè±ªæ¦œã€‹ï¼Œå§šæ˜ä»¥22äº¿å…ƒæ’åç¬¬48ã€‚', metadata={'source': 'docs/å§šæ˜.txt'}) ] äºŒã€LLM è¯­è¨€æ¨¡å‹ æˆ‘ä½¿ç”¨LlamaCppåŠ è½½Alpaca 13Bçš„4bité‡åŒ–æ¨¡å‹ï¼Œå¦‚æœä½ æœ‰ç‹¬ç«‹GPUï¼Œå¯ä»¥å°è¯•åŠ è½½æ›´å¤§çš„æ¨¡å‹ï¼Œåœ¨æˆ‘çš„M1 Airä¸Šï¼Œ13Bçš„4bité‡åŒ–æ¨¡å‹å·²ç»æ˜¯æé™ã€‚
from langchain.llms import LlamaCpp from langchain.callbacks.streaming_stdout import StreamingStdOutCallbackHandler from langchain import PromptTemplate,LLMChain from langchain.vectorstores import Chroma åŠ è½½å‘é‡åº“
persist_directory = './db' db = Chroma(persist_directory=persist_directory, embedding_function=embeddings) Using embedded DuckDB with persistence: data will be stored in: ./db callbacks = [StreamingStdOutCallbackHandler()] 2.1 åŠ è½½LLMæ¨¡å‹ Mac Mç³»åˆ—èŠ¯ç‰‡ åŠ è½½æ¨¡å‹åï¼Œå¦‚æœNEON = 1æ˜¾ç¤º ï¼Œåˆ™è¡¨ç¤ºæ­£å¸¸ï¼›NEON = 0è¯´æ˜æ²¡æœ‰æŒ‰ç…§arm64æ¶æ„æ­£ç¡®å®‰è£…ã€‚
local_llm = LlamaCpp(model_path="./zh-models/13B/ggml-model-q4_0.bin", n_ctx=2048, callbacks=callbacks, verbose=False) llama.cpp: loading model from /Users/fupengcheng/Documents/llama.cpp/zh-models/13B/ggml-model-q4_0.bin llama_model_load_internal: format = ggjt v3 (latest) llama_model_load_internal: n_vocab = 49954 llama_model_load_internal: n_ctx = 2048 llama_model_load_internal: n_embd = 5120 llama_model_load_internal: n_mult = 256 llama_model_load_internal: n_head = 40 llama_model_load_internal: n_layer = 40 llama_model_load_internal: n_rot = 128 llama_model_load_internal: ftype = 2 (mostly Q4_0) llama_model_load_internal: n_ff = 13824 llama_model_load_internal: n_parts = 1 llama_model_load_internal: model size = 13B llama_model_load_internal: ggml ctx size = 0.09 MB llama_model_load_internal: mem required = 9130.33 MB (+ 1608.00 MB per state) . llama_init_from_file: kv self size = 1600.00 MB AVX = 0 | AVX2 = 0 | AVX512 = 0 | AVX512_VBMI = 0 | AVX512_VNNI = 0 | FMA = 0 | NEON = 1 | ARM_FMA = 1 | F16C = 0 | FP16_VA = 1 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 0 | VSX = 0 | 2.2 ç›´æ¥æé—® output = local_llm("Q: â€œé—®é—®ä»–é—®ä»€ä¹ˆé—®é¢˜â€è¿™å¥è¯æ˜¯ä»€ä¹ˆæ„æ€ A: ") #, max_tokens=512, stop=["Q:", "\n"], echo=True) æ„æ€æ˜¯â€œè¯¢é—®æŸäººæŸä»¶äº‹æƒ…â€ã€‚ 2.3 ç»“åˆå‘é‡åº“çš„å†…å®¹æé—® retriever = db.as_retriever(search_kwargs={"k": 2}) qa = RetrievalQA.from_chain_type(llm=local_llm, chain_type="stuff", retriever=retriever, return_source_documents= True) res = qa("å§šæ˜æ˜¯è°?") Llama.generate: prefix-match hit å§šæ˜ï¼ˆYao Mingï¼‰æ˜¯å‰ä¸­å›½èŒä¸šç¯®çƒè¿åŠ¨å‘˜ã€ç°ä»»äºšæ´²ç¯®çƒè”åˆä¼šä¸»å¸­ã€ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿å…¼æ€»ç»ç†ï¼Œ1993å¹´å…¥é€‰å›½å°‘é˜Ÿï¼Œ1998å¹´è¿›å…¥ä¼‘æ–¯æ•¦ç«ç®­é˜Ÿã€‚ answer, docs = res['result'], res['source_documents'] è¿™é‡Œæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ï¼Œé€šè¿‡RetrievalQAçš„è¿”å›ï¼Œansweræ˜¯llmçš„ç­”æ¡ˆï¼Œdocsæ˜¯å‘é‡åº“ç›¸å…³æ€§æœç´¢åæä¾›ç»™llmçš„prompt
answer ' å§šæ˜ï¼ˆYao Mingï¼‰æ˜¯å‰ä¸­å›½èŒä¸šç¯®çƒè¿åŠ¨å‘˜ã€ç°ä»»äºšæ´²ç¯®çƒè”åˆä¼šä¸»å¸­ã€ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿å…¼æ€»ç»ç†ï¼Œ1993å¹´å…¥é€‰å›½å°‘é˜Ÿï¼Œ1998å¹´è¿›å…¥ä¼‘æ–¯æ•¦ç«ç®­é˜Ÿã€‚' docs [Document(page_content='å§šæ˜ï¼ˆYao Mingï¼‰ï¼Œç”·ï¼Œæ±‰æ—ï¼Œæ— å…šæ´¾äººå£«ï¼Œ1980å¹´9æœˆ12æ—¥å‡ºç”Ÿäºä¸Šæµ·å¸‚å¾æ±‡åŒºï¼Œç¥–ç±æ±Ÿè‹çœè‹å·å¸‚å´æ±ŸåŒºéœ‡æ³½é•‡ï¼Œå‰ä¸­å›½èŒä¸šç¯®çƒè¿åŠ¨å‘˜ï¼Œå¸èŒä¸­é”‹ï¼Œç°ä»»äºšæ´²ç¯®çƒè”åˆä¼šä¸»å¸­ã€ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿å…¼æ€»ç»ç†ï¼Œ [1-3] åä¸‰å±Šå…¨å›½é’è”å‰¯ä¸»å¸­ï¼Œ [4] æ”¹é©å…ˆé”‹å¥–ç« è·å¾—è€…ã€‚ [5] ç¬¬åå››å±Šå…¨å›½äººå¤§ä»£è¡¨ [108] ã€‚ 1998å¹´4æœˆï¼Œå§šæ˜å…¥é€‰ç‹éæ‰§æ•™çš„å›½å®¶é˜Ÿï¼Œå¼€å§‹ç¯®çƒç”Ÿæ¶¯ã€‚2001å¤ºå¾—CBAå¸¸è§„èµ›MVPï¼Œ2002å¹´å¤ºå¾—CBAæ€»å† å†›ä»¥åŠæ€»å†³èµ›MVPï¼Œåˆ†åˆ«3æ¬¡å½“é€‰CBAç¯®æ¿ç‹ä»¥åŠç›–å¸½ç‹ï¼Œ2æ¬¡å½“é€‰CBAæ‰£ç¯®ç‹ã€‚åœ¨2002å¹´NBAé€‰ç§€ä¸­ï¼Œä»–ä»¥çŠ¶å…ƒç§€èº«ä»½è¢«NBAçš„ä¼‘æ–¯æ•¦ç«ç®­é˜Ÿé€‰ä¸­ï¼Œ2003-09å¹´è¿ç»­6ä¸ªèµ›å­£ï¼ˆç”Ÿæ¶¯å…±8æ¬¡ï¼‰å…¥é€‰NBAå…¨æ˜æ˜Ÿèµ›é˜µå®¹ï¼Œ2æ¬¡å…¥é€‰NBAæœ€ä½³é˜µå®¹äºŒé˜µï¼Œ3æ¬¡å…¥é€‰NBAæœ€ä½³é˜µå®¹ä¸‰é˜µã€‚2009å¹´ï¼Œå§šæ˜æ”¶è´­ä¸Šæµ·ç”·ç¯®ï¼Œæˆä¸ºä¸Šæµ·ä¹…äº‹å¤§é²¨é±¼ä¿±ä¹éƒ¨è€æ¿ã€‚2011å¹´7æœˆ20æ—¥ï¼Œå§šæ˜å®£å¸ƒé€€å½¹ã€‚ 2013å¹´ï¼Œå§šæ˜å½“é€‰ä¸ºç¬¬åäºŒå±Šå…¨å›½æ”¿åå§”å‘˜ã€‚2015å¹´2æœˆ10æ—¥ï¼Œå§šæ˜æ­£å¼æˆä¸ºåŒ—äº¬ç”³åŠå†¬å­£å¥¥æ—åŒ¹å…‹è¿åŠ¨ä¼šå½¢è±¡å¤§ä½¿ä¹‹ä¸€ã€‚2016å¹´4æœˆ4æ—¥ï¼Œå§šæ˜æ­£å¼å…¥é€‰2016å¹´å¥ˆå²å¯†æ–¯ç¯®çƒåäººçºªå¿µå ‚ï¼Œæˆä¸ºé¦–ä½è·æ­¤æ®Šè£çš„ä¸­å›½äººï¼›10æœˆï¼Œå§šæ˜æˆä¸ºä¸­å›½â€œç«æ˜Ÿå¤§ä½¿â€ï¼›11æœˆï¼Œå½“é€‰CBAå…¬å¸å‰¯è‘£äº‹é•¿ã€‚ [6] 2017å¹´10æœˆ20æ—¥ï¼Œå§šæ˜å·²å°†ä¸Šæµ·å“”å“©å“”å“©ä¿±ä¹éƒ¨å…¨éƒ¨è‚¡æƒè½¬è®©ã€‚ [7] 2018å¹´9æœˆï¼Œè£è·ç¬¬åå±Šâ€œä¸­åæ…ˆå–„å¥–â€æ…ˆå–„æ¥·æ¨¡å¥–é¡¹ã€‚ [8] 2019å¹´10æœˆ28æ—¥ï¼Œèƒ¡æ¶¦ç ”ç©¶é™¢å‘å¸ƒã€Š2019èƒ¡æ¶¦80åç™½æ‰‹èµ·å®¶å¯Œè±ªæ¦œã€‹ï¼Œå§šæ˜ä»¥22äº¿å…ƒæ’åç¬¬48ã€‚', metadata={'source': 'docs/å§šæ˜.txt'}), Document(page_content='ç§‘æ¯”Â·å¸ƒè±æ©ç‰¹ï¼ˆKobe Bryantï¼Œ1978å¹´8æœˆ23æ—¥â€”2020å¹´1æœˆ26æ—¥ï¼‰ï¼Œå…¨åç§‘æ¯”Â·æ¯”æ©Â·å¸ƒè±æ©ç‰¹Â·è€ƒå…‹æ–¯ï¼ˆKobe Bean Bryant Coxï¼‰ï¼Œå‡ºç”Ÿäºç¾å›½å®¾å¤•æ³•å°¼äºšå·è´¹åŸï¼Œç¾å›½å·²æ•…ç¯®çƒè¿åŠ¨å‘˜ï¼Œå¸èŒå¾—åˆ†åå«/å°å‰é”‹ã€‚ [5] [24] [84] 1996å¹´NBAé€‰ç§€ï¼Œç§‘æ¯”äºç¬¬1è½®ç¬¬13é¡ºä½è¢«å¤æ´›ç‰¹é»„èœ‚é˜Ÿé€‰ä¸­å¹¶è¢«äº¤æ˜“è‡³æ´›æ‰çŸ¶æ¹–äººé˜Ÿï¼Œæ•´ä¸ªNBAç”Ÿæ¶¯éƒ½æ•ˆåŠ›äºæ´›æ‰çŸ¶æ¹–äººé˜Ÿï¼›å…±è·å¾—5æ¬¡NBAæ€»å† å†›ã€1æ¬¡NBAå¸¸è§„èµ›MVPã€2æ¬¡NBAæ€»å†³èµ›MVPã€4æ¬¡NBAå…¨æ˜æ˜Ÿèµ›MVPã€2æ¬¡NBAèµ›å­£å¾—åˆ†ç‹ï¼›å…±å…¥é€‰NBAå…¨æ˜æ˜Ÿé¦–å‘é˜µå®¹18æ¬¡ã€NBAæœ€ä½³é˜µå®¹15æ¬¡ï¼ˆå…¶ä¸­ä¸€é˜µ11æ¬¡ã€äºŒé˜µ2æ¬¡ã€ä¸‰é˜µ2æ¬¡ï¼‰ã€NBAæœ€ä½³é˜²å®ˆé˜µå®¹12æ¬¡ï¼ˆå…¶ä¸­ä¸€é˜µ9æ¬¡ã€äºŒé˜µ3æ¬¡ï¼‰ã€‚ [9] [24] 2007å¹´ï¼Œç§‘æ¯”é¦–æ¬¡å…¥é€‰ç¾å›½å›½å®¶ç”·å­ç¯®çƒé˜Ÿï¼Œåå¸®åŠ©ç¾å›½é˜Ÿå¤ºå¾—2007å¹´ç¾æ´²ç”·ç¯®é”¦æ ‡èµ›é‡‘ç‰Œã€2008å¹´åŒ—äº¬å¥¥è¿ä¼šç”·å­ç¯®çƒé‡‘ç‰Œä»¥åŠ2012å¹´ä¼¦æ•¦å¥¥è¿ä¼šç”·å­ç¯®çƒé‡‘ç‰Œã€‚ [91] 2015å¹´11æœˆ30æ—¥ï¼Œç§‘æ¯”å‘æ–‡å®£å¸ƒå°†åœ¨èµ›å­£ç»“æŸåé€€å½¹ã€‚ [100] 2017å¹´12æœˆ19æ—¥ï¼Œæ¹–äººé˜Ÿä¸ºç§‘æ¯”ä¸¾è¡Œçƒè¡£é€€å½¹ä»ªå¼ã€‚ [22] 2020å¹´4æœˆ5æ—¥ï¼Œç§‘æ¯”å…¥é€‰å¥ˆÂ·å²å¯†æ–¯ç¯®çƒåäººçºªå¿µå ‚ã€‚ [7] ç¾å›½æ—¶é—´2020å¹´1æœˆ26æ—¥ï¼ˆåŒ—äº¬æ—¶é—´2020å¹´1æœˆ27æ—¥ï¼‰ï¼Œç§‘æ¯”å› ç›´å‡æœºäº‹æ•…é‡éš¾ï¼Œäº«å¹´41å²ã€‚ [23]', metadata={'source': 'docs/ç§‘æ¯”.txt'})] 2.4 å…¶å®ƒå°è¯• res = qa("å§šæ˜ä»€ä¹ˆæ—¶å€™é€€å½¹?") Llama.generate: prefix-match hit 2011å¹´7æœˆ20æ—¥ï¼Œå§šæ˜å®£å¸ƒé€€ä¼‘ã€‚ res = qa("å§šæ˜æ‹…ä»»è¿‡æ”¿åå§”å‘˜å—?") Llama.generate: prefix-match hit æ˜¯çš„ï¼Œæ ¹æ®èµ„æ–™ï¼Œ2013å¹´11æœˆ14æ—¥ï¼Œæ”¿åç¬¬åä¸€å±Šå…¨å›½å§”å‘˜ä¼šå¸¸åŠ¡å§”å‘˜ä¼šç¬¬ä¸€æ¬¡ä¼šè®®é€šè¿‡äº†æ”¿åå‰¯ä¸»å¸­ç‹å®¶ç‘ä»£è¡¨ææ¡ˆï¼Œå†³å®šé€‰å‡ºç¬¬åä¸‰å±Šä¸­å›½äººæ°‘å¤§ä¼šå‘˜ã€‚å§šè®°ç¯®çƒä¿±ä¹éƒ¨ï¼Œå§šæ˜å½“é€‰æ”¿åå§”å‘˜ã€‚ res = qa("å§šæ˜å‡ æ¬¡å…¥é€‰å…¨æ˜æ˜Ÿèµ›é˜µå®¹ï¼Ÿ") Llama.generate: prefix-match hit å§šæ˜åœ¨èŒä¸šç”Ÿæ¶¯ä¸­å…±è·å¾—äº†5æ¬¡NBAå…¨æ˜æ˜Ÿèµ›çš„å‡ºåœºèµ„æ ¼ã€‚ res=qa("ä»‹ç»ä¸€ä¸‹é©¬ä¿å›½") Llama.generate: prefix-match hit é©¬ä¿å›½ï¼ˆ1958å¹´-ï¼‰æ˜¯ä¸­å›½æ­¦æœ¯è¡¨æ¼”è‰ºæœ¯å®¶ã€æ··å…ƒå¤ªææ‹³åä¼šåˆ›å§‹äººï¼Œè‡ªç§°â€œæµ‘å…ƒå½¢æ„å¤ªææ‹³æŒé—¨äººâ€ã€‚</content></entry><entry><title>å…³äºä¸­å›½äººå¯¹chatGPTçƒ­æƒ…åº¦é«˜è¿™å›äº‹</title><url>http://www.luckfu.com/post/2023-04-08_gpt_of_china/</url><categories><category>GPT</category><category>chatGPT</category></categories><tags><tag>GPT</tag><tag>chatGPT</tag></tags><content type="html"> chatGPTæ˜¯æœ€è¿‘çˆ†è£‚çš„å…³æ³¨çƒ­ç‚¹ï¼Œä»å»å¹´12æœˆå¼€å§‹æŠŠç©ï¼Œç›´åˆ°æœ€è¿‘å°ç¦æ‰€æœ‰IDCçš„ipï¼Œæ¥è‡ªâ€œç¾å¸å›½ä¸»ä¹‰çš„å¡è„–å­â€è¡Œä¸ºå¹¶æ²¡æœ‰è®©å›½äººçš„å…³æ³¨åº¦æ¶ˆé€€ã€‚
å½“çœ‹åˆ°å›½é—¨å¤–çš„åŒå¿—ä»¬æŠ±æ€¨openaiä»˜è´¹å…³é—­æ— æ³•ä½¿ç”¨GPT4çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿™äº›å¤§å›½æ°‘è¿˜åœ¨ä¸ºèƒ½ä½¿ç”¨gtp3.5è€Œå‹¤å¥‹çˆ¬å¢™ã€‚tgä¸Šç¬‘çœ‹å„ç§ä»˜è´¹æœºåœºè¢«openaiè¯†åˆ«æ— æ³•ä½¿ç”¨çš„å“€åšï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªä»æ¥ä¸ç”¨æœºåœºçš„äººæƒ³è¯´ï¼Œå…¶å®ä¹Ÿä¸æ˜¯å®Œå…¨æ²¡æœ‰åŠæ³•ã€‚
ä½¿ç”¨å¾®è½¯azureå…è´¹ä¸€å¹´çš„ä¸»æœºï¼Œæœºæˆ¿é€‰ç¾å›½ï¼Œå®ƒå®¶çš„æœåŠ¡å™¨ipæ˜¯å¯ä»¥æ­£ç»ä½¿ç”¨chatGPTå’Œnew bingçš„ï¼Œè™½ç„¶æœ‰æ¯ä¸ªæœˆçš„æµé‡é™åˆ¶ï¼Œä½†èŠèƒœäºæ— å˜›ã€‚
é‚£æœ‰çš„åŒå¿—è¦é—®äº†ï¼Œä¸€å¹´ä¹‹åå‘¢ï¼Ÿ ä¸€å¹´ä¹‹åçš„äº‹å„¿ï¼Œæƒ³é‚£ä¹ˆè¿œå¹²å•¥å‘¢ï¼</content></entry><entry><title>Metabaseä½¿ç”¨walletè¿æ¥oracle cloud çš„è‡ªæ²»æ•°æ®åº“</title><url>http://www.luckfu.com/post/2022-09-25_metabase_oracle_wallet/</url><categories><category>Metabase</category><category>oracle cloud</category><category>oracle</category></categories><tags><tag>Metabase</tag><tag>oracle cloud</tag><tag>oracle</tag></tags><content type="html"> æœ€è¿‘åœ¨Oracle Cloud Free Tier ä¸Šéƒ¨ç½²ä½¿ç”¨metabase åˆ†æå·¥å…·ï¼Œç”±äºoracleæä¾›çš„å…è´¹è‡ªæ²»æ•°æ®åº“æ˜¯ä½¿ç”¨walletè¿æ¥ï¼ŒMetabaseéƒ¨ç½²æ–‡æ¡£ä¸­æ²¡æœ‰æ˜ç¡®è¯´æ˜å¦‚ä½•ä½¿ç”¨Oracle Walletè¿æ¥æ•°æ®åº“ï¼Œç»è¿‡å¤šç•ªå°è¯•ï¼Œåœ¨java vmå¯åŠ¨å‚æ•°ä¸­å°†oracle walletç¯å¢ƒé…ç½®å¥½ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿æ¥åˆ°å…è´¹çš„oracle è‡ªæ²»æ•°æ®åº“ã€‚
é…ç½®æ­¥éª¤
1 ä¸‹è½½ metabase wget https://downloads.metabase.com/v0.44.3/metabase.jar 2ã€è¿è¡Œ java -jar metabase.jar è¿è¡Œé€€å‡ºåï¼Œå¯ä»¥çœ‹åˆ°ï¼ŒåŒçº§ç›®å½•ä¸‹ï¼Œæœ‰ä¸€ä¸ª plugins ç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸‹è½½çš„ojdbcé©±åŠ¨ä¿å­˜åœ¨è¿™ä¸ªç›®å½•ä¸‹
3ã€ä¸‹è½½oracleé©±åŠ¨ ä» https://www.oracle.com/database/technologies/appdev/jdbc-downloads.htmlä¸‹è½½ ojdbc11-full.tar.gz
è®°ä½ï¼Œä¸€å®šè¦ä¸‹è½½ ojdbcxx-fullçš„é©±åŠ¨æ–‡ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨walletæ—¶ä¸ä»…éœ€è¦ojdbc11.jar,è¿˜éœ€è¦oraclepki.jar,osdt_cert.jarå’Œosdt_core.jar
4ã€å¸¦å‚æ•°è¿è¡Œmetabase java -classpath ./plugins/oraclepki.jar:./plugins/osdt_cert.jar:./plugins/osdt_core.jar:. \ -Doracle.net.tns_admin=/data/instantclient_19_10/network/admin \ -Doracle.net.wallet_location="(SOURCE=(METHOD=file)(METHOD_DATA=(DIRECTORY=/data/instantclient_19_10/network/admin)))" \ -Doracle.net.ssl_server_dn_match=true -jar metabase.jar å‚æ•°ï¼š
Doracle.net.tns_admin : instantclientçš„adminç›®å½• Doracle.net.wallet_location : walletç›®å½• 5ã€æ·»åŠ æ•°æ®åº“è¿æ¥ æ‰“å¼€walletåŒ…ä¸­çš„tnsnames.oraæ–‡ä»¶ï¼ŒæŸ¥çœ‹high,low,mediumä¸­çš„ä»»æ„ä¸€é¡¹é…ç½®ï¼Œå–å€¼ï¼š
host service_name Metabaseä¸­ï¼Œæ–°å¢ORACLEæ•°æ®åº“ï¼Œå‚æ•°é…ç½®å¦‚ä¸‹å›¾ï¼š ä¿å­˜é…ç½®å®Œæˆæµ‹è¯•</content></entry><entry><title>Ftpè¯»å–æ–‡ä»¶åˆ°BytesIOç¼“å­˜è¯»æ–‡ä»¶</title><url>http://www.luckfu.com/post/2022-09-17_python_ftp_bytesio/</url><categories><category>python</category><category>FTP</category><category>BytesIO</category></categories><tags><tag>python</tag></tags><content type="html"> ä»ftpæœåŠ¡å™¨è¯»æ–‡ä»¶åˆ°å†…å­˜ä¸åœ¨å®¢æˆ·ç«¯ç”Ÿæˆæœ¬åœ°æ–‡ä»¶
def openFtpFileBytesIO(fileName,ftpServer,ftpUser='anonymous',ftpPass='',port=21): """ è¯»ftpæ–‡ä»¶åˆ°ç¼“å­˜ """ ftps = FTP() ftps.connect(ftpServer,port) ftps.login(ftpUser,ftpPass) download_file = BytesIO() ftps.retrbinary('RETR ' + str(fileName), download_file.write) download_file.seek(0) return download_file def readFile(f): while True: line = f.readline() if line: print(line) else: f.close() break if __name__=="__main__": f=openFtpFileBytesIO('test.csv','192.168.0.3') readFile(f)</content></entry><entry><title>Chromeçªç„¶å‡ºç°ç”±è´µå•ä½ç®¡ç†</title><url>http://www.luckfu.com/post/2022-07-09_chrome_managed_by_your_organisation/</url><categories><category>cloud vps</category><category>oracle</category></categories><tags><tag>chrome</tag><tag>æµæ°“è½¯ä»¶</tag><tag>Policy</tag></tags><content type="html"> ç½‘ä¸Šçˆ†å‡ºChromeæœ€è¿‘æ›´æ–°åï¼Œçªç„¶å‡ºç° â€œç”±è´µå•ä½ç®¡ç†â€ï¼Œæ£€æŸ¥äº†ä¸€ä¸‹æˆ‘çš„æœºå™¨ï¼Œmacéƒ½è¿˜å¥½ï¼Œä½†æ˜¯windows server 2018 é‚£å°æœºå™¨ä¸­æ‹›äº†
wtf ğŸ¤” è´µå•ä½æ˜¯å“ªä¸ªå•ä½ï¼Ÿæˆ‘å¸ï¼Ÿç”²æ–¹ï¼Ÿäº’è”ç½‘æµæ°“ï¼Ÿ
æŒ‰ç…§ç½‘ä¸Šçš„æ£€æŸ¥æ–¹å¼ï¼ŒæŸ¥äº†æ³¨å†Œè¡¨ï¼Œ\HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Google\Chromeä¸‹å¹¶æ²¡æœ‰EnabledPluginsé”®ï¼Œä¹Ÿå°±æ— ä»æŸ¥èµ·ï¼Œä¸çŸ¥é“å…·ä½“å“ªå®¶çš„"äº§å“"åœ¨ç›‘è§†ã€‚
ä½¿ç”¨Chromeæ”¿ç­–åˆ é™¤è„šæœ¬ä¹Ÿæ— æ•ˆ https://drive.google.com/uc?export=download&id=0B5uG-tHNHBj5XzNJbzlsd0NONnc
æ€€ç–‘ä¹‹æˆ‘å¸å®‰å…¨åŠ©æ‰‹
å„ç§æ­¤ç±»â€œå®‰å…¨åŠ©æ‰‹â€é€šå¸¸éƒ½æ˜¯â€œè”è½¯UniAccessâ€å¤–åŒ…ï¼Œè¿™ä¸ªè½¯ä»¶æœ¬èº«å°±æŒºæµæ°“ï¼Œä¼šç›‘è§†ä½ çš„ç½‘ç»œè®¿é—®ï¼Œè½¯ä»¶å®‰è£…åˆ—è¡¨ç­‰ï¼Œä½†æ˜¯æ¶‰åŠå¾ˆå¤šå…¬å¸çš„å†…ç½‘è®¿é—®ï¼Œå¤šæ•°æƒ…å†µä¸‹å®‰è£…å®ƒæ˜¯èº«ä¸ç”±å·±ï¼Œå¸è½½èµ·æ¥ä¹ŸæŒºéº»çƒ¦ï¼Œéœ€è¦å®‰å…¨æ¨¡å¼ä¸‹åˆ é™¤ç¨‹åºç›®å½• åˆ é™¤å®‰å…¨åŠ©æ‰‹å¹¶ä¸èƒ½è§£å†³é—®é¢˜ã€‚
å®‰è£…æ¥æºçš„ç–‘é—®ï¼Œè¿™å°æœºå™¨æ˜¯æ¥è‡ªè…¾è®¯äº‘åŒ—äº¬çš„æœåŠ¡å™¨ï¼Œæœ¬èº«æ˜¯ä¸èƒ½ç»•è¿‡å¢™è®¿é—®googleçš„ï¼Œé‚£ä¹ˆchromeå½“åˆæ˜¯ä»å“ªæ¥çš„ğŸ¤”ï¸ï¼Ÿæ˜¯åœ¨ä¸è®°å¾—å½“åˆçš„æ¥æºï¼Œåªèƒ½å°è¯•ä»å®˜æ–¹æºå†æ¬¡ä¸‹è½½ç¦»çº¿åŒ…æ¥å®‰è£…ä¸€æ¬¡ï¼Œå®‰è£…å‰ï¼Œå¸è½½ç³»ç»Ÿçš„chromeï¼Œåˆ é™¤æ³¨å†Œè¡¨ä¸­çš„google chromeé¡¹ç›®ã€‚é‡è£…åå†æ¬¡å¯åŠ¨ï¼Œé—®é¢˜è§£å†³
å†æ¬¡å®‰è£…æˆ‘å¸â€œå®‰å…¨åŠ©æ‰‹â€ï¼Œå¹¶æ²¡æœ‰å‡ºç°â€œç”±è´µå•ä½ç®¡ç†â€ï¼Œçœ‹æ¥å†¤æ‰è¿™ä¸ªæµæ°“äº†ã€‚
æœ€åçš„æ€»ç»“ï¼Œchrome è¦ä»å¯ä¿¡ä»»çš„æ¸ é“ä¸‹è½½ï¼Œæœ€å¥½ä»googleæºå¤´ä¸‹è½½ã€‚
ç–‘é—®ï¼Œè¿™ä¸ªâ€œå›¢ä¼™â€æ—¢ç„¶å·²ç»æ›´æ”¹äº†chromeçš„Policyï¼Œç”šè‡³åœ¨å¢™å†…èƒ½è‡ªç”±æ›´æ–°äº†ï¼Œè¿™æ¬¡ä¸ºç”šä¹ˆæ¯›ç³™åˆ°chromeæ–°ç‰ˆç›´æ¥å‡ºç°æç¤ºï¼Œæ”¹æºç å‘€ï¼Œåˆ«è®©å®ƒæ˜¾ç¤ºå‘€ã€‚</content></entry><entry><title>ç‰©å°½å…¶ç”¨</title><url>http://www.luckfu.com/post/2022-07-05_btop/</url><categories><category>ç”Ÿæ´»</category></categories><tags><tag>ç”Ÿæ´»</tag></tags><content type="html"> æŠŠCPUè·‘æ»¡å§ï¼ pandarallel https://nalepae.github.io/pandarallel/</content></entry><entry><title>DBeaver é€šè¿‡ wallet è¿æ¥ Oracle Free Cloud</title><url>http://www.luckfu.com/post/2022-06-29_dbeaver_to_oraclefree_cloud_with_wallet/</url><categories><category>cloud vps</category><category>oracle</category></categories><tags><tag>Oracle Cloud</tag><tag>Free VPS</tag><tag>Oracle</tag><tag>VM.Standard.A1.Flex</tag></tags><content type="html"> Oracle Cloudçš„å…è´¹å¥—é¤å¾ˆé¦™ï¼ŒDBeaveré€šè¿‡walletè¿æ¥oracleæ•°æ®åº“æœ‰äº›ç»†èŠ‚è®¾ç½®éœ€è¦æ³¨æ„ï¼Œä¸‹é¢è¯´æ˜è¯¦ç»†é…ç½®æ­¥éª¤ã€‚
ä¸€ã€ä¸‹è½½è¯ä¹¦é’±åŒ… oracle cloud ä»ªè¡¨ç›˜ä¸­ï¼Œæ‰¾åˆ°æ•°æ®åº“å®ä¾‹
å•å‡» DB è¿æ¥æŒ‰é’®ã€‚ç‚¹å‡»ä¸‹è½½ å®¢æˆ·ç«¯èº«ä»½è¯æ˜ wallet æŒ‰é’®
è®¾ç½®wallet å¯†ç 
è¿™é‡Œçš„å¯†ç å¹¶ä¸æ˜¯æ•°æ®åº“å¯†ç ï¼Œæ˜¯sslçš„è¯ä¹¦å¯†ç 
äºŒã€é…ç½®DBeaverçš„Oracleè¿æ¥ åœ¨ DBeaver ä¸­å®‰è£…é©±åŠ¨ç¨‹åºåï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“è¿æ¥ã€‚å•å‡»å¸¦æœ‰åŠ å·çš„æ’å¤´å¹¶é€‰æ‹© oracle
é€‰æ‹©tnsé€‰é¡¹å¡
è¿˜éœ€è¦å¯¼å…¥ Oracle çš„å¯†é’¥æ–‡ä»¶ï¼Œè¿™æ˜¯èƒ½å¦æ­£å¸¸è¿æ¥çš„å…³é”®ã€‚ç‚¹å‡»â€œé©±åŠ¨å±æ€§â€é€‰é¡¹å¡ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä»¥è¡¨æ ¼å½¢å¼æ˜¾ç¤ºçš„æ€»å‚æ•°åˆ—è¡¨ï¼Œå‘ä¸‹æ»šåŠ¨å¤§çº¦ 1 é¡µï¼Œæ‚¨å°†çœ‹åˆ°éœ€è¦è®¾ç½®çš„å‚æ•°ï¼Œå®ƒä»¬æ˜¯ :
é©±åŠ¨å±æ€§ å€¼ javax.net.ssl.keyStore è·¯å¾„/keystore.jks avax.net.ssl.keyStorePassword walletå¯†ç  javax.net.ssl.trustStore è·¯å¾„/truststore.jks java.net.ssl.trustStorePassword walletå¯†ç  ï½œ å¡«å†™walletè·¯å¾„ä¸‹çš„truststore.jksã€‚å¯†ç æ˜¯ ä¸‹è½½ oracle walletæ—¶è®¾ç½®çš„å¯†ç 
æµ‹è¯•è¿æ¥&hellip;&hellip;</content></entry><entry><title>python å¿«é€Ÿåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«ä¸­æ–‡</title><url>http://www.luckfu.com/post/2022-06-21_str_contain_chinese/</url><categories><category>python</category></categories><tags><tag>python</tag></tags><content type="html"> äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œæœ€è¿‘ä¼˜åŒ–ä¸€ä¸ªæ•°æ®å¯¼å‡ºç¨‹åºï¼Œæ•°æ®åº“æ˜¯UTF-8ï¼Œè¦æ±‚å¯¼å‡ºæ–‡ä»¶ç¼–ç ä¸ºGBK,åœ¨pythonä¸­,ä¼ ç»Ÿçš„å†™æ³•:
xxx.decode('utf-8').encode('gbk','ignore') ä½†decodeå’Œencodeåœ¨ä¸€ä¸ªå‡ åƒä¸‡è¡Œçš„æ–‡ä»¶å¯¼å‡ºæ—¶ï¼Œè€—æ—¶å¤ªé•¿ï¼Œç²—ç•¥æµ‹è¯•ä¸åšdecodeçš„å¯¼å‡ºï¼Œè‡³å°‘æ€§èƒ½æé«˜ä¸‰å€ï¼Œå¯è¿™æ—¶ä¼šæœ‰æ–°çš„é—®é¢˜å‡ºç°ï¼Œå‡å¦‚æ•°æ®ä¸­æœ‰ä¸­æ–‡æˆ–åˆ«çš„ç¼–ç æ–‡å­—ï¼Œç¼–ç ä¼šå‡ºé”™ã€‚
æˆ‘çš„æ€è·¯æ˜¯æ£€æŸ¥ä¸€ä¸‹å­—ç¬¦ä¸²ï¼Œå¦‚æœåŒ…å«ä¸­æ–‡å°±è¿›è¡Œencodeï¼Œå¦‚æœæ²¡æœ‰ä¸­æ–‡åˆ™ç›´æ¥å†™å…¥ï¼Œä»¥æ­¤ä¼˜åŒ–ç¨‹åºæ€§èƒ½ã€‚
è€ç¨‹åºæ˜¯ç”¨python 2.7å†™çš„ï¼Œpython2çš„ç¼–ç ä¼—æ‰€å‘¨çŸ¥çš„è›‹ç–¼ï¼Œä½†ç”Ÿäº§ç³»ç»Ÿå˜›ï¼Œå¿å¿å°±è¿‡å»äº†&hellip;&hellip;
å¸¸è§çš„è§£å†³æ–¹æ¡ˆï¼š
import re zhPattern = re.compile(u'[\u4e00-\u9fa5]+') æ­£åˆ™çš„æ–¹å¼è€—æ—¶ä¸ä¼šæ¯”decodeåencodeå°‘
def chk_chinese(check_str): for ch in check_str: print(ch) if u'\u4e00' &lt;= ch &lt;= u'\u9fff': return True return False å¤æ—©çš„ python 2.7 ç”¨ä¸äº†
æœ€åç†äº†ä¸€ä¸‹æ€è·¯ï¼Œå…¶å®å¹¶ä¸éœ€è¦å–æ£€æŸ¥ä¸­æ–‡ï¼Œå‘½é¢˜åº”è¯¥æ˜¯ â€œæ£€æŸ¥å­—ç¬¦ä¸²ä¸­æ˜¯å¦æœ‰éasciiå­—ç¬¦â€ï¼Œæ¯•ç«Ÿåªè¦æœ‰éasciiç¼–ç çš„å­—ç¬¦ï¼Œå°±éœ€è¦è½¬ç æ“ä½œ
def chk_no_ascii(check_str): for ch in check_str: if ord(ch)>127: return True return False ä½†è¿™æ ·å‡½æ•°åœ¨è¾“å…¥å­—ç¬¦ä¸²å…¨æ˜¯asciiç æ—¶ï¼Œä¼šéå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè§‚å¯Ÿäº†ä¸‹æˆ‘è¿™é‡Œçš„æ•°æ®ç‰¹æ€§ï¼Œä¸€èˆ¬ä¸­æ–‡å­—æ®µï¼Œå‰3ä¸ªå­—ç¬¦ä¸­ä¸€å®šæœ‰ä¸­æ–‡å­˜åœ¨ï¼Œæ‰€ä»¥ä¼˜åŒ–æˆ for ch in check_str[:6]
æœ€ç»ˆæµ‹è¯•æ‰§è¡Œé€Ÿåº¦è¾ƒæºç¨‹åºæå‡2å€</content></entry><entry><title>ç”¨è±†æµ†æœºåšå®‰å¿ƒé£Ÿç”¨çš„è±†è…è„‘(å†…é…¯æˆ–è‘¡è„ç³–é…¸é’™ç‚¹å¤)</title><url>http://www.luckfu.com/post/2022-06-12_tofu_brain/</url><categories><category>ç”Ÿæ´»</category></categories><tags><tag>ç”Ÿæ´»</tag></tags><content type="html"> æœ€è¿‘æ¥¼ä¸‹çš„æ²¹æ¡æ‘Šå¼€å§‹æœ‰è±†è…è„‘å”®å–ï¼Œå‹¾èµ·äº†è±†è…è„‘é¦‹è™«ï¼Œå¤–é¢çš„è±†è…è„‘å§‹ç»ˆä¸æ˜¯å¤ªæ”¾å¿ƒï¼Œäºæ˜¯å°è¯•ç”¨è±†æµ†æœºåˆ¶ä½œï¼Œæˆ‘çš„è±†æµ†æœºæ˜¯1äººä»½çš„ï¼Œæœ€å¤§å®¹é‡350MLï¼Œä¹Ÿå°±æ˜¯ä¸€å°ç“¶å¯ä¹å·®ä¸å¤šçš„é‡ã€‚ æ‰“ç”Ÿè±†æµ† å…¶å®ï¼Œç›´æ¥ç”¨è±†æµ†æœºæ‰“æˆç†Ÿè±†æµ†è¿‡æ»¤è±†æ¸£æ˜¯å¯è¡Œçš„ï¼Œä½†ç­‰åˆ°æŠŠè±†æ¸£è¿‡æ»¤å‡ºæ¥ï¼Œè±†æµ†æ¸©åº¦å·²ç»ä¸è¶³ï¼Œè¿˜éœ€è¦å†åŠ çƒ­ï¼Œè€Œç†Ÿè±†æµ†çš„æ¸©åº¦é«˜ï¼Œæ‰‹å·¥è¿‡æ»¤è±†æ¸£æ—¶çƒ«æ‰‹ï¼Œæ‰€ä»¥è¿˜æ˜¯è€å®æŒ‰æ­¥éª¤æ‰“ç”Ÿè±†æµ†ã€‚
è±†å­ä¸€å®šè¦æ³¡å‘è¿‡çš„ï¼Œç”Ÿè±†å’Œæ°´çš„æ¯”ä¾‹ä¸º 1.5:10 é€‰æ‹©è±†æµ†æœºçš„â€œæœæ±â€åŠŸèƒ½ï¼Œå°†æ³¡è¿‡çš„é»„è±†æ‰“å‡ºç”Ÿè±†æµ†ã€‚
è¿‡æ»¤è±†æ¸£ è¿‡æ»¤åçš„è±†æµ†
è¿‡æ»¤åçš„è±†æ¸£
ç…®è±†æµ† ç”Ÿè±†æµ†æ˜¯æœ‰æ¯’çš„ï¼Œå¿…é¡»ç…®ç†Ÿï¼Œå°†ç”Ÿè±†æµ†å†æ¬¡å€’å…¥è±†æµ†æœº
è±†æµ†ä»ç”Ÿåˆ°ç†Ÿçš„è¿‡ç¨‹ä¸­ä¼šæœ‰å‡æ²¸çš„ç°è±¡ï¼Œä¸­é€”å¿…é¡»å¤šæ¬¡æ…åŠ¨ï¼Œé¿å…å‡æ²¸è¿‡ç¨‹ä¸­è±†æµ†æº¢å‡ºï¼Œè€Œè±†æµ†æœºæœ¬èº«åœ¨ç…®è±†æµ†è¿‡ç¨‹ä¸­ï¼Œä¼šä¸€ç›´æ…æ‹Œï¼Œé¿å…æº¢å‡ºæ­£å¥½å¯ä»¥çœæ‰ç”¨é”…ç…®è±†æµ†çš„éº»çƒ¦ã€‚
ç‚¹æµ† è‘¡è„ç³–é…¸å†…é…¯ï¼Œ350ml å¤§çº¦1å…‹çš„å†…é…¯ï¼Œç”¨å¼€æ°´èŠ±å¼€ï¼Œä¸€ç‚¹ç‚¹æ°´ï¼Œåˆšåˆšå¥½åŒ–å¼€å†…é…¯æ™¶ä½“å°±è¡Œï¼Œæ”¾åœ¨å®¹å™¨å†…ï¼Œè±†æµ†æœºç…®å‡ºçš„è±†æµ†æ¸©åº¦ä¸æ˜¯å¤ªé«˜ï¼Œè±†è…è„‘ç‚¹æµ†çš„æ¸©åº¦è¦æ±‚90åº¦å·¦å³ï¼Œå°†ç…®å¥½çš„è±†æµ†è¶çƒ­å†²å…¥å®¹å™¨ï¼Œèµ¶ç´§å‘ä¸€ä¸ªæ–¹å‘æ…åŒ€ä¸¤ä¸‹ï¼Œç„¶åç›–ä¸Šç›–å­ä¿æ¸©ï¼Œé™ç½®ï¼Œå¾ˆå¿«å°±ä¼šå‡ç»“æˆè±†è…è„‘ï¼Œæˆ‘ç”¨çš„ä¸€ä¸ªå°ç„–çƒ§ç½ï¼Œå®¹é‡ä¹Ÿæ­£å¥½ã€‚
ç‚¹è±†è…è„‘çš„ä¸œè¥¿æœ‰å¾ˆå¤šï¼Œä¹‹æ‰€ä»¥ä¸æ„¿æ„åœ¨å¤–é¢åƒï¼Œæ˜¯å› ä¸ºä¸çŸ¥é“å¤–é¢å–çš„è±†è…è„‘ç”¨ä»€ä¹ˆç‚¹å¤ï¼Œä¼ ç»Ÿçš„å¤æ°´è¦ä¸æ˜¯çŸ³è†æ°´è¦ä¸æ˜¯ç›å¤ï¼Œå¤šå°‘æœ‰ç‚¹å°æ¯’ï¼Œå†…é…¯æ˜¯åå‡ºç°çš„æ–°ææ–™ï¼ŒåŸºæœ¬æ— æ¯’ï¼Œåšçš„è±†è…è„‘ä¹Ÿæ›´æ°´å«©ï¼Œå¦å¤–ï¼Œä¸­è€å¹´äººè¡¥é’™çš„è‘¡è„ç³–é…¸é’™ï¼Œå…¶å®ä¹Ÿæ˜¯å¯ä»¥ç”¨æ¥ç‚¹è±†è…è„‘çš„ï¼Œè€Œä¸”å£å‘³å’Œä¼ ç»Ÿç›å¤ç‚¹çš„æ›´æ¥è¿‘ï¼Œ350mlè±†æµ†ç”¨ä¸€åªè“ç“¶è‘¡è„ç³–é…¸é’™å£æœæ¶²å°±è¡Œï¼Œè¿‡ç¨‹å’Œä½¿ç”¨å†…é…¯ä¸€æ ·ã€‚
æˆå“ å†…é…¯è±†è…è„‘ è‘¡è„ç³–é…¸é’™è±†è…è„‘</content></entry><entry><title>ä¸­è€å¹´ä¹‹å‹ Copilot</title><url>http://www.luckfu.com/post/2022-05-26_copilot/</url><categories><category>python</category></categories><tags><tag>github</tag><tag>Copilot</tag></tags><content type="html"> åˆä¸€ä¸ªå·®ç‚¹å¿˜è®°å®ƒå­˜åœ¨çš„ç¥ä½œï¼Œä»Šå¤©å‡†å¤‡éƒ¨ç½²ä¸€å°mysqlï¼Œä¸´æ—¶åšä¸ªç¬”è®°ï¼Œåˆ°æˆ‘è¿™ä¸ªå¹´çºªï¼Œä¸å¯èƒ½è®°å¾—my.cnfå†…å®¹ï¼Œåˆšæƒ³å»ç½‘ä¸Šæˆ–è€…å…¶å®ƒæœåŠ¡å™¨è´´ä¸€æ®µè¿‡æ¥ï¼Œvscodeä¸­çªç„¶æœ‰äº†è‡ªåŠ¨æç¤ºï¼Œæ‰æƒ³èµ·æ¥æˆ‘æ˜¯Copilotæµ‹è¯•ç”¨æˆ·å•ŠğŸ˜„ã€‚
æ ¹æ®ä¸Šä¸‹æ–‡çŒœåˆ°æˆ‘åœ¨éƒ¨ç½²mysqlåº”è¯¥å®¹æ˜“ï¼Œå†™ä¸‹â€œé…è·¯å¾„â€çš„æ—¶å€™çŒœåˆ°æˆ‘æƒ³å†™my.cnfçœŸçš„å¾ˆè´´å¿ƒäº†ã€‚</content></entry><entry><title>pythonä½¿ç”¨yahoo_financials_stmtåŒ…è·å–é›…è™è´¢ç»çš„è‚¡ç¥¨è´¢åŠ¡æ•°æ®</title><url>http://www.luckfu.com/post/2022-05-21_yahoo_financials_stmt/</url><categories><category>python</category><category>finance</category></categories><tags><tag>python</tag><tag>è‚¡ç¥¨</tag><tag>è´¢åŠ¡æ•°æ®</tag></tags><content type="html"> Â å¤–å›´å¸‚åœºå…è´¹çš„è‚¡ç¥¨è´¢åŠ¡æ•°æ®æ¥å£éš¾æ‰¾ï¼Œä»é›…è™è´¢ç»æå–è´¢åŠ¡æ•°æ®å¯èƒ½æ˜¯å…è´¹æ–¹æ¡ˆä¸­æœ€ç®€å•çš„æ–¹æ³•ï¼Œè‡ªä»yahooè´¢ç»å–æ¶ˆAPIæ”¯æŒåï¼Œåªèƒ½è‡ªå·±çˆ¬å–æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œä½†æ˜¯yahooå¶å°”çš„é¡µé¢å˜æ›´å’Œåœ°åŒºé™åˆ¶ä¹Ÿç»™çˆ¬å–æ•°æ®é€ æˆå¾ˆå¤§å›°æ‰°ã€‚
æœ¬æ–‡ä»‹ç»æˆ‘æœ€è¿‘æäº¤çš„yahoo_financials_stmtåŒ…è·å–è‚¡ç¥¨è´¢åŠ¡æ•°æ® é¡¹ç›®åœ°å€ï¼šhttps://github.com/luckfu/yahoo_financials_stmt
å› ä¸ºyahooé™åˆ¶ä¸­å›½å¤§é™†åœ°åŒºä½¿ç”¨ï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨å¤§é™†åœ°åŒºï¼Œéœ€è¦è‡ªè¡Œä»£ç†
ä½¿ç”¨è¯´æ˜ï¼š å®‰è£… yahoo_financials_stmt pip install git+https://github.com/luckfu/yahoo_financials_stmt.git è·å–è´¢åŠ¡æ•°æ® import datetime from yahoo_financials_stmt import YahooFinancialsStmt yfs = YahooFinancialsStmt() finances=yfs.get_financials('box') æŸ¥çœ‹æ•°æ® import datetime from yahoo_financials_stmt import YahooFinancialsStmt yfs = YahooFinancialsStmt() finances.keys() è¿”å›:
dict_keys(['balance_annual', 'balance_quarterly', 'earnings_annual', 'earnings_quarterly', 'income_annual', 'income_quarterly', 'cashflow_annual', 'cashflow_quarterly']) balance èµ„äº§è´Ÿå€ºè¡¨å¹´æŠ¥ finances['balance_annual'] å­—æ®µè¯´æ˜ balance Sheet èµ„äº§è´Ÿå€ºè¡¨ å­—æ®µ æ„ä¹‰ è§£é‡Š intangibleAssets æ— å½¢èµ„äº§ capitalSurplus èµ„æœ¬æº¢ä»· totalLiab è´Ÿå€ºæ€»é¢ https://www.investopedia.com/terms/t/total-liabilities.asp totalStockholderEquity æ€»è‚¡ä¸œæƒç›Š è‚¡ä¸œæƒç›Š=æ€»èµ„äº§-è´Ÿå€ºæ€»é¢ deferredLongTermLiab é€’å»¶é•¿æœŸè´Ÿå€º https://www.investopedia.com/terms/d/ otherCurrentLiab å…¶ä»–å½“å‰è´Ÿå€º https://www.investopedia.com/terms/o/othercurrentliabilities. totalAssets æ€»èµ„äº§ commonStock æ™®é€šè‚¡ https://www.investopedia.com/terms/c/commonstock.asp otherCurrentAssets å…¶ä»–æµåŠ¨èµ„äº§ https://www.investopedia.com/terms/o/othercurrentassets.asp retainedEarnings ç•™å­˜æ”¶ç›Š https://www.investopedia.com/terms/r/retainedearnings.asp otherLiab å…¶ä»–æµåŠ¨è´Ÿå€º https://www.investopedia.com/terms/o/othercurrentliabilities.asp goodWill å•†èª‰ https://www.investopedia.com/terms/g/goodwill.asp treasuryStock åº“å­˜è‚¡ https://www.investopedia.com/ask/answers/what-is-treasury-stock otherAssets å…¶ä»–èµ„äº§ https://www.accountingtools.com/articles/other-assets cash ç°é‡‘ ç°é‡‘åŠç°é‡‘ç­‰ä»·ç‰© totalCurrentLiabilities æµåŠ¨è´Ÿå€ºæ€»é¢ â€œæµåŠ¨è´Ÿå€ºæ€»é¢â€æ˜¯åº”ä»˜è´¦æ¬¾ã€åº”è®¡è´Ÿå€ºå’Œç¨é‡‘çš„æ€»å’Œã€‚ otherStockholderEquity å…¶å®ƒè‚¡ä¸œæƒç›Š propertyPlantEquipment å›ºå®šèµ„äº§ (PPEï¼‰åˆç§°Fixed Assetsï¼ˆå›ºå®šèµ„äº§ï¼‰ totalCurrentAssets æµåŠ¨èµ„äº§æ€»é¢ netTangibleAssets æœ‰å½¢èµ„äº§å‡€å€¼ æ€»èµ„äº§-æ— å½¢èµ„äº§-è´Ÿå€º shortTermInvestments çŸ­æœŸæŠ•èµ„ https://www.investopedia.com/terms/s/shorterminvestments.asp netReceivables åº”æ”¶å¸æ¬¾å‡€é¢ maxAge å‘¨æœŸ longTermDebt é•¿æœŸå€ºåŠ¡ æŒ‡å¿è¿˜æœŸåœ¨ä¸€å¹´æˆ–ä¸€ä¸ªè¥ä¸šå‘¨æœŸä»¥ä¸Šçš„å€ºåŠ¡ï¼Œä¸»è¦æœ‰é•¿æœŸå€Ÿæ¬¾ã€åº”ä»˜å€ºåˆ¸ã€é•¿æœŸåº”ä»˜æ¬¾ç­‰ accountsPayable åº”ä»˜è´¦æ¬¾ earnings æ”¶ç›Š https://www.investopedia.com/ask/answers/070715/what-difference-between-earnings-and-revenue.asp
å­—æ®µ æ„ä¹‰ è§£é‡Š revenue æ”¶å…¥ earnings æ”¶ç›Š å‡€æ”¶å…¥ income Statement æŸç›Šè¡¨ å­—æ®µ æ„ä¹‰ è§£é‡Š researchDevelopment ç ”å‘æˆæœ¬ effectOfAccountingCharges ä¼šè®¡è´¹ç”¨çš„å½±å“ï¼Ÿ incomeBeforeTax ç¨å‰æ”¶å…¥ minorityInterest å°‘æ•°è‚¡ä¸œæƒç›Š https://www.investopedia.com/terms/m/minorityinterest.asp netIncome å‡€æ”¶å…¥ sellingGeneralAdministrative é”€å”®åŠè¡Œæ”¿å¼€æ”¯ https://www.investopedia.com/terms/s/sga.asp grossProfit æ¯›åˆ©æ¶¦ ebit æ¯ç¨å‰åˆ©æ¶¦ ä¸æ‰£é™¤åˆ©æ¯ä¹Ÿä¸æ‰£é™¤æ‰€å¾—ç¨çš„åˆ©æ¶¦ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºæ¯å‰ç¨å‰åˆ©æ¶¦ operatingIncome è¥ä¸šæ”¶å…¥ otherOperatingExpenses å…¶ä»–ä¸šåŠ¡æ”¯å‡º interestExpense æ”¯ä»˜åˆ©æ¯ extraordinaryItems éç»å¸¸é¡¹ç›® éç»å¸¸ã€ä¸å¸¸è§æ”¶ç›Šæˆ–æŸå¤± 2015 å¹´ 1 æœˆï¼Œè´¢åŠ¡ä¼šè®¡å‡†åˆ™å§”å‘˜ä¼š (FASB) å–æ¶ˆ nonRecurring éç»å¸¸æ€§è´¹ç”¨ ï½œ otherItems incomeTaxExpense æ‰€å¾—ç¨è´¹ç”¨ totalRevenue æ€»æ”¶å…¥ ï½œ totalOperatingExpenses è¥ä¸šè´¹ç”¨æ€»é¢ ï½œ costOfRevenue è¥æ”¶æˆæœ¬ ï½œ totalOtherIncomeExpenseNet å…¶å®ƒæ”¶å…¥å’Œè´¹ç”¨æ€»è®¡ maxAge å‘¨æœŸ discontinuedOperations ç»ˆæ­¢ç»è¥ https://www.investopedia.com/terms/d/discontinued-operations.asp netIncomeFromContinuingOps å‡€æŒç»­ç»è¥æ”¶å…¥ netIncomeApplicableToCommonShares é€‚ç”¨äºæ™®é€šè‚¡çš„å‡€æ”¶å…¥ æ‰£é™¤ç¨æ”¶ã€éæ§è‚¡æƒç›Šå’Œä¼˜å…ˆè‚¡è‚¡æ¯åå¯ä»¥ç»™äºˆè‚¡ä¸œçš„æ”¶å…¥ cashflow Statement ç°é‡‘æµé‡è¡¨ å­—æ®µ æ„ä¹‰ è§£é‡Š investments changeToLiabilities totalCashflowsFromInvestingActivities æŠ•èµ„æ´»åŠ¨äº§ç”Ÿçš„ç°é‡‘æµé‡æ€»é‡ https://www.investopedia.com/articles/financial-theory/11/cash-flow-from-investing.asp netBorrowings å‡€å€Ÿæ¬¾ https://bizfluent.com/info-8618146-net-borrowings-statement-cash-flow.html totalCashFromFinancingActivities èèµ„æ´»åŠ¨çš„ç°é‡‘æµé‡ https://www.investopedia.com/terms/c/cashflowfromfinancing.asp changeToOperatingActivities ç»è¥æ´»åŠ¨ issuanceOfStock è‚¡ç¥¨å‘è¡Œ netIncome å‡€æ”¶å…¥ changeInCash ç¾é‡‘æ·¨å€¼è®ŠåŒ– effectOfExchangeRate totalCashFromOperatingActivities ç‡Ÿé‹ç¾é‡‘æµé‡ depreciation æŠ˜æ—§å’Œæ‘Šé”€ changeToAccountReceivables otherCashflowsFromFinancingActivities å…¶ä»–èèµ„æ´»åŠ¨ maxAge changeToNetincome capitalExpenditures ç‰©ä¸šã€å‚æˆ¿åŠè®¾å¤‡æŠ•èµ„ è³‡æœ¬æ”¯å‡º https://www.investopedia.com/terms/c/capitalexpenditure.asp repurchaseOfStock è‚¡ç¥¨å›è´­ https://www.investopedia.com/terms/s/sharerepurchase.asp</content></entry><entry><title>ç»ˆäºå¼€é€š github Codespace</title><url>http://www.luckfu.com/post/2022-05-18_codespace/</url><categories><category>python</category></categories><tags><tag>python</tag><tag>shapely</tag></tags><content type="html">
ç­‰å¾…äº†ä¸¤å¹´ï¼Œgithubç»ˆäºæ¥å—äº†æˆ‘çš„æµ‹è¯•ç”³è¯·,å¼€é€šCodespace beta,è€å®è¯´å·®ä¸å¤šéƒ½å¿˜äº†è¿™äº‹å„¿ï¼Œæ¯•ç«Ÿåœ¨githubä¸ŠVS Codeç¼–è¾‘åŠ actionæˆ‘éƒ½å·²ç»å¾ˆæ»¡è¶³äº†ï¼Œ æ‰€ä»¥åˆšçœ‹åˆ°å¼€é€šï¼Œè¿˜ä»¥ä¸ºè‡ªå·±çœ¼èŠ±ï¼Œæ€ä¹ˆåœ¨æ”¶è´¹çš„é¡¹ç›®è¿˜ç»™å…è´¹betaæµ‹è¯•ã€‚
æ•´ä½“æ„Ÿè§‰è¿˜ä¸é”™ï¼Œ4æ ¸8Gï¼Œè·‘ä»€ä¹ˆéƒ½ä¸ç®—æ…¢ï¼Œå½“ç„¶ä¹Ÿä¸ä¼šå¿«ï¼Œ30Gå­˜å‚¨ç•¥æ˜¾ä¸è¶³ï¼Œç‰¹åˆ«æ˜¯é¡¹ç›®è¦è£…ä¸€å †åº“ä¹‹å</content></entry><entry><title>åˆ©ç”¨shapelyåº“è®¡ç®—å¤šè¾¹å½¢åŒ…å«å’Œç›¸äº¤å…³ç³»</title><url>http://www.luckfu.com/post/2022-04-26_shapely/</url><categories><category>python</category></categories><tags><tag>python</tag><tag>shapely</tag></tags><content type="html"> æœ€è¿‘æ¥åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œè®¡ç®—ä¸€ä¸ªåæ ‡ç‚¹(ç»çº¬åº¦)æ˜¯å¦åœ¨å¤šè¾¹å½¢(åœ°ç†åŒºåŸŸ)å†…ï¼Œä¹‹å‰å†™ä»£ç çš„å“¥ä»¬éå¸¸ç”¨åŠŸçš„ææ‡‚äº†è®¡ç®—åŸç†å¹¶ç”¨SQLå®ç°äº†å®Œæ•´ä»£ç ğŸ®ï¼Œbutè®¡ç®—å®Œæ‰€æœ‰æ•°æ®éœ€è¦ä¸€å‘¨æ—¶é—´ï¼Œè¿™ä¸ªé¡¹ç›®çš„è´Ÿè´£äººæ‰“ç”µè¯é—®æˆ‘ï¼Œæœ‰æ²¡æœ‰æ›´å¿«çš„åŠæ³•ï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œå‡å¦‚è¿™ä¸ªåŠæ³•çœŸçš„è¿™ä¹ˆå¤æ‚ï¼Œæç«¯æƒ…å†µä¸‹åªèƒ½çœ‹æ‡‚è®¡ç®—æ–¹æ³•æ¢åˆ«çš„æ–¹å¼å®ç°ï¼Œä¸è¿‡Life is short, you need Python ï¼Œäºæ˜¯å¾ˆè½»æ¾çš„æœç´¢åˆ°äº†shapelyåº“ã€‚ shapelyæ˜¯ä¸“é—¨åšå›¾å½¢è®¡ç®—çš„åŒ…ï¼ŒåŸºæœ¬ä¸Šå›¾å½¢çº¿æ®µï¼Œç‚¹çš„åˆ¤æ–­åŒ…é‡Œéƒ½æœ‰ï¼Œshapelyé‡Œä¸»è¦ç”±Pointï¼ŒLineStringï¼ŒPolygonè¿™ä¸‰ç±»ç»„æˆï¼Œåœ¨shapelyé‡Œç‚¹ï¼Œçº¿ï¼Œé¢ä¹‹é—´éƒ½æ˜¯å¯ä»¥åšåˆ¤æ–­çš„ï¼Œæ¯”å¦‚è¯´è®¡ç®—ç‚¹åˆ°çº¿æ®µçš„è·ç¦»ï¼Œç‚¹åˆ°é¢ä¹‹é—´çš„è·ç¦»ï¼Œç‚¹ä¸ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œç‚¹æ˜¯å¦åœ¨ä¸€ä¸ªå›¾å½¢çš„å†…éƒ¨æˆ–å¤–éƒ¨ï¼Œæˆ–è¾¹ç•Œä¸Šï¼Œçº¿æ˜¯å¦åœ¨å›¾å½¢çš„å†…éƒ¨ç­‰ã€‚
Polygonå¯¹è±¡ Polygonå¯¹è±¡ï¼Œå®ƒçš„è¾“å…¥æ˜¯äºŒç»´æ•°ç»„ç»„æˆçš„listï¼Œåæ ‡ä¿¡æ¯ [[x,y],[x1,y1],[x2,y2]&hellip;.]æˆ–è€… [[ç»åº¦ï¼Œçº¬åº¦],[ç»åº¦1ï¼Œçº¬åº¦1],[ç»åº¦2ï¼Œçº¬åº¦2]&hellip;],ä¸€èˆ¬çš„GISåº”ç”¨æ‰“ç‚¹ç”»å‡ºåŒºåŸŸå°±æ˜¯å¦‚æ­¤ï¼Œä¾‹å¦‚ï¼š
[(0, 0), (-1, 1), (2, 1), (3, -2)] Pointå¯¹è±¡ ç‚¹å¯¹è±¡ï¼Œå®ƒçš„è¾“å…¥ä¸€èˆ¬æ˜¯ x,y,é«˜çº§åº”ç”¨ä¸­è¿˜å¯ä»¥æ˜¯ä¸‰ç»´ç‚¹ï¼Œè¿™ä¸ªéœ€æ±‚ç”¨ä¸åˆ°
è®¡ç®—ç‚¹æ˜¯å¦åœ¨å¤šè¾¹å½¢å†… é¦–å…ˆå°†åæ ‡æ•°ç»„è½¬æ¢ä¸ºPolygonå¯¹è±¡ï¼Œå°†xyåæ ‡è½¬æ¢ä¸ºPointå¯¹è±¡ï¼Œç„¶åä½¿ç”¨Point.within(Polygon) åˆ¤æ–­
from shapely.geometry import Point from shapely.geometry.polygon import Polygon import matplotlib.pyplot as plt polygon=Polygon([(0, 0), (-1, 1), (2, 1), (3, -2)]) point=Point(1, 0.5) print(point.within(polygon)) # ç”»å›¾ x,y =polygon.exterior.xy plt.plot(x,y) plt.scatter(point.x,point.y) è®¡ç®—ä¸¤ä¸ªå¤šè¾¹å½¢æ˜¯å¦ç›¸äº¤ é¦–å…ˆå°†åæ ‡æ•°ç»„è½¬æ¢ä¸ºPolygonå¯¹è±¡ï¼Œä¸¤ä¸ªå¤šè¾¹å½¢polygon.overlaps(polygon1)</content></entry><entry><title>å¥åº·ç å˜é»„ç </title><url>http://www.luckfu.com/post/2022-04-19_yellow_code/</url><categories><category>ç”Ÿæ´»</category></categories><tags><tag>ç”Ÿæ´»</tag></tags><content type="html"> æœ€è¿‘ä¸€æ®µæ—¶é—´çš„ç–«æƒ…é˜²æ§æ„ˆæ¼”æ„ˆçƒˆï¼Œå®¢æˆ·åœºåœ°å·²ç»ä¸è®©è¿›å…¥ï¼Œæ¯48å°æ—¶ä»¥å†…å¿…é¡»å°±è¿‘åšä¸€æ¬¡æ ¸é…¸æ£€æµ‹ï¼Œæ­£å½“è§‰å¾—è¾¾æˆé›†é½ä¸ƒå¼ æ ¸é…¸å¡çš„æˆå°±å¬å”¤ç¥é¾™ï¼Œå‘¨ä¸‰å°±å¯ä»¥å®Œå…¨è§£é™¤ç¦é”¢æ—¶ï¼Œçªç„¶å‘ç°ï¼Œç»¿ç å˜é»„äº† æ—©ä¸Šå»åŠå…¬å®¤ï¼Œæ‰«ç è¿›æ¥¼æ˜¯ç»¿çš„ï¼Œä¸­åˆå‡ºæ¥åƒé¥­ï¼Œå†è¿›å¤§æ¥¼ï¼Œç»¿ç ï¼Œåˆä¼‘é†’æ¥ï¼Œç é»„äº†ï¼Œå‘ç°é»„ç æ—¶ï¼Œæœ‰äº›ç´§å¼ ï¼Œç«‹å³æ”¶æ‹¾ç”µè„‘ï¼ŒèƒŒåŒ…å‡†å¤‡å›å®¶ï¼Œèµ°åœ¨è·¯ä¸Šçªç„¶æƒ³åˆ°ï¼Œé»„ç ï¼Œæ˜¯ä¸å¯ä»¥çº¦ç½‘çº¦è½¦çš„ï¼Œè·¯è¿‡åœ°é“ç«™æ—¶ï¼Œæƒ³ååœ°é“å›å®¶ï¼Œçªç„¶åˆæƒ³èµ·ï¼Œåœ°é“ä¹Ÿæ˜¯ä¸èƒ½åçš„ï¼Œç„¶åä»åŠå…¬å®¤åˆ°å®¶é‡Œï¼Œå¦‚æœæ­¥è¡Œçš„è¯ï¼Œæœ‰6.3å…¬é‡Œï¼Œè¿™ä¸æ‰¯æ·¡å—ï¼Œäºæ˜¯æ‹¦äº†è¾†çš„å£«ï¼Œçš„å£«ä¸€èˆ¬ä¸å¤ªçœ‹ä½ çš„ç ï¼Œdon&rsquo;t- ask-don&rsquo;t-tell å˜›ï¼Œå½“æ”¿ç­–è®©ä½ å‘†åœ¨åŸåœ°æ—¶ï¼Œä¸€å®šè¦å…ˆåˆ°ä¸ªå®‰å…¨å¯é çš„åœ°æ–¹å‘†ç€ã€‚ åˆ°å®¶æ¥¼ä¸‹ï¼Œèµ¶ç´§å»ä¹°äº†æ¡çƒŸï¼Œæ¯•ç«Ÿä¸çŸ¥é“è¦ä¸è¦å±…å®¶éš”ç¦»&hellip;. åœ¨å®¶ä¼‘æ¯äº†ä¸€ä¸‹ï¼Œå–æ¯å’–å•¡å†·é™ä¸‹æ¥ï¼Œåœ¨å¥åº·ç appä¸Šï¼Œç”³è¯·é»„ç è½¬ç»¿ç ï¼Œæ¯•ç«Ÿä½ è¯´æˆ‘æ—¶ç©ºä¼´éšå•¥çš„ï¼Œæ€»å¾—å‘Šè¯‰æˆ‘åœ¨å“ªé‡Œå¹è¿‡â€œåˆ«äººå¹è¿‡çš„æ™šé£â€å§ï¼Œç„¶è€Œappä¸Šå¹¶æ²¡æœ‰è¿™ç§è®°å½•ï¼Œç›´æ¥ç”³è¯·è½¬ç ï¼Œä¸Šä¼ äº†æ‰€æœ‰çš„æ ¸é…¸æ£€æµ‹æˆªå›¾ï¼Œç–«è‹—æ³¨å°„æˆªå›¾ï¼Œå›å¤å€’æ˜¯æŒºå¿«ã€‚é©³å›ğŸ˜¡ ä¸å¾—å·²ï¼Œå»ç¤¾åŒºï¼Œä¸‹æ¥¼åï¼Œå‘ç°é—¨å£ä¸€å †äººåœ¨è¯´æ€ä¹ˆå˜é»„ç äº†ï¼Œå¬åˆ°å¤§å®¶è¿™ä¹ˆè¯´æˆ‘å°±æ”¾å¿ƒäº†ï¼Œæ¯•ç«Ÿä¸æ˜¯æˆ‘ä¸€ä¸ªäººçš„é—®é¢˜,å°±ä¸ä¼šè¢«æ­§è§†ï¼Œå¤§å®¶ä¸€èµ·æ€¼å¥åº·ç å²‚ä¸æ˜¯æœ‰å…±åŒè¯é¢˜ä¿ƒè¿›é‚»é‡Œé—´äº¤æµã€‚
è·¯ä¸Šæƒ³èµ·å¥åº·ç çš„è¡Œç¨‹è½¨è¿¹è²Œä¼¼æ˜¯æˆ‘ä»¬æœåŠ¡çš„è¿è¥å•†æä¾›çš„ï¼Œäºæ˜¯è”ç³»åŒäº‹æŸ¥æŸ¥æˆ‘çš„è½¨è¿¹ï¼ŒåŒäº‹ç»™äº†æˆ‘æ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰é£é™©åŒºæ•°æ®ï¼Œæ‰€ä»¥çœ‹ä¸å‡ºæœ‰å•¥é—®é¢˜ã€‚
åˆ°äº†ç¤¾åŒºå±…å§”ä¼šï¼Œçœ‹è§å¾ˆå¤šäººå·²ç»åœ¨å¡«è¡¨ï¼Œç­¾æ‰¿è¯ºä¹¦ï¼Œæ‰¿è¯ºæ²¡æœ‰åˆ°è¿‡é«˜é£é™©åŒºï¼Œå·¥ä½œäººå‘˜ä¹Ÿç»™æˆ‘ä¸€ä»½ï¼Œå¦‚å®å¡«å†™ï¼ŒæŒ‰æŒ‡å°ç”»æŠ¼ã€‚
ç­¾å®Œæ‰¿è¯ºä¹¦ï¼Œå› ä¸ºæˆ‘ä»¬ç¤¾åŒºè½¬é»„ç æ¯”è¾ƒå¤šï¼Œç¤¾åŒºå«æ¥æ£€æµ‹äººå‘˜é›†ä¸­æ£€æµ‹ã€‚ ç¤¾åŒºè§£é‡Šæ˜¯ï¼Œä¸‰å¤©ä¸¤æ£€ï¼Œç„¶åè½¬ç»¿ç .
æ’é˜Ÿçš„æ—¶å€™ï¼Œè·Ÿå‘¨å›´é‚»å±…èŠå¤©ï¼Œå¾—çŸ¥é™„è¿‘ä¸€ä¸ªå°åŒºå‘ç°é˜³æ€§è¢«å°ï¼Œå†çœ‹çœ‹åŒäº‹å‘ç»™æˆ‘çš„è½¨è¿¹æ•°æ®ï¼Œæœç„¶å°±æœ‰æˆ‘ä»¬è¿™æ ‹æ¥¼å’Œè¢«å°å°åŒºä¹‹é—´çš„åŸºç«™ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘æ‰‹æœºä½¿ç”¨çš„ä¿¡å·åŸºç«™ï¼Œä¼šé£˜åˆ°é©¬è·¯å¯¹é¢çš„åŸºç«™å»ï¼Œé‚£è¿™æ ·çš„è¯æˆ‘å°±æœ‰ä¸ªç–‘é—®ï¼Œå‡å¦‚æˆ‘è€—å®Œè¿™ä¸‰å¤©ï¼Œé»„ç è½¬ç»¿ï¼Œä¹‹åæ‰‹æœºåŸºç«™åˆé£˜åˆ°å¯¹é¢ï¼Œæ˜¯ä¸æ˜¯æ¥ç€åˆå˜é»„&hellip;&hellip;</content></entry><entry><title>çœŸæ­£èƒ½é€¼ä½ æ¢æ‰‹æœºçš„ï¼Œåªæœ‰å­©å­çš„éªšæ“ä½œ</title><url>http://www.luckfu.com/post/2022-04-06_iphone13/</url><categories><category>ç”Ÿæ´»</category></categories><tags><tag>ç”Ÿæ´»</tag></tags><content type="html"> äººåˆ°ä¸­å¹´ï¼Œæ¢æ–°æ‰‹æœºçš„æ¬²æœ›æ˜¯æä½çš„ï¼Œèƒ½é€¼ä½ æ¢æ‰‹æœºçš„ï¼Œåªæœ‰é å­©å­çš„éªšæ“ä½œï¼Œæ¸…æ˜èŠ‚å­©å­éè¦èƒŒä»–ï¼Œçˆ¬ä¸ŠèƒŒçš„æ—¶å€™ä¸€è„šè¸¹æ‰å±è‚¡å£è¢‹é‡Œçš„ç”µè¯&hellip;&hellip; ä»æ¥ä¸ç»™æ‰‹æœºè´´è†œçš„ä¹ æƒ¯ï¼Œçœ‹æ¥è¦æ”¹æ”¹äº†ï¼Œè¯´ä¸å®šèƒ½çœä¸€æ¬¡ç»´ä¿®å‘¢ã€‚</content></entry><entry><title>åˆ¶ä½œlibPSI dockeré•œåƒ</title><url>http://www.luckfu.com/post/2022-03-31_libpsi_docker/</url><categories><category>K8s</category></categories><tags><tag>libPSI</tag><tag>éšç§è®¡ç®—</tag></tags><content type="html"> libPSIæ˜¯â€œéšç§ä¿æŠ¤é›†åˆæ±‚äº¤â€çš„å¼€æºåº“ï¼ˆå…¶å®è¿˜åŒ…å«å…¶ä»–ç®—æ³•ï¼‰ã€‚ä¸‹æ–‡æ˜¯ä¸ºæ–¹ä¾¿éƒ¨ç½²æµ‹è¯•ç¯å¢ƒåˆ¶ä½œå®¹å™¨é•œåƒçš„è„šæœ¬
Dockerfile
FROM ubuntu MAINTAINER luckfu@gmail.com ENV PATH=/usr/local/cmake/bin:/usr/local/bin:/usr/bin:$PATH \ C_INCLUDE_PATH=/usr/local/include/:$C_INCLUDE_PATH \ CPLUS_INCLUDE_PATH=/usr/local/include/:$C_INCLUDE_PATH \ LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH \ LIBRARY_PATH=/usr/local/lib:$LIBRARY_PATH RUN apt -y update \ &amp;&amp; apt install gcc g++ m4 openssl libssl-dev libsodium-dev libtool python3 git wget lzip make -y \ &amp;&amp; apt-get clean \ &amp;&amp; ln -s /usr/bin/python3 /usr/bin/python \ &amp;&amp; echo "start cmake \n ------------------------------ \n" \ &amp;&amp; wget https://github.com/Kitware/CMake/releases/download/v3.21.3/cmake-3.21.3.tar.gz \ &amp;&amp; tar xvf cmake-3.21.3.tar.gz \ &amp;&amp; cd cmake-3.21.3 \ &amp;&amp; ./bootstrap --prefix=/usr/local/ \ &amp;&amp; make &amp;&amp; make install \ &amp;&amp; cd .. \ &amp;&amp; ln -s /usr/local/bin/cmake /usr/bin/cmake \ &amp;&amp; rm -rf cmake-3.21.3 cmake-3.21.3.tar.gz\ &amp;&amp; echo "start libPSI \n -------------------------------\n" \ &amp;&amp; git clone https://github.com/osu-crypto/libPSI.git \ &amp;&amp; cd libPSI \ &amp;&amp; python build.py \ &amp;&amp; ./out/build/linux/frontend/frontend.exe -u \ &amp;&amp; ln -s /libPSI/out/build/linux/frontend/frontend.exe /usr/bin/frontend.exe æ„å»ºé•œåƒï¼š
docker build -t libpsi . --no-cache è¿è¡Œæµ‹è¯•ï¼š
docker run --rm -it libpsi frontend.exe -u</content></entry><entry><title>è­¦æƒ•éª—å­</title><url>http://www.luckfu.com/post/2022-03-28_alert_scammers/</url><categories/><tags/><content type="html"> ä»Šå¤©æ”¶åˆ°è¯ˆéª—çŸ­ä¿¡
INDIANA DEPARTMENT OF WORKFORCE DEVELOPMENT: Your Back2Work deposit of 2,800.00 is now available, click on https://blueberryservices.in/uplink/g to receive payment</content></entry><entry><title>ä¿®æ”¹k8sé›†ç¾¤ip</title><url>http://www.luckfu.com/post/2022-03-25_change_k8s_ip/</url><categories><category>K8s</category></categories><tags><tag>k8s</tag><tag>kubernetes</tag><tag>IP Address</tag></tags><content type="html"> è¿‘æœŸå› ä¸ºipåœ°å€æ´ç™–ï¼Œéœ€è¦å°†ä¸€ä¸ªåœ¨çº¿çš„k8sé›†ç¾¤åœ°å€æ›¿æ¢æˆå¦ä¸€ä¸ªé¡ºåºåœ°å€ã€‚è¿‡ç¨‹è®°å½•å¦‚ä¸‹ï¼š
æ€è·¯ï¼š 1ã€ä¿®æ”¹nfsæœåŠ¡å™¨é…ç½®ï¼Œå…è®¸æ–°ipè®¿é—® 2ã€åœä¸€å°master æœåŠ¡å™¨ï¼Œæ”¹IPï¼Œé‡æ–°åŠ å…¥é›†ç¾¤åšmaster 3ã€é‡å¤æ“ä½œç›´åˆ°masterèŠ‚ç‚¹å…¨éƒ¨æ›´æ¢ip 4ã€åœæ­¢éƒ¨åˆ†nodeï¼Œä¿®æ”¹ipï¼ŒåŠ å…¥é›†ç¾¤ã€‚ 5ã€åœæ­¢å‰©ä¸‹çš„nodeï¼Œä¿®æ”¹ipï¼ŒåŠ å…¥é›†ç¾¤ åˆ é™¤ä¸»èŠ‚ç‚¹ (master ä¸»æœºæ‰§è¡Œ) # kubectl get nodes NAME STATUS ROLES AGE VERSION k8s-master Ready master 195d v1.17.1 k8s-worker1 Ready &lt;none> 194d v1.17.1 k8s-worker2 Ready &lt;none> 194d v1.17.1 k8s-worker3 Ready &lt;none> 181d v1.17.1 k8s-worker4 Ready master 181d v1.17.1 k8s-worker5 Ready &lt;none> 181d v1.17.1 k8s-worker6 Ready master 181d v1.17.1 # kubectl drain k8s-worker6 --delete-local-data --force --ignore-daemonsets kubectl drain k8s-worker6 --delete-local-data --force --ignore-daemonsets node/k8s-worker6 cordoned node/k8s-worker6 drained # kubectl delete node k8s-worker6 node "k8s-worker6" deleted # kubectl get nodes NAME STATUS ROLES AGE VERSION k8s-master Ready master 195d v1.17.1 k8s-worker1 Ready &lt;none> 194d v1.17.1 k8s-worker2 Ready &lt;none> 194d v1.17.1 k8s-worker3 Ready &lt;none> 181d v1.17.1 k8s-worker4 Ready master 181d v1.17.1 k8s-worker5 Ready &lt;none> 181d v1.17.1 åˆ é™¤å¤±æ•ˆçš„etcd (master ä¸»æœºæ‰§è¡Œ) # docker exec -it $(docker ps -f name=etcd_etcd -q) /bin/sh etcdctl --endpoints 127.0.0.1:2379 --cacert /etc/kubernetes/pki/etcd/ca.crt --cert /etc/kubernetes/pki/etcd/server.crt --key /etc/kubernetes/pki/etcd/server.key member list 75586071aa4f50d0, started, k8s-master, https://10.25.207.74:2380, https://10.25.207.74:2379, false 8beff87c2c833c9d, started, k8s-worker4, https://10.25.207.78:2380, https://10.25.207.78:2379, false ae6c4d540db7935b, started, k8s-worker6, https://10.25.207.80:2380, https://10.25.207.80:2379, false åœ¨å®¹å™¨ä¸­å°†è¿™å°æœåŠ¡å™¨ä» etcd é›†ç¾¤ä¸­ç§»é™¤
etcdctl --endpoints 127.0.0.1:2379 --cacert /etc/kubernetes/pki/etcd/ca.crt --cert /etc/kubernetes/pki/etcd/server.crt --key /etc/kubernetes/pki/etcd/server.key member remove ae6c4d540db7935b é‡ç½®æœ¬æœºk8ç¯å¢ƒ ( å˜æ›´ä¸»æœºæ‰§è¡Œ) kubeadm reset æ–°ipåæ›´æ¢hostname ( å˜æ›´ä¸»æœºæ‰§è¡Œ) export server=k8s-master3 hostnamectl --static set-hostname $server;hostnamectl --transient set-hostname $server k8s master è·å–è¯ä¹¦ (master ä¸»æœºæ‰§è¡Œ) # kubeadm init phase upload-certs --upload-certs [upload-certs] Using certificate key: cb7e8c0b643963eca9bcfa90d35390cc3de8d38398e0ea354e25311f380c86ea # kubeadm token create --print-join-command kubeadm join apiserver.k8s.com:6443 --token yu6jh8.g4xl2a3nbgr9jo52 --discovery-token-ca-cert-hash sha256:9fc7ce12374c9b1cc87b4acef89682d3a5bc57ccb48f04fa9e4693609e4bb46d åŠ å…¥é›†ç¾¤ ( å˜æ›´ä¸»æœºæ‰§è¡Œ) kubeadm join apiserver.k8s.com:6443 --token yu6jh8.g4xl2a3nbgr9jo52 \ --discovery-token-ca-cert-hash sha256:9fc7ce12374c9b1cc87b4acef89682d3a5bc57ccb48f04fa9e4693609e4bb46d \ --control-plane --certificate-key 5feca6f707cd03d4329a9fb4b598bd14ec886413dc41f1e06b81acf7ddd0ff8f \ --v=5 # mkdir -p $HOME/.kube # cp -i /etc/kubernetes/admin.conf $HOME/.kube/config # chown $(id -u):$(id -g) $HOME/.kube/config # kubectl get nodes NAME STATUS ROLES AGE VERSION k8s-master Ready master 195d v1.17.1 k8s-master3 Ready master 40s v1.17.1 k8s-worker1 Ready &lt;none> 195d v1.17.1 k8s-worker2 Ready &lt;none> 195d v1.17.1 k8s-worker3 Ready &lt;none> 182d v1.17.1 k8s-worker4 Ready master 182d v1.17.1 k8s-worker5 Ready &lt;none> 182d v1.17.1 æ›´æ¢èŠ‚ç‚¹IP åˆ é™¤èŠ‚ç‚¹ [root@k8s-master ~]# kubectl get nodes NAME STATUS ROLES AGE VERSION k8s-master Ready master 26d v1.17.1 k8s-master2 Ready master 26d v1.17.1 k8s-master3 Ready master 27d v1.17.1 k8s-worker1 Ready &lt;none> 222d v1.17.1 k8s-worker2 Ready &lt;none> 222d v1.17.1 k8s-worker3 Ready &lt;none> 209d v1.17.1 k8s-worker5 Ready &lt;none> 209d v1.17.1 åˆ é™¤èŠ‚ç‚¹ [root@k8s-master ~]# kubectl delete nodes k8s-worker5 node "k8s-worker5" deleted [root@k8s-master ~]# kubectl delete nodes k8s-worker3 node "k8s-worker3" deleted è¢«åˆ é™¤èŠ‚ç‚¹ä¸Šæ¸…é™¤æ•°æ® ssh k8s-worker5 kubeadm reset rm -rf /etc/cni/net.d rm -rf $HOME/.kube/config rm -rf /etc/kubernetes/ åŠ å…¥èŠ‚ç‚¹
kubeadm token create --print-join-command kubeadm join apiserver.k8s.com:6443 --token of5d4s.jdr4bho8uhg0yjax --discovery-token-ca-cert-hash sha256:9fc7ce12374c9b1cc87b4acef89682d3a5bc57ccb48f04fa9e4693609e4bb46d</content></entry><entry><title>helm éƒ¨ç½²mysqlä¸»ä»åº“</title><url>http://www.luckfu.com/post/2022-03-15_helm_deploy_mysql_master_slave/</url><categories><category>k8s</category><category>mysql</category></categories><tags><tag>k8s</tag><tag>mysql</tag><tag>å¤åˆ¶</tag></tags><content type="html"> é€šè¿‡helmåœ¨k8sä¸Šéƒ¨ç½²mysqlä¸»ä»åº“ æ­å»ºä¸€ä¸ªä¸»ä»å¤åˆ¶ï¼ˆMaster-Slaveï¼‰çš„MySQLé›†ç¾¤
æ·»åŠ  helm æº helm repo add stable https://kubernetes.oss-cn-hangzhou.aliyuncs.com/charts/ helm repo add bitnami https://charts.bitnami.com/bitnami æŸ¥çœ‹é•œåƒ # helm search repo mysql NAME CHART VERSION APP VERSION DESCRIPTION bitnami/mysql 8.8.26 8.0.28 MySQL is a fast, reliable, scalable, and easy t... stable/mysql 0.3.5 Fast, reliable, scalable, and easy to use open-... bitnami/phpmyadmin 9.0.9 5.1.3 phpMyAdmin is a free software tool written in P... stable/percona 0.3.0 free, fully compatible, enhanced, open source d... stable/percona-xtradb-cluster 0.0.2 5.7.19 free, fully compatible, enhanced, open source d... bitnami/mariadb 10.3.7 10.5.15 MariaDB is an open source, community-developed ... bitnami/mariadb-cluster 1.0.2 10.2.14 DEPRECATED Chart to create a Highly available M... bitnami/mariadb-galera 7.1.0 10.6.7 MariaDB Galera is a multi-primary database clus... stable/gcloud-sqlproxy 0.2.3 Google Cloud SQL Proxy stable/mariadb 2.1.6 10.1.31 Fast, reliable, scalable, and easy to use open-... å¯¼å‡ºæœ€æ–°é…ç½®æ¨¡ç‰ˆ values.yaml helm show values bitnami/mysql > values.yaml ä¿®æ”¹æ¨¡ç‰ˆ åŸé…é¡¹ åŸå€¼ ä¿®æ”¹å€¼ è¯´æ˜ global.storageClass "" &ldquo;csi-rbd-sc&rdquo; k8sé›†ç¾¤å·²æœ‰çš„StorageClass image.debug false true æ‰“å¼€æ—¥å¿— architecture standalone replication ä¸»ä»å¤åˆ¶æ¨¡å¼ secondary.replicaCount 1 2 ä»èŠ‚ç‚¹æ•°é‡ å®‰è£…mysql helm install mysql8 bitnami/mysql -f values.yaml</content></entry><entry><title>çºªå¿µæœå“¥</title><url>http://www.luckfu.com/post/2022-01-23_xuzhao/</url><categories><category>ç”Ÿæ´»</category></categories><tags><tag>ç”Ÿæ´»</tag></tags><content type="html">
äºŒåå¹´å¤šå¹´çš„å¥½å…„å¼Ÿï¼Œè®¸æœï¼Œèµ°äº†ï¼Œäº«å¹´52ï¼Œæœ€è¿‘ä¸€æ®µæ—¶é—´å¸¸å¸¸é™·å…¥ç²¾ç¥ç©ºè€—ï¼Œæœ¬ä»¥ä¸ºçš„æ¥æ—¥æ–¹å¸¸ï¼Œç°åœ¨å´æ˜¯å¤©äººæ°¸éš”ã€‚ ä¸¤å‘¨å‰æ¥åˆ°æœå“¥çˆ±äººç”µè¯ï¼Œè¯´æœå“¥èµ°äº†ï¼Œä¸€æ—¶é—´è„‘å­å¤„äºåœé¡¿çŠ¶æ€ï¼Œæ¯•ç«Ÿå‡ å¤©å‰è¿˜è·Ÿæœå“¥å¾®ä¿¡èŠå¤©ï¼Œè¯´èµ·è¿˜åœ¨æŠ—ç‚ç—‡ä¹‹åæ²»ç–—é©¬ä¸Šè¦è¿›å…¥ä¸‹ä¸€é˜¶æ®µï¼Œå†å¾€å‰åæ¥å¤©ï¼Œè¿˜åœ¨è·Ÿæˆ‘èŠç”µè„‘é…ç½®ï¼Œæ€ä¹ˆæ‰èƒ½è®¿é—®å¤–ç½‘ï¼Œæ˜¯ä¸æ˜¯æˆ‘çš„ç½‘å…³æœ‰é—®é¢˜ç­‰ã€‚éª¤ç„¶çš„å™©è€—è®©æˆ‘è§‰å¾—ä¸€åˆ‡éƒ½ä¸çœŸå®ã€‚ç›´åˆ°çµå ‚è§åˆ°æœå“¥å°±èººåœ¨é‚£é‡Œï¼Œæ‰ä¸å¾—ä¸æ¥å—è¿™ä¸ªç°å®ï¼Œæœå“¥çš„å¤§å§å‘Šè¯‰æˆ‘ï¼Œå…¶å®ï¼Œæœå“¥æ²»ç–—æœŸé—´ä¸€ç›´åœ¨ç”Ÿæ­»è¾¹ç¼˜å¾˜å¾Šï¼Œç—…æƒ…éå¸¸å‡¶é™©ï¼Œä½†å¥½åœ¨æœå“¥è‡ªå·±å¾ˆä¹è§‚ï¼Œæ‰€ä»¥ä¼ é€’ç»™æˆ‘çš„ä¿¡æ¯ï¼Œä¹Ÿå¾ˆä¹è§‚ã€‚
æ¬¡æ—¥å‡ºæ®¡ï¼Œå› ä¸ºæˆ‘è·Ÿæœå“¥çš„å¤§éƒ¨åˆ†æœ‹å‹éƒ½ä¸ç†Ÿï¼Œä¸‹åˆåˆè¦èµ¶å»å¤–åœ°ï¼Œå°±æ²¡æœ‰å‚åŠ åˆé¤ï¼Œå»è·Ÿå¤§å§è¾è¡Œæ—¶ï¼Œå¤§å§è¯´ï¼Œæ„Ÿè°¢ä½ èƒ½æ¥ï¼Œæˆ‘å´åœ¨è„‘å­é‡Œå¹»åŒ–å‡ºç”»é¢ï¼Œå¦‚æœæˆ‘æ²¡å»ï¼Œæœå“¥æ­£ç”Ÿæ°”çš„å¯¹æˆ‘è¯´â€œä½ æ··è›‹ï¼Œæœ€åä¸€ç¨‹éƒ½ä¸æ¥é€æˆ‘&hellip;&hellip;â€
åˆè§æœå“¥ï¼Œå¤§çº¦æ˜¯åœ¨ä¹åå¹´ä»£åˆï¼Œé‚£æ—¶æˆ‘ä½çš„åœ°æ–¹ï¼Œæ—è¾¹æ˜¯å¹¿æ’­ç”µè§†å±€ï¼Œå®¶é‡Œæ²¡æœ‰çƒ§æ°´çš„è¯ï¼Œå¯ä»¥å»å¹¿ç”µå±€çš„é”…ç‚‰æˆ¿èŠ±2åˆ†é’±æ¥ä¸€ç“¶å¼€æ°´ï¼Œæœ‰æ¬¡å»æ‰“æ°´ï¼Œè§åˆ°ä¸€ä¸ªå…‰è†€å­çš„èƒ–å­ï¼Œèººåœ¨è½¦æ£šçš„è¾¹ä¸‰è½®æ‘©æ‰˜è½¦æ—çº³å‡‰ï¼Œå†åæ¥å¶å°”ä¹Ÿè§ä»–éª‘æ‘©æ‰˜å‡ºå…¥ï¼Œé‚£æ—¶æˆ‘ä»¬äº’ä¸ç›¸è¯†ï¼Œæˆ‘è¿˜åœ¨è¯»é«˜ä¸­ï¼Œä»–å¤§æ¦‚æ˜¯æ··ç¤¾ä¼šçš„æ¨¡æ ·ã€‚
å†åæ¥ï¼Œæˆ‘å‚åŠ å·¥ä½œï¼Œæˆ‘åº”è¯¥æ˜¯å±äºä¹åå¹´ä»£ç”µè„‘æŠ€æœ¯åœ¨é‚£ä¸ªä¸‰çº¿åŸå¸‚é‡Œå‡ºç±»æ‹”èƒçš„ï¼ŒæŸå¤©ï¼Œçªç„¶æœå“¥çªç„¶æ¥æˆ‘ä»¬é—¨é¢ï¼Œå¤§ä¾ƒè¦æ€ä¹ˆå±€åŸŸç½‘åŠå…¬ï¼ŒèŠçš„éå¸¸æŠ•æœºï¼Œéš”å¤©æœå“¥æ‹–äº†ä¸€è½¦ç”µè„‘ï¼Œå«ä¸Šæˆ‘ï¼Œå»äº†å¹¿æ’­ç”µå°ï¼Œå½“å¤©æˆ‘ç”šè‡³è§åˆ°äº†ä¸­å­¦æ—¶â€œä»¥èƒ½æ‹¨é€šç”µè¯ç‚¹æ­Œæˆ–è€…å†™ä¿¡è¢«å›å¤ä¸ºè£â€çš„æ’­éŸ³ä¸»æŒäººï¼Œå¹¿æ’­å°æ’­éŸ³å’ŒåŠå…¬å®¤åœ¨ä¸¤å±‚æ¥¼ï¼Œé“ºè®¾è°ƒè¯•å±€åŸŸç½‘ï¼Œæˆ‘ä»¬æ¥¼ä¸Šæ¥¼ä¸‹å¿™çš„ä¸äº¦ä¹ä¹ã€‚å†åæ¥ï¼Œæœå“¥é—²æ¥æ— äº‹å°±å¸¸å¸¸æ¥æ‰¾æˆ‘ä»¬ç©ï¼Œä¹Ÿå¸¸å¸¦æˆ‘å»ç”µå°ç©.
é‚£æ—¶æˆ‘ä»¬éƒ½å¹´è½»ï¼Œæ²¡å¿ƒæ²¡è‚ºçš„ç©å°±è¡Œï¼Œå¸¸å¸¸æ™šä¸Šä¸€ä¸ª15å—é’±çš„é”…ä»”ï¼Œå‡ å—é’±çš„äºŒé”…å¤´ï¼Œèƒ¡å¹æµ·ä¾ƒçš„èŠå¤©å°±è§‰å¾—å¾ˆå¼€å¿ƒäº†ï¼Œè®°å¾—æœ‰ä¸€æ¬¡ï¼Œå–åˆ°äº†å‡é…’ï¼Œä¸€ä¸ªå…„å¼Ÿå‡ºé—¨å°±åäº†ï¼Œæˆ‘å¤§æ¦‚å¿«èµ°åˆ°å®¶æ—¶ä¹Ÿåäº†ï¼Œå”¯ç‹¬æœå“¥ï¼Œç¬¬äºŒå¤©è·Ÿæˆ‘ä»¬è¯´ï¼Œå¯èƒ½å–äº†å‡é…’ï¼Œéš¾å—æ­»äº†å´å¿ä½æ²¡åã€‚ã€‚ã€‚
ä¹åå¹´ä»£æœ«æˆ‘ä»¬åŸå¸‚å¼€å§‹ç¦æ­¢çƒŸèŠ±çˆ†ç«¹ï¼Œæ´¾å‡ºæ‰€éƒ½ä¼šä¸Šè¡—å·¡é€»ï¼Œåˆšå¼€å§‹é‚£å¹´ï¼Œæ­£æœˆåäº”æ™šä¸Šï¼Œæœå“¥æ¥å«æˆ‘è¯´ï¼Œå¹´éƒ½è¦è¿‡å»äº†ï¼Œä¸ç‚¸ä¸€å¦é­å®åœ¨è¯´ä¸è¿‡å»ï¼Œç„¶åä»åŠå…¬å®¤æ‹¿å‡ºä¸€æŒ‚5åƒå“ï¼ŒæŒ‚åœ¨ä»–ä»¬å…¬å¸é—¨åº—çš„é—¨å£ï¼Œç‚¹ç‡ƒåå™¼é‡Œå•ªå•¦ç‚¸å¼€ï¼Œæˆ‘ä»¬èµ¶ç´§è·‘å¼€èº²åˆ°é™¢å­é‡Œã€‚
ä¹åå¹´ä»£æœ«ç¬¬ä¸€æ¬¡äº’è”ç½‘æ³¡æ²«æ—¶ï¼Œæœå“¥è¯´æˆ‘ä»¬æ¥åšä¸ªç½‘ç«™å§ï¼Œè™½ç„¶æœ€ç»ˆæˆ‘ä»¬ä»€ä¹ˆä¹Ÿæ²¡åšï¼Œä½†æƒ³æƒ³å½“æ—¶çš„è®¾å®šè¿˜æ˜¯åœå¤§èƒ†çš„ï¼Œè®¸è€å“¥å“¥çš„è®¾å®šæ˜¯æˆ’æ¯’ä¸»é¢˜ï¼Œç”šè‡³åŒ…æ‹¬å¸æ¯’è¦æ³¨æ„çš„æœ€ä½é™åº¦å®‰å…¨äº‹é¡¹ç­‰ï¼Œæƒ³æ¥å¦‚æœçœŸçš„èƒ½å®ç°ï¼Œç°åœ¨ä¹Ÿè¢«å…³åœäº†å§ã€‚
æœå“¥å½“æ—¶ä¸»è¦åšå®‰é˜²å·¥ç¨‹ï¼Œæœ‰ä¸€æ¬¡ä¸çŸ¥é“æ˜¯ä¸æ˜¯æŠµè´¦è¿˜æ˜¯ä»€ä¹ˆï¼Œå¼„å›å‡ å°å¤§å½©ç”µï¼Œé€åˆ°æˆ‘å®¶ä¸€å°ï¼Œå¤§æ¦‚æ˜¯ç”¨åˆ°04å¹´æ¬å®¶ï¼Œè€å±‹æˆ‘æ²¡å†å›å»è¿‡ï¼Œæœ‰å¯èƒ½æ‹†è¿çš„æ—¶å€™ç”µè§†æœºéƒ½è¿˜åœ¨ã€‚
2000å¹´åï¼Œä¸ºè°‹ç”Ÿæˆ‘åˆ°äº†æ·±åœ³ï¼Œç»™æœå“¥æ‰“ç”µè¯è”ç³»ï¼Œæœå“¥è¡¨ç¤ºæ€ä¹ˆä¸å£°ä¸å“å°±èµ°äº†ï¼Œåæ¥æœå“¥æ¥æ·±åœ³ï¼Œæˆ‘ä»¬ç«™åœ¨èµ›æ ¼æ—çš„è¿‡è¡—å¤©æ¡¥ä¸‹ï¼Œæˆ‘è·Ÿä»–è¯´ï¼Œæ·±åœ³äººçš„é€Ÿåº¦å’Œæˆ‘ä»¬é‚£é‡Œæ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸ä¿¡ä½ çœ‹å¤©æ¡¥ä¸Šèµ°è·¯çš„è¡Œäººï¼Œé€Ÿåº¦éƒ½æ¯”æˆ‘ä»¬é‚£é‡Œçš„äººå¿«ä¸€äº›ï¼Œåƒå¥”å‘½çš„ï¼Œæˆ‘ä»¬ä¸€èµ·é€›èµ›æ ¼å’Œæ—è¾¹çš„ç”µå­å…ƒä»¶æ‰¹å‘å¸‚åœºï¼Œæœå“¥å¾ˆæ„Ÿæ…¨ï¼Œè¿™é‡Œä»€ä¹ˆéƒ½èƒ½æ‰¾åˆ°ã€‚
2003å¹´ï¼Œè¾—è½¬æ­å·æœ€ç»ˆåˆ°äº†æ­¦æ±‰å·¥ä½œï¼Œæœå“¥å¾ˆé«˜å…´ï¼Œè§‰å¾—åœ¨æ­¦æ±‰å°±è¿‘äº†ï¼Œå¯ä»¥å¸¸èšã€‚ 2004å¹´ï¼Œè€ä¸œå®¶é‡åˆ°å±æœºï¼Œå·¥ä½œä¸Šæœ‰äº›ä¸ç¨³å®šï¼Œæœå“¥è·Ÿæˆ‘è¯´ï¼Œä¸å¦‚è¾èŒå›å®¶ï¼Œä¸€èµ·åˆ›ä¸šã€‚è®©æˆ‘åŠ å…¥ä»–çš„å…¬å¸ï¼Œæœå“¥å…¶å®è¯´è¿‡å¾ˆå¤šæ¬¡ï¼Œä½†æˆ‘å¿ƒä¸­ä¸€ç›´æœ‰ä¸ªå›å­ä¹‹äº¤æ·¡å¦‚æ°´çš„æ‰§å¿µï¼Œæˆ‘æ‹…å¿ƒå·¥ä½œå…³ç³»åäº†äº¤æƒ…ï¼Œæ¯•ç«Ÿä¹‹å‰äº²æˆšé—´ï¼Œæœ‹å‹é—´æœ‰è¿‡ä¸€äº›å·¥ä½œå’Œåˆä¼™çš„äº¤é›†åï¼Œåè€Œç›¸å¤„å°´å°¬ï¼Œæ‰€ä»¥ï¼Œæ¯æ¬¡éƒ½æ²¡æœ‰ç­”åº”ã€‚
2006å¹´ï¼Œæˆ‘åœ¨ä¸Šæµ·å‡ºå·®ä¸€å¹´ï¼Œæœå“¥åˆ°ä¸Šæµ·ä¸€ä¸ªæœˆï¼Œæˆ‘å¼€ä¸€ä¸ªæ ‡é—´å’Œä»–åŒä½ï¼Œä»–å€Ÿæ¥æœ‹å‹çš„è½¦ï¼Œæˆ‘ä»¬æ»¡ä¸Šæµ·ç©ï¼Œå¤œé‡Œå¼€è½¦åˆ°é—¸åŒ—ï¼Œå°è±¡é‡Œæ¯”è¾ƒæ·±çš„è¿˜æœ‰å»ä¸€ä¸ªåˆ˜å˜‰ç²å¼€çš„é…’å§ï¼Œé‚£æ®µæ—¶é—´æœ‰ç§åœ¨è€å®¶æ²¡å¿ƒæ²¡è‚ºçš„ç©è€æ—¶çš„æ„Ÿè§‰ã€‚
2008å¹´ï¼Œæˆ‘ç¦»å©šï¼Œå¾ˆè‹¦é—·ï¼Œæ—¶å¸¸æ‰¾æœå“¥èŠå¤©ã€‚
æœå“¥åº”è¯¥ç®—æ˜¯æˆåŠŸçš„å•†äººï¼Œæ‰€ä»¥ä»–æœ‰å’Œæˆ‘ä»¬è¿™æ ·å®Œå…¨ä¸åŒçš„æœ‹å‹åœˆï¼Œä½†æœå“¥ä¸€ç›´å–œçˆ±æŠ€æœ¯ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªITè¾¾äººï¼Œå¸¸å¸¸ç—´è¿·æŠ€æœ¯æˆ–è€…æ–°äº§å“ï¼Œå¾ˆæ—©ä¹‹å‰nasè¿˜æ²¡æœ‰æµè¡Œæ—¶ï¼Œä¸çŸ¥ä»é‚£å“ªé‡Œçœ‹æ¥buffaloçš„naså¯ä»¥æ”¹æœºï¼Œäºæ˜¯ä¾¿å®šäº†ä¸¤å°ç»™æˆ‘å¿«é€’æ¥ä¸€å°ï¼Œæˆ‘æ”¹å®Œä¹‹åç¡®å®æ²¡æœ‰è¿™æ–¹é¢çš„éœ€æ±‚ï¼Œåªèƒ½æ‰”åœ¨åŠå…¬å®¤ï¼Œåæ¥è§‰å¾—atomçš„cpuä¸€å®šèƒ½åšæœºé¡¶ç›’ï¼Œä¾¿åˆç»™æˆ‘å‘æ¥ä¸€å°åç¡•eeebox N270çš„ç”µè„‘ï¼Œå†åæ¥ï¼Œipadåˆä»£åˆšå‡ºï¼Œæœå“¥æ—©æ—©ä¹°äº†é€æˆ‘ä¸€å°ï¼Œè¯´è®©æˆ‘ä½“éªŒä¸€ä¸‹ã€‚
2009å¹´ï¼Œè½¦ç¥¸ä¼¤äº†è„šï¼Œä¸ä¸¥é‡ï¼Œä½†åœ¨æ­¦æ±‰æ²¡äººç…§é¡¾ï¼Œå§å¤«å½“å¤©èµ¶åˆ°æ­¦æ±‰å´æ²¡æœ‰å¼€è½¦ï¼Œæ‰“ç”µè¯ç»™æœå“¥ï¼Œæœå“¥äºŒè¯ä¸è¯´å¼€è½¦å¾€è¿”600å…¬é‡Œï¼ŒæŠŠæˆ‘æ¥å›å®¶ã€‚
å½“å¹´æœ‰ä¸€éƒ¨å¾ˆæœ‰åçš„ç¾éš¾ç‰‡ã€Š2012ã€‹ï¼Œ2011å¹´çš„æ—¶å€™ï¼Œç½‘ä¸Šå……æ–¥ç€å„ç§é˜´è°‹è®ºï¼Œæœ‰å„ç§è°·æ­Œåœ°å›¾ä¸Šçš„è¥¿è—â€œæ–¹èˆŸåŸºåœ°â€ï¼Œæˆ‘ä»¬å¸¸å¸¸åœ¨QQä¸Šè®¨è®ºå„ç§è¯æ®ï¼Œé‚£æ—¶æˆ‘å·²æ˜¯å•èº«ï¼ŒæŠ±ç€æ— æ‰€è°“çš„æ€åº¦è¯´ï¼Œåœ°çƒéƒ½è¦æ¯ç­äº†ï¼Œé‚£å°±ä¸€èµ·æ¯ç­å§ï¼Œæœå“¥ä¸€æœ¬æ­£ç»çš„è·Ÿæˆ‘è¯´ä»¥å‰ä»–ä¹Ÿæ˜¯æ— æ‰€è°“çš„ï¼Œå…³é”®æ˜¯ç°åœ¨æœ‰äº†å„¿å­ï¼Œå°±åˆäº†ç‰µæŒ‚ï¼Œå¦‚æœçœŸçš„åœ°çƒæ¯ç­å‹ç¾éš¾ï¼Œè¿˜æ˜¯å¸Œæœ›å„¿å­èƒ½æ´»ä¸‹æ¥ã€‚
å‰å‡ å¹´ï¼Œæœå“¥æ¯å¹´æ˜¥èŠ‚è¿˜èƒ½åˆ°æˆ‘å®¶åƒä¸ªé¥­å–ä¸ªé…’ï¼Œ2020å¹´æ–°å† ç–«æƒ…çˆ†å‘ï¼Œæ‰“æ–­äº†è¿™ä¸ªæƒ¯ä¾‹ï¼Œè§£å°åä¸€æ¬¡å»æœå“¥å®¶ï¼Œä»–å› ä¸ºå¥³å„¿æ„ŸæŸ“æ‰‹è¶³å£è‡ªå·±è¢«ä¼ æŸ“ï¼Œç—…çš„å¾ˆé‡ï¼ŒæŒ‰å¤§å§çš„è¯´æ³•ï¼Œè¿™æ—¶å€™å¯èƒ½å…ç–«ç³»ç»Ÿå°±æœ‰ç‚¹é—®é¢˜ï¼Œä¸ç„¶æ€ä¹ˆå…¨å®¶å°±ä»–ä¸€ä¸ªæˆå¹´äººæ„ŸæŸ“ã€‚
2021å¹´ä¸ŠåŠå¹´ï¼Œæˆ‘ä»¬è¿˜åœ¨è®¨è®ºæ€ä¹ˆè®¢é˜…æ²¹ç®¡å’Œå¥ˆé£ä¼šå‘˜ï¼Œæ€ä¹ˆé‚€è¯·ç ä¸Šclubhuseï¼Œæ€ä¹ˆæ³¨å†Œoracleå…è´¹ä¸»æœºåšé€šé“ä¸Šå¤–ç½‘ï¼Œè°ƒä¾ƒç¨‹åºå‘˜çš„æœ€ç»ˆå‡ºè·¯æ˜¯é€å¤–å–ï¼Œä¸ŠåŠå¹´æœ‰ä¸€æ¬¡åœ¨ä¸€ä¸ªé…’å±€å–é†‰äº†ï¼Œæ˜¯æœå“¥ä¸€ç›´é™ªæˆ‘å–èŒ¶èŠå¤©åˆ°é†’é…’ã€‚
4æœˆä»½æœ€åä¸€æ¬¡ä¸¤å®¶äººå¸¦å­©å­ç©è€åï¼Œæœå“¥å¸¦æˆ‘ä»¬å»ä»–è§‰å¾—ä¸é”™çš„çƒ§çƒ¤æ‘Šåƒå®µå¤œã€‚
åˆ°äº†6æœˆåº•ï¼Œæœ¬æ‰“ç®—å¸¦å„¿å­å»æœå“¥å®¶ç©ï¼ŒèŠäº†ä¸¤å¥è§‰å¾—ä¸å¤ªå¯¹åŠ²ï¼Œæ¯•ç«Ÿå‡ åå¹´å…„å¼Ÿï¼Œè¨€è°ˆé—´èƒ½æ„Ÿè§‰åˆ°æœ‰äº‹æƒ…å‘ç”Ÿï¼Œäºæ˜¯åˆ°ä»–å®¶ï¼Œè¿™æ—¶å·²ç»æ£€æµ‹å‡ºæ·‹å·´ç™Œå¹¶ä¸”åšäº†æ‰‹æœ¯ï¼Œæœå“¥è¦æˆ‘ä¿å¯†ï¼Œä¸è¦è·Ÿä»»ä½•äººè¯´ï¼Œå› ä¸ºåŒ–ç–—çš„åŸå› ç™½ç»†èƒæŒ‡æ ‡ç‰¹åˆ«ä½ï¼Œæ²¡æœ‰æŠµæŠ—åŠ›ï¼Œæ‰€ä»¥æˆ‘æ²¡æ•¢å¤šå¾…ï¼Œæˆ‘æƒ³æœå“¥æ¯•ç«Ÿæ˜¯ä¸ªç”Ÿæ„äººï¼Œç—…æƒ…ä¿å¯†å¯ä»¥ç†è§£ï¼Œå›å®¶åä¹Ÿæ²¡è·Ÿå®¶é‡Œäººè¯´ï¼Œåæ¥å¬è®¸è€å“¥å“¥è¯´ï¼Œæœå“¥åœ¨ç—…æˆ¿é‡Œï¼Œå¸¸å¸¸æ¥ç”µè¯æ—¶å‘Šè¯‰å¯¹æ–¹ï¼Œä»–åœ¨å‡ºå·®ã€‚
7æœˆï¼Œæœå“¥æ¥æ­¦æ±‰åå’Œä½é™¢ï¼Œè®©æˆ‘ä¹°ç”µçƒ­å£¶å’Œæ°´æœç…®æ°´æœèŒ¶ï¼Œæœ¬æ¥ä½é™¢éƒ¨æ˜¯ä¸è®©è¿›çš„ï¼Œä½†æˆ‘ä¸Šæ¥¼ä¹‹åè¿˜æ˜¯ç¡¬æŒ¤äº†è¿›å»ï¼Œåæ¥å†é€æ°´æœå»çš„æ—¶å€™ï¼Œæœå“¥ç”šè‡³è¿˜å’Œå‘è€å¸ˆä¸€èµ·ï¼Œæˆ‘ä»¬åœ¨æ¥¼ä¸‹æ˜Ÿå·´å…‹å–äº†å’–å•¡èŠäº†ä¼šå„¿å¤©ï¼Œæ²¡æƒ³åˆ°é‚£æ¬¡æ˜Ÿå·´å…‹é‡Œç«Ÿç„¶æ˜¯ç°å®é‡Œæˆ‘ä»¬æœ€åä¸€æ¬¡è§é¢ã€‚åæ¥åˆæœ‰ä¸€æ¬¡ï¼Œæœå“¥ç”šè‡³è¯´å»å¤–é¢æ‰¾ä¸ªé¤é¦†ä¸€èµ·åƒä¸ªé¥­ï¼Œç€å®å“ç€æˆ‘äº†ï¼Œæˆ‘èµ¶ç´§è¯´ ç­‰ä½ èº«ä½“å¥½äº†ï¼Œæˆ‘ä»¬å†å‡ºæ¥åƒé¥­ï¼Œç°åœ¨å¤–é¢å¯¹ä½ æ¥è¯´å¤ªå±é™©&hellip;
10æœˆï¼Œå›½åº†èŠ‚æœŸé—´ï¼Œæœå“¥å·²ç»å›å®¶ä½é™¢ï¼Œå¥ˆä½•ç—…æˆ¿ä¸è®©è¿›ï¼Œå¬è¯´æœå“¥çš„äºŒå§ä»ä¸Šæµ·å›æ¥ï¼Œéš”ç¦»15å¤©ï¼Œç„¶åå‡æœŸå°±ç»“æŸäº†ï¼Œç»ˆç©¶ä¹Ÿæ²¡èƒ½è¿›ç—…æˆ¿ã€‚
11æœˆï¼Œæœå“¥åˆæ¥äº†æ­¦æ±‰ï¼Œè¿™æ¬¡æ˜¯åŒæµï¼Œæˆ‘å»äº†ä¸¤æ¬¡ï¼Œä¹Ÿåªèƒ½åœ¨æ¥¼ä¸‹è§åˆ°å°å‘è€å¸ˆï¼Œæœ€åä¸€æ¬¡å»ï¼Œå‘è€å¸ˆè¯´ï¼ŒCAR-Tå·²ç»åˆ¶å¤‡å®Œï¼Œåœ¨å†·åº“æ”¾ç€äº†ï¼Œå°±ç­‰å›è¾“ï¼Œæˆ‘ç”šè‡³æ„Ÿè§‰æœ‰ç‚¹å…´å¥‹äº†ï¼Œå› ä¸ºè¿™ç§ç–—æ³•æœ€è¿‘ä¼ çš„ç¥ä¹å…¶ç¥ï¼Œæ–°é—»é‡Œéƒ½æ˜¯ç—Šæ„ˆçš„æŠ¥é“ï¼Œè§‰å¾—æœå“¥é‡åˆ°äº†å¥½æ—¶å€™ï¼Œæœå“¥è‡ªå·±åº”è¯¥ä¹Ÿæ˜¯æ»¡æ€€å¸Œæœ›çš„ï¼Œæœ€åä¸€æ¬¡è§†é¢‘ï¼Œæœå“¥çœ‹ç€æˆ‘åšå®Œæ—©é¤ï¼Œè¯„ä»·åƒçš„è¿˜å¯ä»¥ï¼Œå°±æ˜¯ç¼ºäº†ç‚¹è”¬èœï¼Œç„¶åèŠèµ·åœ¨åŒ»é™¢é™„è¿‘ç§Ÿæˆ¿ï¼Œå› ä¸ºæ¢å¤æœŸè¦æ±‚å‡ºç°çŠ¶å†µ30åˆ†é’Ÿèƒ½åˆ°åŒ»é™¢ã€‚
12æœˆ29ï¼Œæˆ‘é—®æœå“¥ï¼Œä»€ä¹ˆæ—¶å€™èƒ½è¿›è¡Œä¸‹ä¸€æ­¥æ²»ç–—ï¼Œæœå“¥è¯´å¿«äº†ï¼Œå…ƒæ—¦æ”¾å‡åçš„ç¬¬ä¸€ä¸ªå‘¨æœ«ï¼Œå°å‘è€å¸ˆæ‰“æ¥ç”µè¯ï¼Œè¯´æœå“¥å·²ç»èµ°äº†.
å¥—ç”¨ä¸€å¥ä»¥å‰æœå“¥è¯´è¿‡çš„è¯ï¼Œä¸€ä¸ªäººç”Ÿé‡Œåšäº†å¤§åŠè¾ˆå­æœ‹å‹çš„äººå°±è¿™ä¹ˆèµ°äº†&hellip;&hellip;ğŸ™
æœå“¥çš„è¿½æ‚¼ä¼šï¼Œè®¸è€å“¥å“¥è¯´äº†å¾ˆå¤šæœå“¥çš„äººç”Ÿå’Œå·¥ä½œç»å†ï¼Œä½†äºæˆ‘è®°å¿†ä¸­çš„æœå“¥ï¼Œé‚£åªæ˜¯å¾ˆå°çš„ä¸€éƒ¨åˆ†ï¼Œå¹´çºªå¤§äº†ï¼Œè®°æ€§ä¸å¥½ï¼Œè®°ä¸‹ä¸€äº›ç¢å¿µï¼Œç¼…æ€€æœå“¥ã€‚ æœå“¥ä¸€ç›´çƒ­è¡·äºç½‘ç»œä¸Šå„ç§æ–°å¥‡åº”ç”¨ï¼Œæœå“¥èµ°äº†ï¼Œäº’è”ç½‘ç†åº”ç•™æœ‰ä»–çš„å°è®°ï¼Œæˆ–è®¸ï¼Œä¸‹ä¸€æ¬¡githubå†æŠŠæ•°æ®å¤‡å…¥å†°å·1000å¹´ï¼Œè¿™äº›ç¢å¿µä¹Ÿä¼šåŸ‹è—åƒå¹´&hellip;&hellip;</content></entry><entry><title>æ¢¨è†å’–å•¡</title><url>http://www.luckfu.com/post/2021-12-25_xueli_gao_coffee/</url><categories><category>ç”Ÿæ´»</category></categories><tags><tag>ç”Ÿæ´»</tag></tags><content type="html"> æ—©ä¸Šåˆ·å¤´æ¡ï¼Œä¸€ä¸ªè§†é¢‘ä¸­æåˆ°ä¸­å¼å’–å•¡ï¼Œå’–å•¡å…é‡Œä¸€ä¸ªè€å¤–æ­£åœ¨å“å°â€œé™ˆçš®å’–å•¡â€ï¼Œäºæ˜¯èµ·åºŠåæˆ‘ä¹Ÿç”¨èƒ¶å›Šå’–å•¡æ‰“äº†ä¸€æ¯æ¢¨è†å’–å•¡ğŸ˜Š å‘³é“è¿˜ä¸é”™ï¼Œå’–å•¡æ¢¨è†ä¸€æ¬¡å–äº†</content></entry><entry><title>å®‰è£… HoRNDISé©±åŠ¨ å°†Androidè®¾å¤‡USBå…±äº«ç½‘ç»œç»™Mac Monterey</title><url>http://www.luckfu.com/post/2021-12-23_horndis_mac/</url><categories><category>Monterey</category><category>macOS</category><category>RNDIS</category><category>USBç½‘ç»œå…±äº«</category><category>HoRNDIS</category></categories><tags><tag>Monterey</tag><tag>macOS</tag><tag>RNDIS</tag><tag>HoRNDIS</tag></tags><content type="html"> 1ã€macOSçš„RNDISæ”¯æŒ appleçš„å°åŠ¨ä½œä»Montereyå¼€å§‹å–æ¶ˆè“ç‰™PANç½‘ç»œå…±äº«ä¹‹åï¼Œä¸å¾—ä¸æƒ³å…¶å®ƒè¿æ¥æ–¹æ³•å®ç°åŒç½‘ç»œï¼ŒAndroidçš„USBç½‘ç»œå…±äº«åŸºäºRNDISåè®®ï¼Œæ®è¯´åœ¨windowsä¸‹å¯ç”¨ï¼Œä½†macOSæ²¡æœ‰åŸç”Ÿæ”¯æŒï¼Œåœ¨macä¸‹çš„ç¬¬ä¸‰æ–¹å®ç°ä¼¼ä¹åªæœ‰HoRNDIS å®˜ç½‘ https://www.joshuawise.com/horndis ä½†å®˜ç½‘ç»å¹´æœªæ›´æ–°è¿‡äº†ï¼Œæä¾›çš„æœ€æ–°ç‰ˆä»…ä»…æ”¯æŒåˆ° macOS10.10 Yosemiteï¼Œç›´æ¥ä¸‹è½½å®‰è£…ä¼šæç¤ºç³»ç»Ÿé˜»æ­¢ä¸å®‰å…¨æ’ä»¶ï¼Œå¥½åœ¨HoRNDISå¼€æºç¤¾åŒºè¿˜æŒºæ´»è·ƒ å¯ä»¥é€šè¿‡githubä¸Šç›¸å…³åˆ†æ”¯å®‰è£…å¯¹åº”ç‰ˆæœ¬ã€‚
2ã€HoRNDIS ä¸‹è½½ Monterey å¯¹åº”çš„ https://github.com/chris1111/HoRNDIS ä¸‹è½½åœ°å€ https://github.com/chris1111/HoRNDIS/releases
ä¸‹è½½æ–‡ä»¶åè§£å‹å¯è§ 3ã€å®‰è£… å®‰è£…æ­¥éª¤è¯´æ˜åœ¨ â€œGUIDE Consent HoRNDIS.pdfâ€ä¸­
3.1 å…è®¸å®‰è£… å› ä¸ºæ˜¯ç¬¬ä¸‰æ–¹æ‰“åŒ…çš„ç¨‹åºï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ æ‰‹å·¥æ·»åŠ å…¬è¯ æ‰§è¡Œ Consent-HoRNDIS.commandï¼Œå¦‚æœç³»ç»Ÿé˜»æ­¢ï¼Œåœ¨â€œç³»ç»Ÿåå¥½è®¾ç½®â€=>&ldquo;éšç§ä¸å®‰å…¨"ä¸­å…è®¸ï¼Œ
3.2 å…³é—­SIP è¿›å…¥Recoveryæ¨¡å¼ï¼Œå…³é—­SIP
é‡å¯ï¼Œå¼€æœºæŒ‰ä½command+Ré”®ï¼Œè¿›å…¥æ¢å¤æ¨¡å¼ ç‚¹å‡»å®ç”¨å·¥å…· => ç‚¹å‡»ç»ˆç«¯ ç»ˆç«¯å†…è¾“å…¥å‘½ä»¤ï¼šcsrutil disable ç»ˆç«¯å†…è¾“å…¥å‘½ä»¤ï¼š/usr/sbin/spctl kext-consent add 54GTJ2AU36 é‡å¯ 3.3 å®‰è£…HoRNDIS æ‰“å¼€ HoRNDIS-Consent.pkg 3.4 å…è®¸HoRNDIS å†…æ ¸æ‰©å±• åœ¨â€œç³»ç»Ÿåå¥½è®¾ç½®â€=>&ldquo;éšç§ä¸å®‰å…¨"ä¸­å…è®¸appä»ä»»æ„ä½ç½® 3.5 å¼€å¯SIP (ä¸ºäº†å®‰å…¨) è¿›å…¥Recoveryæ¨¡å¼ï¼Œå¼€å¯SIP
é‡å¯ï¼Œå¼€æœºæŒ‰ä½command+Ré”®ï¼Œè¿›å…¥æ¢å¤æ¨¡å¼ ç‚¹å‡»å®ç”¨å·¥å…· => ç‚¹å‡»ç»ˆç«¯ ç»ˆç«¯å†…è¾“å…¥å‘½ä»¤ï¼šcsrutil enable æœ€åé€šè¿‡ USB å°†æ‰‹æœºè¿æ¥åˆ° Macï¼Œæ‰“å¼€æ‰‹æœºä¸Šçš„usbç½‘ç»œå…±äº«&hellip;.</content></entry><entry><title>Kubernetesä¿®æ”¹NodePortèŒƒå›´å¿…é¡»è¦æ³¨æ„çš„é—®é¢˜</title><url>http://www.luckfu.com/post/2021-12-22_k8s-nodeport-range/</url><categories><category>k8s</category></categories><tags><tag>k8s</tag></tags><content type="html"> Kubernetes é›†ç¾¤ä¸­NodePorté»˜è®¤èŒƒå›´æ˜¯ 30000-32767ï¼Œç½‘ç»œä¸Šå¯¹ä¿®æ”¹æ–¹æ³•çš„è¯´æ˜å¾ˆå¤šï¼Œä½†æœ€è¿‘çš„å®é™…æ“ä½œä¸­ï¼Œæœ‰ä¸€ä¸ªéšè—çš„é—®é¢˜ï¼Œè®©æˆ‘èŠ±äº†ä¸€å¤©æ—¶é—´ã€‚
åœ¨MasterèŠ‚ç‚¹ä¸Šçš„æ–‡ä»¶ /etc/kubernetes/manifests/kube-apiserver.yamlï¼Œä¿®æ”¹æ­¤æ–‡ä»¶ï¼Œå‘å…¶ä¸­æ·»--service-node-port-range=1-65535
#ä½œä¸ºä¸€ä¸ªå¸¸å¹´æ“ä½œåœ¨çº¿ç³»ç»Ÿçš„çš„äººï¼Œä¸€å®šä¼šå…ˆå¤‡ä»½é…ç½®æ–‡ä»¶ï¼Œæ²¡æœ‰å¼‚è®®å§ï¼Ÿ cp kube-apiserver.yaml kube-apiserver.yaml.bak vi kube-apiserver.yaml ..... Host Port: &lt;none> Command: kube-apiserver - --service-cluster-ip-range=10.96.0.0/12 # æ’å…¥ - --service-node-port-range=1-65535 ...... ä¹‹åï¼Œå¤§éƒ¨åˆ†æ–‡æ¡£å‘Šè¯‰ä½ éœ€è¦
# è·å¾— apiserver çš„ pod åå­— export apiserver_pods=$(kubectl get pods --selector=component=kube-apiserver -n kube-system --output=jsonpath={.items..metadata.name}) # åˆ é™¤ apiserver çš„ pod kubectl delete pod $apiserver_pods -n kube-system åˆæˆ–è€…è¯´è¿˜è¦é‡å¯æœåŠ¡
systemctl daemon-reload systemctl restart kubelet ç”šè‡³è¿˜æœ‰å¦‚æœä½ æœ‰å¤šmasterèŠ‚ç‚¹ï¼Œéœ€è¦æ¯ä¸ªmasterèŠ‚ç‚¹æ“ä½œä¸€æ¬¡çš„è¯´æ³•,ä½†å®é™…æƒ…å†µæ˜¯ï¼Œä¸éœ€è¦æ¯å°masteré‡å¤æ“ä½œ(k8sä¼šè‡ªå·±åŒæ­¥)ï¼Œä½ æ—¢ä¸éœ€è¦é‡å¯masterèŠ‚ç‚¹ï¼Œä¹Ÿä¸éœ€è¦åˆ é™¤podçš„æ–¹å¼é‡å¯kube-apiserver
ä½ çœŸæ­£éœ€è¦çš„åªæ˜¯ä¿®æ”¹kube-apiserver.yamlï¼Œä¿®æ”¹å®Œæˆåä½ ä¼šå‘ç°æ— è®ºä½ åˆ é™¤podé‡å¯è¿˜æ˜¯é‡å¯æœåŠ¡ï¼Œæ–°é…ç½®éƒ½ä¸ç”Ÿæ•ˆï¼Œå…¶å®é—®é¢˜å°±å‡ºåœ¨å¤‡ä»½æ–‡ä»¶ï¼Œç§»èµ°kube-apiserver.yaml.bak å†æŸ¥çœ‹
kubectl describe pod $apiserver_pods -n kube-system ä½ ä¼šå‘ç°ç«¯å£èŒƒå›´å·²ç»ä¿®æ”¹ç”Ÿæ•ˆï¼</content></entry><entry><title>macOS Montereyä¸­è“ç‰™PAN(Bluetooth PAN)åˆ°å“ªé‡Œå»äº†ï¼Ÿ ğŸ˜¡</title><url>http://www.luckfu.com/post/2021-12-21_macos_monterey_bluetooth_apn/</url><categories><category>Monterey</category><category>Bluetooth PAN</category><category>macOS</category></categories><tags><tag>Monterey</tag><tag>Bluetooth PAN</tag><tag>macOS</tag></tags><content type="html"> æˆ‘æœ‰ä¸€å°åŠå…¬çš„æ—§macï¼Œæ“ä½œç³»ç»Ÿæ˜¯big surï¼Œä½¿ç”¨wifiè¿æ¥å†…ç½‘ï¼ŒåŒæ—¶è“ç‰™è¿æ¥æ‰‹æœºä¸Šå¤–ç½‘ï¼Œè¿™å¯¹æˆ‘æ¥è¯´æ˜¯åŠå…¬çš„ç¡¬æ€§éœ€æ±‚ï¼Œç„¶è€Œä¸å¹¸çš„æ˜¯æœ€è¿‘å‡çº§äº†Montereyï¼Œè“ç‰™ç½‘ç»œè¿æ¥æ²¡æœ‰äº†ã€‚
macOS big suræ—¶çš„è“ç‰™è¿æ¥ç½‘ç»œ macOS Montereyæ—¶ï¼Œè¿æ¥ç½‘ç»œæ¶ˆå¤±äº† æ›´ä¸å¹¸çš„æ˜¯ï¼Œä¸ºäº†æµ‹è¯•æ˜¯ä¸æ˜¯å‡çº§åˆ°macOS Montereyå¼•èµ·çš„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æŠŠå¦ä¸€å°mac airä¹Ÿå‡çº§åˆ°äº†Montereyï¼Œäºæ˜¯æˆ‘æ‰‹é‡Œæ‰€æœ‰çš„ç”µè„‘éƒ½ä¸èƒ½è¿æ¥è“ç‰™ç½‘ç»œäº†ã€‚</content></entry><entry><title>è”é‚¦å­¦ä¹ æ¡†æ¶ FATE å•æœºç‰ˆæºç éƒ¨ç½² ARMä¸»æœº</title><url>http://www.luckfu.com/post/2021-12-15_fate_install/</url><categories><category>FATE</category><category>è”é‚¦å­¦ä¹ </category></categories><tags><tag>FATE</tag><tag>FATE-Board</tag><tag>è”é‚¦å­¦ä¹ </tag></tags><content type="html"> FATE(Federated AI Technology Enabler)æ˜¯ä¸€ä¸ªè”é‚¦å­¦ä¹ æ¡†æ¶ã€‚æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªå®˜æ–¹æ–‡æ¡£æ•´åˆï¼Œå•ç‹¬è®°å½•çš„åŸå› æ˜¯è¿™æ¬¡éœ€è¦æºç éƒ¨ç½²ï¼Œå®˜æ–¹éƒ¨ç½²æ–‡æ¡£ https://github.com/FederatedAI/FATE ä¸­ä¸€äº›ç»†èŠ‚éœ€è¦è‡ªå·±æ‘¸ç´¢ï¼Œå½¢æˆæ€»ç»“ã€‚
1.éƒ¨ç½²å‰ç¯å¢ƒæ£€æŸ¥ pythonç¯å¢ƒ jdk Maven æœ¬åœ°8080ã€9360ã€9380ç«¯å£æ˜¯å¦è¢«å ç”¨ netstat -apln|grep 8080 netstat -apln|grep 9360 netstat -apln|grep 9380 2. è®¾ç½®ç¯å¢ƒå˜é‡ è®¾ç½®ç¯å¢ƒå˜é‡æ˜¯å› ä¸ºFATAæ¡†æ¶ä¸­ï¼Œå¾ˆå¤šè„šæœ¬è¦ç”¨åˆ°ç¯å¢ƒå˜é‡
export branch={åˆ†æ”¯åç§°, è‹¥ä½¿ç”¨æŸä¸ªå‘å¸ƒç‰ˆæœ¬åˆ†æ”¯, åˆ™ä¸º`vç‰ˆæœ¬å·`, å¦‚`v1.7.0`} export version={FATEç‰ˆæœ¬å·, å¦‚1.7.0} export version_tag={FATEç‰ˆæœ¬æ ‡ç­¾, å¦‚rc1/rc2/release} 3. è·å–æºç  git clone https://github.com/FederatedAI/FATE.git -b ${branch} --recurse-submodules --depth=1 #æˆ–è€… git clone https://gitee.com/FederatedAI/FATE.git -b ${branch} --depth=1; #æ›´æ–°ä»£ç  cd FATE; bash build/common/update_submodule_from_gitee.sh git pull git submodule update --remote 4. è¿è¡Œæ—¶ç¯å¢ƒå˜é‡ cd {ä¸Šè¿°ä»£ç çš„å­˜æ”¾ç›®å½•} export FATE_PROJECT_BASE=$PWD export version=`grep "FATE=" ${FATE_PROJECT_BASE}/fate.env | awk -F "=" '{print $2}'` 5. å®‰è£…FATEæ‰€éœ€è¦çš„Pythonä¾èµ–åŒ… 5.1 ä¿®æ”¹ä¾èµ–åŒ…è¯´æ˜æ–‡ä»¶ å®˜æ–¹éƒ¨ç½²æ–‡æ¡£ä¸­ requirementsç‰ˆæœ¬è¦æ±‚éå¸¸ä¸¥æ ¼ï¼Œå®é™…éƒ¨ç½²ä¸­ï¼Œå¯èƒ½å› ä¸ºæŸäº›åŸå› æ— æ³•æ»¡è¶³ï¼Œæ¯”å¦‚æˆ‘çš„ç¯å¢ƒæ˜¯ARMç‰ˆUbuntu,tensorflowå’Œpytouchçš„ç‰ˆæœ¬æ”¯æŒæœ‰é™ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥åˆ é™¤python/requirements.txtçš„ç‰ˆæœ¬æè¿°ã€‚åŸåˆ™ä¸Šç‰ˆæœ¬é«˜ä¸€ç‚¹æ˜¯å¯ä»¥çš„ã€‚
åœ¨ python/requirements.txt å¢åŠ 
ruamel.yaml peewee apsw dotenv redis cos-python-sdk-v5 beautifultable kazoo coverage cloudpickle lmdb coverage pycryptodomex libsm3py 5.2 å®‰è£…Pythonä¾èµ–åŒ… cd ${FATE_PROJECT_BASE}; sh bin/install_os_dependencies.sh; source ${FATE_VENV_BASE}/bin/activate; pip install -r python/requirements.txt 6. é…ç½®FATE ç¼–è¾‘bin/init_env.shç¯å¢ƒå˜é‡æ–‡ä»¶
cd ${FATE_PROJECT_BASE} sed -i.bak "s#PYTHONPATH=.*#PYTHONPATH=$PWD/python:$PWD/fateflow/python#g" bin/init_env.sh; sed -i.bak "s#venv=.*#venv=${FATE_VENV_BASE}#g" bin/init_env.sh æ£€æŸ¥conf/service_conf.yamlå…¨å±€é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å°†åŸºç¡€å¼•æ“é…ç½®ä¸ºå•æœºç‰ˆ, è‹¥default_enginesæ˜¾ç¤ºå¦‚ä¸‹ï¼Œåˆ™ä¸ºå•æœºç‰ˆ
default_engines: computing: standalone federation: standalone storage: standalone 7. å¯åŠ¨fate flow server cd ${FATE_PROJECT_BASE}; source bin/init_env.sh; cd fateflow; bash bin/service.sh status; bash bin/service.sh start æ˜¾ç¤ºå¦‚ä¸‹ç±»ä¼¼åˆ™ä¸ºå¯åŠ¨æˆåŠŸï¼Œå¦åˆ™è¯·ä¾æ®æç¤ºæŸ¥çœ‹æ—¥å¿—
bash service start sucessfully. pid: 111907 status:app 111907 75.7 1.1 3740008 373448 pts/2 Sl+ 12:21 0:17 python /xx/FATE/fateflow/python/fate_flow/fate_flow_server.py python 111907 app 14u IPv4 3570158828 0t0 TCP localhost:boxp (LISTEN) python 111907 app 13u IPv4 3570158827 0t0 TCP localhost:9360 (LISTEN) 8. å®‰è£…fate client cd ${FATE_PROJECT_BASE}; source bin/init_env.sh; cd python/fate_client/; python setup.py install åˆå§‹åŒ–fate flow client
cd ../../; flow init -c conf/service_conf.yaml æ˜¾ç¤ºå¦‚ä¸‹ç±»ä¼¼åˆ™ä¸ºåˆå§‹åŒ–æˆåŠŸï¼Œå¦åˆ™è¯·ä¾æ®æç¤ºæŸ¥çœ‹æ—¥å¿—
{ "retcode": 0, "retmsg": "Fate Flow CLI has been initialized successfully." } 9. FATE-Board å®‰è£… FATE-Boardçš„éƒ¨ç½²éœ€è¦javaç¯å¢ƒå’ŒMaven
9.1 é…ç½®ä¿®æ”¹ ä¿®æ”¹ ${FATE_PROJECT_BASE}/fateboard/src/main/resources/application.properties æ–‡ä»¶
spring.datasource.driver-Class-Name=org.sqlite.JDBC Â·Â·Â· fateboard.datasource.jdbc-url=jdbc:sqlite:è·¯å¾„/æ•°æ®åº“æ–‡ä»¶å 9.2 æ‰“åŒ… cd fateboard/ mvn clean package -DskipTests 9.3 å¯åŠ¨ FATE-Board nohup \ java -Dspring.config.location=${FATE_PROJECT_BASE}/fateboard/src/main/resources/application.properties \ -Dssh_config_file=${FATE_PROJECT_BASE}/fateboard//src/main/resources/ \ -Xmx2048m -Xms2048m -XX:+PrintGCDetails \ -Xloggc:gc.log -XX:+HeapDumpOnOutOfMemoryError \ -jar ${FATE_PROJECT_BASE}/fateboard//target/fateboard-${version}.jar > /dev/null 2>&amp;1 &amp; è®¿é—® http:127.0.0.1:8080 ç”¨æˆ·å admin å¯†ç  admin
10. æµ‹è¯•é¡¹ 10.1 Toyæµ‹è¯• flow test toy -gid 10000 -hid 10000 å¦‚æœæˆåŠŸï¼Œå±å¹•æ˜¾ç¤ºç±»ä¼¼ä¸‹æ–¹çš„è¯­å¥:
success to calculate secure_sum, it is 2000.0 10.2 å•å…ƒæµ‹è¯• cd ${FATE_PROJECT_BASE}; bash ./python/federatedml/test/run_test.sh å¦‚æœæˆåŠŸï¼Œå±å¹•æ˜¾ç¤ºç±»ä¼¼ä¸‹æ–¹çš„è¯­å¥:
there are 0 failed test</content></entry><entry><title>hugo + github action + github vscode çœŸé¦™</title><url>http://www.luckfu.com/post/2021-12-10_first_github_action/</url><categories><category>github</category><category>github action</category><category>hugo</category></categories><tags><tag>github</tag><tag>github action</tag><tag>hugo</tag></tags><content type="html"> github action çœŸé¦™ï¼Œgithubçš„vscodeç¼–è¾‘å™¨çœŸé¦™ï¼Œç»“åˆèµ·æ¥ğŸ˜„ æœ¬ç«™æ˜¯åŸºäºhugoå‘å¸ƒåœ¨github pagesä¸Š,è¿™ç§é™æ€ç½‘ç«™æ¯”è¾ƒéº»çƒ¦çš„æ˜¯ï¼Œæœ¬åœ°ç¼–è¾‘æœ¬åœ°å‘å¸ƒï¼Œpublicå‘å¸ƒåˆ°github.io,å¦‚æœè¿˜è¦æºç ä¹Ÿå­˜å…¥githubï¼Œè¿˜å¾—å†å»ºä¸€ä¸ªrepoå­˜æºç ï¼Œpublicä½œä¸ºsubmoduleæ·»åŠ åˆ°æ ¹repoï¼Œdeployæ—¶è¿˜å¾—submodule updateï¼Œ è¿˜å¥½æ­¤æ—¶æœ‰actionï¼Œé€šè¿‡:actions-hugoï¼Œåªéœ€è¦å‘å¸ƒæºç çš„repoï¼Œå°±å¯ä»¥æ›´æ–°github pages,çœŸé¦™
æ›´é¦™çš„æ˜¯ï¼Œgithub æ¨å‡ºäº†ç‰›é€¼å“„å“„çš„vscodeç¼–è¾‘å™¨ï¼Œåªè¦åœ¨æºç é¡¹ç›®ä¸Šç‚¹.é”® è‡ªåŠ¨è¿›å…¥ç½‘é¡µç‰ˆvscodeï¼Œè‡ªå¸¦gitï¼Œç°åœ¨å¯ä»¥é€šè¿‡è¿™ä¸ªç¼–è¾‘å™¨åœ¨çº¿ç¼–å†™å†…å®¹ï¼Œä¿å­˜æäº¤ï¼Œactionè‡ªåŠ¨å‘å¸ƒï¼Œå®ç°åœ¨çº¿ç¼–è¾‘blogçš„éœ€æ±‚ã€‚</content></entry><entry><title>å°†dockerå®¹å™¨ä½œä¸ºè™šæ‹ŸæœºæŠ˜è…¾</title><url>http://www.luckfu.com/post/2021-07-15_ampere_a1_docker/</url><categories><category>cloud vps</category><category>docker</category></categories><tags><tag>Oracle Cloud</tag><tag>Free VPS</tag><tag>docker</tag><tag>VM.Standard.A1.Flex</tag></tags><content type="html"> ä¸Šä¸€ç¯‡è¯´åˆ°Oracle Cloudå…è´¹ä¸”å¤§çƒ­çš„4c24gçš„VM.Standard.A1.Flexæœºå‹éš¾ç”³è¯·ï¼Œè€Œå®é™…ä½¿ç”¨ä¸­ï¼Œoracle cloudå…è´¹å¥—é¤ä¸­é™·é˜±è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§æƒ…å†µï¼š
å…è´¹ä¸»æœºè¶…é¢åº¦ï¼Œå…è´¹å­˜å‚¨è¶…é¢åº¦ï¼Œocä¼˜å…ˆåœæ‰çš„èµ„æºå°±æ˜¯è¿™ä¸ªA1.Flexæœºå‹ã€‚
A1.Flexæœºå‹å¯é€‰æ“ä½œç³»ç»Ÿåªæœ‰oracle linux 7æˆ–8ï¼Œä¸ä¸€å®šé¡ºæ‰‹ã€‚
æ“ä½œç³»ç»Ÿè¢«ç©åæ—¶ï¼Œä¸åƒä¸€èˆ¬äº‘æœåŠ¡æ§åˆ¶å°å¯ä»¥æ¢å¤é•œåƒï¼Œä½ åªèƒ½é‡æ–°ç”³è¯·
å°†å®¹å™¨ä½œä¸ºè™šæ‹Ÿæœºä½¿ç”¨å¹¶ä¸ç¬¦åˆå®¹å™¨åº”ç”¨éƒ¨ç½²çš„åˆè¡·ï¼Œä½†é‰´äºä»¥ä¸Šé—®é¢˜æœ¬æ–‡ä¸­é‡‡ç”¨dockeråˆ›å»ºä¸€ä¸ªå®¹å™¨ä»£æ›¿è™šæ‹Ÿæœºï¼Œä¸€åˆ‡åœ¨è™šæœºä¸­æ“ä½œï¼Œå½“ç³»ç»Ÿç¾éš¾ä¸å¯æ¢å¤æ—¶ï¼Œåˆ æ‰å°±å¥½ï¼Œçœå´åˆ·æœºæŠ¢æ³¨ä¹‹è‹¦ã€‚
å¸ƒç½²æ­¥éª¤ ssh ç™»å½•åˆ°ä¸»æœº
1ã€å®‰è£…docker yum install docker 2ã€Dockerfile ç¼–å†™Dockerfile
FROM ubuntu:20.04 LABEL MAINTAINER="luckfu.com" USER root # change root password to `ubuntu` RUN echo 'root:ubuntu' | chpasswd ENV DEBIAN_FRONTEND noninteractive # install ssh server RUN apt-get update &amp;&amp; apt-get install -y \ openssh-server sudo \ &amp;&amp; rm -rf /var/lib/apt/lists/* \ &amp;&amp; mkdir -p /run/sshd \ &amp;&amp; ssh-keygen -A \ &amp;&amp; sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/g' /etc/ssh/sshd_config \ &amp;&amp; apt-get purge -y --auto-remove EXPOSE 22 # run ssh server CMD ["/usr/sbin/sshd", "-D", "-o", "ListenAddress=0.0.0.0"] 3ã€ç”Ÿæˆé•œåƒ docker build -f ./Dockerfile -t ubuntu-ssh ä½¿ç”¨ docker imageså‘½ä»¤æŸ¥çœ‹
docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntuos-ssh latest b6010c26ebb7 1 days ago 189MB ubuntu 20.04 d5ca7a445605 8 weeks ago 65.6MB 4ã€å¯åŠ¨å®¹å™¨ æ‰§è¡Œå‘½ä»¤
docker run -d -p 9022:22 -p 8000-9000:8000-9000 \ -v /data/:/data \ --name ubuntuos-ssh ubuntuos-ssh ä¸»è¦å‚æ•°åŠå«ä¹‰ï¼š
å‚æ•° è§£é‡Š -d å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ -p ç«¯å£æ˜ å°„ [ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£] -v å­˜å‚¨å·æ˜ å°„ [ä¸»æœºç›®å½•:å®¹å™¨ç›®å½•] &ndash;name æŒ‡å®šå®¹å™¨åç§° ubuntuos ä¸Šè¿°å‘½ä»¤ä¸­æˆ‘ä»¬éƒ¨ç½²äº†ä¸€ä¸ªåç§°ä¸ºubuntuos-sshçš„å®¹å™¨ï¼Œå°†ä¸»æœºçš„/data(oracle cloud ä¸­å¯ä»¥ç”³è¯·100Gâ€œå§‹ç»ˆå…è´¹â€å­˜å‚¨ï¼ŒæŒ‚è½½åˆ°ä¸»æœº/data)æŒ‚è½½åˆ°å®¹å™¨çš„/dataä¸‹ï¼Œå°†ä¸»æœºçš„9022æ˜ å°„å®¹å™¨çš„sshæœåŠ¡22ç«¯å£ï¼Œå¦å¤–å¼€æ”¾äº†8000-9000ç«¯å£å¤‡ç”¨
æŸ¥çœ‹å®¹å™¨æ˜¯å¦è¿è¡Œ
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 0c9cf191daf2 ubuntuos-ssh "/usr/sbin/sshd -D -â€¦" 12 days ago Up 12 days 0.0.0.0:8000-9000->8000-9000/tcp, :::8000-9000->8000-9000/tcp, 0.0.0.0:9022->22/tcp, :::9022->22/tcp ubuntuos-ssh ç™»å½•å®¹å™¨ÃŸ
è¿™é‡Œæˆ‘ä»¬è¦ä½¿ç”¨sshï¼Œè€Œä¸æ˜¯exec -it è¿›å…¥
å¯†ç  ubuntu
ssh root@localhost -p 9022 root@localhost's password: (base) root@xxxxxxx:~# åˆ°è¿™é‡Œå¦‚æœæ­£å¸¸ç™»å½•ï¼Œåˆ™è¯´æ˜å®¹å™¨æ­£å¸¸è¿è¡Œ
5ã€é€šè¿‡ç½‘ç»œç™»å½• ç™»å½•oracle cloudæ§åˆ¶å°
æ£€æŸ¥å®¹å™¨ä½¿ç”¨çš„ 22 8000-9000ç«¯å£æ˜¯å¦å¼€é€š ä¸»æœºæ£€æŸ¥é˜²ç«å¢™å¦‚iptables firwwallä¸­ï¼Œç«¯å£æ˜¯å¦æ‰“å¼€ è¿œç¨‹ç™»å½• ssh root@IP -p 9022 å¯åŠ²é€ å§</content></entry><entry><title>ä½¿ç”¨pythonè„šæœ¬æŠ¢æ³¨Oracleç”²éª¨æ–‡ VM.Standard.A1.Flex</title><url>http://www.luckfu.com/post/2021-05-11_ampere_a1_free/</url><categories><category>cloud vps</category><category>python</category><category>oci</category></categories><tags><tag>Oracle Cloud</tag><tag>Free VPS</tag><tag>python script</tag><tag>è‡ªåŠ¨åŒ–è„šæœ¬</tag><tag>VM.Standard.A1.Flex</tag></tags><content type="html"> Oracle cloud å¼€æ”¾æ³¨å†Œè´¦å·èƒ½ç”³è¯·4c24gçš„å…è´¹äº‘æœåŠ¡å™¨,æ•°æ®åº“ä»¥åŠå…¶ä»–çš„æœåŠ¡ï¼Œ1c1gçš„x86æœåŠ¡å™¨æ¯”è¾ƒå®¹æ˜“ç”³è¯·ï¼Œä½†çƒ­é—¨çš„4c24gçš„Ampere A1ç±»å‹ä¸»æœºé€šè¿‡ç½‘é¡µæ­£å¸¸ç”³è¯·æ ¹æœ¬ç”³è¯·ä¸åˆ°ï¼Œç›®å‰ç½‘ç»œä¸Šæµè¡Œçš„æŠ¢æ³¨æ–¹æ³•æ— å¤–ä¹ä¸¤ç§æ¨¡å¼ï¼š
æµè§ˆå™¨æ’ä»¶æˆ–è„šæœ¬æˆ–æŒ‰é”®ç²¾çµï¼Œè¿™ç§æ–¹æ³•çš„é—®é¢˜æ˜¯æ§åˆ¶å°è¶…æ—¶ï¼Œè¿˜å®¹æ˜“è¢«æœåŠ¡å™¨åˆ¤å®šéæ³•æ“ä½œï¼Œç¦ç”¨è´¦å·ï¼Œå¯¹äºåŠ¨è¾„è¦æ±‚ç¨³å®šè¿è¡Œå‡ å¤©æ‰èƒ½å®Œæˆçš„æ“ä½œï¼Œæ˜¾ç„¶å·²ç»ä¸åˆé€‚ã€‚ è°ƒç”¨ociå‘½ä»¤è„šæœ¬ï¼Œè¿™æ˜¯æœ€å®‰å…¨çš„æ¨¡å¼ï¼Œå› ä¸ºociæ˜¯oracleå®˜æ–¹æä¾›ï¼ŒåŸç†æ˜¯ä½¿ç”¨ociå‘½ä»¤ç›´æ¥ç”³è¯·å®ä¾‹ï¼Œä¾‹å¦‚ï¼š oci compute instance launch .... ç„¶è€Œï¼Œæ ¹æ®æˆ‘é¦™æ¸¯ä¸»æœºæµ‹è¯•ï¼Œè¿™ç§æœ€å¤šåªèƒ½åšåˆ°20ç§’åˆ·æ–°ä¸€æ¬¡ï¼ŒåŸå› æ˜¯ oci å‘½ä»¤æ‰§è¡Œçš„å®Œæ•´çš„è¿‡ç¨‹ï¼š
1ã€å¯åŠ¨ã€å¼€å§‹è¿æ¥ oracle cloud 2ã€éªŒè¯ç”¨æˆ·åˆæ³•æ€§ 3ã€æ‰§è¡Œå‘½ä»¤ 4ã€é€€å‡º 1ï¼Œ2ï¼Œ4æ­¥éª¤åœ¨å¾ªç¯ä¸­æµªè´¹äº†å¤§é‡æ—¶é—´ï¼Œæœ¬æ–‡ä¸­é‡‡ç”¨pythonè°ƒç”¨oci api çš„æ¨¡å¼ï¼Œä¸€æ¬¡ç™»å½•çœç•¥å¤šæ¬¡éªŒè¯ç¯èŠ‚ï¼Œå¾ªç¯æ‰§è¡Œåˆ›å»ºinstanceå‘½ä»¤ï¼Œåˆ·æ–°é€Ÿåº¦å¯ä»¥è¾¾åˆ°3ç§’/æ¬¡ å½“è¿”å›instanceåˆ›å»ºæˆåŠŸæ—¶ï¼Œè‡ªåŠ¨é€€å‡ºã€‚
å¸ƒç½²æ­¥éª¤ 1ã€ä¸‹è½½ociå·¥å…· bash -c "$(curl â€“L https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh)" é»˜è®¤å›è½¦ï¼Œå®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æ£€æŸ¥æ˜¯å¦æˆåŠŸ
oci -v 2ã€é…ç½®ociè¿æ¥ åœ¨oracle cloudæ§åˆ¶å°ä¸Šï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒ=>èœå•ä¸­é€‰æ‹©â€œç”¨æˆ·è®¾ç½®â€ å¤åˆ¶ç”¨æˆ·å’Œç§Ÿæˆ·ID è¾“å…¥
oci setup config å¡«å†™æ­£ç¡®çš„ç”¨æˆ·å’Œç§Ÿæˆ·id
Enter a location for your config [/root/.oci/config]: Enter a user OCID: #è¾“å…¥ä½ çš„ç”¨æˆ·ocid Enter a tenancy OCID: #è¾“å…¥ä½ ç§Ÿæˆ·çš„ç”¨æˆ·id Enter a region by index or name(e.g. 1: ap-chiyoda-1, 2: ap-chuncheon-1, 3: ap-hyderabad-1, 4: ap-melbourne-1, 5: ap-mumbai-1, 6: ap-osaka-1, 7: ap-seoul-1, 8: ap-sydney-1, 9: ap-tokyo-1, 10: ca-montreal-1, 11: ca-toronto-1, 12: eu-amsterdam-1, 13: eu-frankfurt-1, 14: eu-zurich-1, 15: me-dubai-1, 16: me-jeddah-1, 17: sa-santiago-1, 18: sa-saopaulo-1, 19: uk-cardiff-1, 20: uk-gov-cardiff-1, 21: uk-gov-london-1, 22: uk-london-1, 23: us-ashburn-1, 24: us-gov-ashburn-1, 25: us-gov-chicago-1, 26: us-gov-phoenix-1, 27: us-langley-1, 28: us-luke-1, 29: us-phoenix-1, 30: us-sanjose-1): 9 #è¿™é‡Œé€‰æ‹©åŒºåŸŸ Do you want to generate a new API Signing RSA key pair? (If you decline you will be asked to supply the path to an existing key.) [Y/n]: y #è¾“å…¥y Enter a directory for your keys to be created [/root/.oci]: Enter a name for your key [oci_api_key]: Public key written to: /root/.oci/oci_api_key_public.pem Enter a passphrase for your private key (empty for no passphrase): Private key written to: /root/.oci/oci_api_key.pem Fingerprint: Config written to /root/.oci/config ... å¤åˆ¶ç”Ÿæˆçš„å…¬é’¥ï¼Œè·å–å‘½ä»¤å¦‚ä¸‹ï¼š
cat /root/.oci/oci_api_key_public.pem æŠŠå±•ç¤ºå‡ºæ¥çš„å†…å®¹å¤åˆ¶ä¸‹æ¥ã€‚å¹¶ä¸”æ·»åŠ åˆ°ï¼Œç”²éª¨æ–‡åå°=>ç”¨æˆ·è®¾ç½®&raquo;èµ„æº&raquo;APIç§˜é’¥&raquo;æ·»åŠ APIç§˜é’¥
3ã€pythonè„šæœ¬ å®‰è£…python oci å‡è®¾ä½ å·²ç»å®‰è£…å¥½pythonç¯å¢ƒ
pip install oci ç™»å½•è¯ä¹¦ æ–°å»ºæˆ–ä½¿ç”¨ç³»ç»Ÿå·²æœ‰çš„è¯ä¹¦ï¼Œæœ¬æ–‡ç›´æ¥æŸ¥çœ‹æœ¬æœºå·²æœ‰è¯ä¹¦è®°å½•ä¸‹æ¥ cat ~/.ssh/id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAA......local ä¿®æ”¹è„šæœ¬ ä¸‹è½½:
link ä¿®æ”¹luanch.py è„šæœ¬ä¸­çš„å‚æ•° INSTANCE_NAME = 'vpså®ä¾‹å' #ä½ è¦åˆ›å»ºçš„vpså®ä¾‹å SUBNET_ID = "ç½‘ç»œ->è™šæ‹Ÿäº‘ç½‘ç»œ->è™šæ‹Ÿäº‘ç½‘ç»œè¯¦ç»†ä¿¡æ¯->OCID" #å¦‚æœæ˜¯å…¨æ–°ç”¨æˆ·ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªVNC compartment_id= &lt;font color=red>"ç§Ÿæˆ·id" ssh_public_key="id_rsa.pubçš„å†…å®¹" è¿è¡Œ æ‰§è¡Œè„šæœ¬ï¼Œå½“ä¸»æœºç”³è¯·å®Œæˆï¼Œä¼šè‡ªåŠ¨é€€å‡º
python ./luanch.py</content></entry><entry><title>å…³äºæˆ‘</title><url>http://www.luckfu.com/about.html</url><categories/><tags/><content type="html"> æ›´å¤šä¿¡æ¯è¯·è®¿é—®GitHub.</content></entry></search>