<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>HoRNDISé©±åŠ¨æä¾›Android USBå…±äº«ç½‘ç»œç»™macOS Monterey</title><url>http://www.luckfu.com/post/horndis_mac/</url><categories><category>Monterey</category><category>macOS</category><category>RNDIS</category><category>USBç½‘ç»œå…±äº«</category><category>HoRNDIS</category></categories><tags><tag>Monterey</tag><tag>macOS</tag><tag>RNDIS</tag><tag>HoRNDIS</tag></tags><content type="html"> 1ã€macOSçš„RNDISæ”¯æŒ appleçš„å°åŠ¨ä½œä»Montereyå¼€å§‹å–æ¶ˆè“ç‰™PANç½‘ç»œå…±äº«ä¹‹åï¼Œä¸å¾—ä¸æƒ³å…¶å®ƒè¿æ¥æ–¹æ³•å®ç°åŒç½‘ç»œï¼ŒAndroidçš„USBç½‘ç»œå…±äº«åŸºäºRNDISåè®®ï¼Œæ®è¯´åœ¨windowsä¸‹å¯ç”¨ï¼Œä½†macOSæ²¡æœ‰åŸç”Ÿæ”¯æŒï¼Œåœ¨macä¸‹çš„ç¬¬ä¸‰æ–¹å®ç°ç›®å‰ä¼¼ä¹åªæœ‰HoRNDIS å®˜ç½‘ https://www.joshuawise.com/horndis ä½†å®˜ç½‘ç»å¹´æœªæ›´æ–°è¿‡äº†ï¼Œæä¾›çš„æœ€æ–°ç‰ˆä»…ä»…æ”¯æŒåˆ° macOS10.10 Yosemiteï¼Œç›´æ¥ä¸‹è½½å®‰è£…ä¼šæç¤ºç³»ç»Ÿé˜»æ­¢ä¸å®‰å…¨æ’ä»¶ï¼Œå¥½åœ¨HoRNDISå¼€æºç¤¾åŒºè¿˜æ¯”æŒºæ´»è·ƒ å¯ä»¥é€šè¿‡githubä¸Šç›¸å…³åˆ†æ”¯å®‰è£…å¯¹åº”ç‰ˆæœ¬ã€‚
2ã€HoRNDIS ä¸‹è½½ Monterey å¯¹åº”çš„ https://github.com/chris1111/HoRNDIS ä¸‹è½½åœ°å€ https://github.com/chris1111/HoRNDIS/releases
ä¸‹è½½æ–‡ä»¶åè§£å‹å¯è§ 3ã€å®‰è£… å®‰è£…æ­¥éª¤è¯´æ˜åœ¨ â€œGUIDE Consent HoRNDIS.pdfâ€ä¸­
3.1 å…è®¸å®‰è£… å› ä¸ºæ˜¯ç¬¬ä¸‰æ–¹æ‰“åŒ…çš„ç¨‹åºï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ æ‰‹å·¥æ·»åŠ å…¬è¯ æ‰§è¡Œ Consent-HoRNDIS.commandï¼Œå¦‚æœç³»ç»Ÿé˜»æ­¢ï¼Œåœ¨â€œç³»ç»Ÿåå¥½è®¾ç½®â€=>&ldquo;éšç§ä¸å®‰å…¨"ä¸­å…è®¸ï¼Œ
3.2 å…³é—­SIP è¿›å…¥Recoveryæ¨¡å¼ï¼Œå…³é—­SIP
é‡å¯ï¼Œå¼€æœºæŒ‰ä½command+Ré”®ï¼Œè¿›å…¥æ¢å¤æ¨¡å¼ ç‚¹å‡»å®ç”¨å·¥å…· => ç‚¹å‡»ç»ˆç«¯ ç»ˆç«¯å†…è¾“å…¥å‘½ä»¤ï¼šcsrutil disable ç»ˆç«¯å†…è¾“å…¥å‘½ä»¤ï¼š/usr/sbin/spctl kext-consent add 54GTJ2AU36 é‡å¯ 3.3 å®‰è£…HoRNDIS æ‰“å¼€ HoRNDIS-Consent.pkg 3.4 å…è®¸HoRNDIS å†…æ ¸æ‰©å±• åœ¨â€œç³»ç»Ÿåå¥½è®¾ç½®â€=>&ldquo;éšç§ä¸å®‰å…¨"ä¸­å…è®¸appä»ä»»æ„ä½ç½® æœ€åé€šè¿‡ USB å°†æ‰‹æœºè¿æ¥åˆ° Macï¼Œæ‰“å¼€æ‰‹æœºä¸Šçš„usbç½‘ç»œå…±äº«&hellip;.</content></entry><entry><title>Kubernetesä¿®æ”¹NodePortèŒƒå›´å¿…é¡»è¦æ³¨æ„çš„é—®é¢˜</title><url>http://www.luckfu.com/post/k8s-nodeport-range/</url><categories><category>k8s</category></categories><tags><tag>k8s</tag></tags><content type="html"> Kubernetes é›†ç¾¤ä¸­NodePorté»˜è®¤èŒƒå›´æ˜¯ 30000-32767ï¼Œç½‘ç»œä¸Šå¯¹ä¿®æ”¹æ–¹æ³•çš„è¯´æ˜å¾ˆå¤šï¼Œä½†æœ€è¿‘çš„å®é™…æ“ä½œä¸­ï¼Œæœ‰ä¸€ä¸ªéšè—çš„é—®é¢˜ï¼Œè®©æˆ‘èŠ±äº†ä¸€å¤©æ—¶é—´ã€‚
åœ¨MasterèŠ‚ç‚¹ä¸Šçš„æ–‡ä»¶ /etc/kubernetes/manifests/kube-apiserver.yamlï¼Œä¿®æ”¹æ­¤æ–‡ä»¶ï¼Œå‘å…¶ä¸­æ·»--service-node-port-range=1-65535
#ä½œä¸ºä¸€ä¸ªå¸¸å¹´æ“ä½œåœ¨çº¿ç³»ç»Ÿçš„çš„äººï¼Œä¸€å®šä¼šå…ˆå¤‡ä»½é…ç½®æ–‡ä»¶ï¼Œæ²¡æœ‰å¼‚è®®å§ï¼Ÿ cp kube-apiserver.yaml kube-apiserver.yaml.bak vi kube-apiserver.yaml ..... Host Port: &lt;none> Command: kube-apiserver - --service-cluster-ip-range=10.96.0.0/12 # æ’å…¥ - --service-node-port-range=1-65535 ...... ä¹‹åï¼Œå¤§éƒ¨åˆ†æ–‡æ¡£å‘Šè¯‰ä½ éœ€è¦
# è·å¾— apiserver çš„ pod åå­— export apiserver_pods=$(kubectl get pods --selector=component=kube-apiserver -n kube-system --output=jsonpath={.items..metadata.name}) # åˆ é™¤ apiserver çš„ pod kubectl delete pod $apiserver_pods -n kube-system åˆæˆ–è€…è¯´è¿˜è¦é‡å¯æœåŠ¡
systemctl daemon-reload systemctl restart kubelet ç”šè‡³è¿˜æœ‰å¦‚æœä½ æœ‰å¤šmasterèŠ‚ç‚¹ï¼Œéœ€è¦æ¯ä¸ªmasterèŠ‚ç‚¹æ“ä½œä¸€æ¬¡çš„è¯´æ³•,ä½†å®é™…æƒ…å†µæ˜¯ï¼Œä¸éœ€è¦æ¯å°masteré‡å¤æ“ä½œ(k8sä¼šè‡ªå·±åŒæ­¥)ï¼Œä½ æ—¢ä¸éœ€è¦é‡å¯masterèŠ‚ç‚¹ï¼Œä¹Ÿä¸éœ€è¦åˆ é™¤podçš„æ–¹å¼é‡å¯kube-apiserver
ä½ çœŸæ­£éœ€è¦çš„åªæ˜¯ä¿®æ”¹kube-apiserver.yamlï¼Œä¿®æ”¹å®Œæˆåä½ ä¼šå‘ç°æ— è®ºä½ åˆ é™¤podé‡å¯è¿˜æ˜¯é‡å¯æœåŠ¡ï¼Œæ–°é…ç½®éƒ½ä¸ç”Ÿæ•ˆï¼Œå…¶å®é—®é¢˜å°±å‡ºåœ¨å¤‡ä»½æ–‡ä»¶ï¼Œç§»èµ°kube-apiserver.yaml.bak å†æŸ¥çœ‹
kubectl describe pod $apiserver_pods -n kube-system ä½ ä¼šå‘ç°ç«¯å£èŒƒå›´å·²ç»ä¿®æ”¹ç”Ÿæ•ˆï¼</content></entry><entry><title>macOS Montereyä¸­è“ç‰™PAN(Bluetooth PAN)åˆ°å“ªé‡Œå»äº†ï¼Ÿ ğŸ˜¡</title><url>http://www.luckfu.com/post/macos_monterey_bluetooth_apn/</url><categories><category>Monterey</category><category>Bluetooth PAN</category><category>macOS</category></categories><tags><tag>Monterey</tag><tag>Bluetooth PAN</tag><tag>macOS</tag></tags><content type="html"> æˆ‘æœ‰ä¸€å°åŠå…¬çš„æ—§macï¼Œæ“ä½œç³»ç»Ÿæ˜¯big surï¼Œä½¿ç”¨wifiè¿æ¥å†…ç½‘ï¼ŒåŒæ—¶è“ç‰™è¿æ¥æ‰‹æœºä¸Šå¤–ç½‘ï¼Œè¿™å¯¹æˆ‘æ¥è¯´æ˜¯åŠå…¬çš„ç¡¬æ€§éœ€æ±‚ï¼Œç„¶è€Œä¸å¹¸çš„æ˜¯æœ€è¿‘å‡çº§äº†Montereyï¼Œè“ç‰™ç½‘ç»œè¿æ¥æ²¡æœ‰äº†ã€‚
macOS big suræ—¶çš„è“ç‰™è¿æ¥ç½‘ç»œ macOS Montereyæ—¶ï¼Œè¿æ¥ç½‘ç»œæ¶ˆå¤±äº† æ›´ä¸å¹¸çš„æ˜¯ï¼Œä¸ºäº†æµ‹è¯•æ˜¯ä¸æ˜¯å‡çº§åˆ°macOS Montereyå¼•èµ·çš„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æŠŠå¦ä¸€å°mac airä¹Ÿå‡çº§åˆ°äº†Montereyï¼Œäºæ˜¯æˆ‘æ‰‹é‡Œæ‰€æœ‰çš„ç”µè„‘éƒ½ä¸èƒ½è¿æ¥è“ç‰™ç½‘ç»œäº†ã€‚</content></entry><entry><title>è”é‚¦å­¦ä¹ æ¡†æ¶ FATE å•æœºç‰ˆæºç éƒ¨ç½² ARMä¸»æœº</title><url>http://www.luckfu.com/post/fate_install/</url><categories><category>FATE</category><category>è”é‚¦å­¦ä¹ </category></categories><tags><tag>FATE</tag><tag>FATE-Board</tag><tag>è”é‚¦å­¦ä¹ </tag></tags><content type="html"> FATE(Federated AI Technology Enabler)æ˜¯ä¸€ä¸ªè”é‚¦å­¦ä¹ æ¡†æ¶ã€‚æœ¬æ–‡å¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªå®˜æ–¹æ–‡æ¡£æ•´åˆï¼Œå•ç‹¬è®°å½•çš„åŸå› æ˜¯è¿™æ¬¡éœ€è¦æºç éƒ¨ç½²ï¼Œå®˜æ–¹éƒ¨ç½²æ–‡æ¡£ https://github.com/FederatedAI/FATE ä¸­ä¸€äº›ç»†èŠ‚éœ€è¦è‡ªå·±æ‘¸ç´¢ï¼Œå½¢æˆæ€»ç»“ã€‚
1.éƒ¨ç½²å‰ç¯å¢ƒæ£€æŸ¥ pythonç¯å¢ƒ jdk Maven æœ¬åœ°8080ã€9360ã€9380ç«¯å£æ˜¯å¦è¢«å ç”¨ netstat -apln|grep 8080 netstat -apln|grep 9360 netstat -apln|grep 9380 2. è®¾ç½®ç¯å¢ƒå˜é‡ è®¾ç½®ç¯å¢ƒå˜é‡æ˜¯å› ä¸ºFATAæ¡†æ¶ä¸­ï¼Œå¾ˆå¤šè„šæœ¬è¦ç”¨åˆ°ç¯å¢ƒå˜é‡
export branch={åˆ†æ”¯åç§°, è‹¥ä½¿ç”¨æŸä¸ªå‘å¸ƒç‰ˆæœ¬åˆ†æ”¯, åˆ™ä¸º`vç‰ˆæœ¬å·`, å¦‚`v1.7.0`} export version={FATEç‰ˆæœ¬å·, å¦‚1.7.0} export version_tag={FATEç‰ˆæœ¬æ ‡ç­¾, å¦‚rc1/rc2/release} 3. è·å–æºç  git clone https://github.com/FederatedAI/FATE.git -b ${branch} --recurse-submodules --depth=1 #æˆ–è€… git clone https://gitee.com/FederatedAI/FATE.git -b ${branch} --depth=1; #æ›´æ–°ä»£ç  cd FATE; bash build/common/update_submodule_from_gitee.sh git pull git submodule update --remote 4. è¿è¡Œæ—¶ç¯å¢ƒå˜é‡ cd {ä¸Šè¿°ä»£ç çš„å­˜æ”¾ç›®å½•} export FATE_PROJECT_BASE=$PWD export version=`grep "FATE=" ${FATE_PROJECT_BASE}/fate.env | awk -F "=" '{print $2}'` 5. å®‰è£…FATEæ‰€éœ€è¦çš„Pythonä¾èµ–åŒ… 5.1 ä¿®æ”¹ä¾èµ–åŒ…è¯´æ˜æ–‡ä»¶ å®˜æ–¹éƒ¨ç½²æ–‡æ¡£ä¸­ requirementsç‰ˆæœ¬è¦æ±‚éå¸¸ä¸¥æ ¼ï¼Œå®é™…éƒ¨ç½²ä¸­ï¼Œå¯èƒ½å› ä¸ºæŸäº›åŸå› æ— æ³•æ»¡è¶³ï¼Œæ¯”å¦‚æˆ‘çš„ç¯å¢ƒæ˜¯ARMç‰ˆUbuntu,tensorflowå’Œpytouchçš„ç‰ˆæœ¬æ”¯æŒæœ‰é™ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥åˆ é™¤python/requirements.txtçš„ç‰ˆæœ¬æè¿°ã€‚åŸåˆ™ä¸Šç‰ˆæœ¬é«˜ä¸€ç‚¹æ˜¯å¯ä»¥çš„ã€‚
åœ¨ python/requirements.txt å¢åŠ 
ruamel.yaml peewee apsw dotenv redis cos-python-sdk-v5 beautifultable kazoo coverage cloudpickle lmdb coverage pycryptodomex libsm3py 5.2 å®‰è£…Pythonä¾èµ–åŒ… cd ${FATE_PROJECT_BASE}; sh bin/install_os_dependencies.sh; source ${FATE_VENV_BASE}/bin/activate; pip install -r python/requirements.txt 6. é…ç½®FATE ç¼–è¾‘bin/init_env.shç¯å¢ƒå˜é‡æ–‡ä»¶
cd ${FATE_PROJECT_BASE} sed -i.bak "s#PYTHONPATH=.*#PYTHONPATH=$PWD/python:$PWD/fateflow/python#g" bin/init_env.sh; sed -i.bak "s#venv=.*#venv=${FATE_VENV_BASE}#g" bin/init_env.sh æ£€æŸ¥conf/service_conf.yamlå…¨å±€é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å°†åŸºç¡€å¼•æ“é…ç½®ä¸ºå•æœºç‰ˆ, è‹¥default_enginesæ˜¾ç¤ºå¦‚ä¸‹ï¼Œåˆ™ä¸ºå•æœºç‰ˆ
default_engines:computing:standalonefederation:standalonestorage:standalone7. å¯åŠ¨fate flow server cd ${FATE_PROJECT_BASE}; source bin/init_env.sh; cd fateflow; bash bin/service.sh status; bash bin/service.sh start æ˜¾ç¤ºå¦‚ä¸‹ç±»ä¼¼åˆ™ä¸ºå¯åŠ¨æˆåŠŸï¼Œå¦åˆ™è¯·ä¾æ®æç¤ºæŸ¥çœ‹æ—¥å¿—
bash service start sucessfully. pid: 111907 status:app 111907 75.7 1.1 3740008 373448 pts/2 Sl+ 12:21 0:17 python /xx/FATE/fateflow/python/fate_flow/fate_flow_server.py python 111907 app 14u IPv4 3570158828 0t0 TCP localhost:boxp (LISTEN) python 111907 app 13u IPv4 3570158827 0t0 TCP localhost:9360 (LISTEN) 8. å®‰è£…fate client cd ${FATE_PROJECT_BASE}; source bin/init_env.sh; cd python/fate_client/; python setup.py install åˆå§‹åŒ–fate flow client
cd ../../; flow init -c conf/service_conf.yaml æ˜¾ç¤ºå¦‚ä¸‹ç±»ä¼¼åˆ™ä¸ºåˆå§‹åŒ–æˆåŠŸï¼Œå¦åˆ™è¯·ä¾æ®æç¤ºæŸ¥çœ‹æ—¥å¿—
{ "retcode": 0, "retmsg": "Fate Flow CLI has been initialized successfully." } 9. FATE-Board å®‰è£… FATE-Boardçš„éƒ¨ç½²éœ€è¦javaç¯å¢ƒå’ŒMaven
9.1 é…ç½®ä¿®æ”¹ ä¿®æ”¹ ${FATE_PROJECT_BASE}/fateboard/src/main/resources/application.properties æ–‡ä»¶
spring.datasource.driver-Class-Name=org.sqlite.JDBC Â·Â·Â· fateboard.datasource.jdbc-url=jdbc:sqlite:è·¯å¾„/æ•°æ®åº“æ–‡ä»¶å 9.2 æ‰“åŒ… cd fateboard/ mvn clean package -DskipTests 9.3 å¯åŠ¨ FATE-Board nohup \ java -Dspring.config.location=${FATE_PROJECT_BASE}/fateboard/src/main/resources/application.properties \ -Dssh_config_file=${FATE_PROJECT_BASE}/fateboard//src/main/resources/ \ -Xmx2048m -Xms2048m -XX:+PrintGCDetails \ -Xloggc:gc.log -XX:+HeapDumpOnOutOfMemoryError \ -jar ${FATE_PROJECT_BASE}/fateboard//target/fateboard-${version}.jar > /dev/null 2>&amp;1 &amp; è®¿é—® http:127.0.0.1:8080 ç”¨æˆ·å admin å¯†ç  admin
10. æµ‹è¯•é¡¹ 10.1 Toyæµ‹è¯• flow test toy -gid 10000 -hid 10000 å¦‚æœæˆåŠŸï¼Œå±å¹•æ˜¾ç¤ºç±»ä¼¼ä¸‹æ–¹çš„è¯­å¥:
success to calculate secure_sum, it is 2000.0 10.2 å•å…ƒæµ‹è¯• cd ${FATE_PROJECT_BASE}; bash ./python/federatedml/test/run_test.sh å¦‚æœæˆåŠŸï¼Œå±å¹•æ˜¾ç¤ºç±»ä¼¼ä¸‹æ–¹çš„è¯­å¥:
there are 0 failed test</content></entry><entry><title>hugo + github action + github vscode çœŸé¦™</title><url>http://www.luckfu.com/post/first_github_action/</url><categories><category>github</category><category>github action</category><category>hugo</category></categories><tags><tag>github</tag><tag>github action</tag><tag>hugo</tag></tags><content type="html"> github action çœŸé¦™ï¼Œgithubçš„vscodeç¼–è¾‘å™¨çœŸé¦™ï¼Œç»“åˆèµ·æ¥ğŸ˜„ æœ¬ç«™æ˜¯åŸºäºhugoå‘å¸ƒåœ¨github pagesä¸Š,è¿™ç§é™æ€ç½‘ç«™æ¯”è¾ƒéº»çƒ¦çš„æ˜¯ï¼Œæœ¬åœ°ç¼–è¾‘æœ¬åœ°å‘å¸ƒï¼Œpublicå‘å¸ƒåˆ°github.io,å¦‚æœè¿˜è¦æºç ä¹Ÿå­˜å…¥githubï¼Œè¿˜å¾—å†å»ºä¸€ä¸ªrepoå­˜æºç ï¼Œpublicä½œä¸ºsubmoduleæ·»åŠ åˆ°æ ¹repoï¼Œdeployæ—¶è¿˜å¾—submodule updateï¼Œ è¿˜å¥½æ­¤æ—¶æœ‰actionï¼Œé€šè¿‡:actions-hugoï¼Œåªéœ€è¦å‘å¸ƒæºç çš„repoï¼Œå°±å¯ä»¥æ›´æ–°github pages,çœŸé¦™
æ›´é¦™çš„æ˜¯ï¼Œgithub æ¨å‡ºäº†ç‰›é€¼å“„å“„çš„vscodeç¼–è¾‘å™¨ï¼Œåªè¦åœ¨æºç é¡¹ç›®ä¸Šç‚¹.é”® è‡ªåŠ¨è¿›å…¥ç½‘é¡µç‰ˆvscodeï¼Œè‡ªå¸¦gitï¼Œç°åœ¨å¯ä»¥é€šè¿‡è¿™ä¸ªç¼–è¾‘å™¨åœ¨çº¿ç¼–å†™å†…å®¹ï¼Œä¿å­˜æäº¤ï¼Œactionè‡ªåŠ¨å‘å¸ƒï¼Œå®ç°åœ¨çº¿ç¼–è¾‘blogçš„éœ€æ±‚ã€‚</content></entry><entry><title>å°†dockerå®¹å™¨ä½œä¸ºè™šæ‹ŸæœºæŠ˜è…¾</title><url>http://www.luckfu.com/post/ampere_a1_docker/</url><categories><category>cloud vps</category><category>docker</category></categories><tags><tag>Oracle Cloud</tag><tag>Free VPS</tag><tag>docker</tag><tag>VM.Standard.A1.Flex</tag></tags><content type="html"> ä¸Šä¸€ç¯‡è¯´åˆ°Oracle Cloudå…è´¹ä¸”å¤§çƒ­çš„4c24gçš„VM.Standard.A1.Flexæœºå‹éš¾ç”³è¯·ï¼Œè€Œå®é™…ä½¿ç”¨ä¸­ï¼Œoracle cloudå…è´¹å¥—é¤ä¸­é™·é˜±è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§æƒ…å†µï¼š
å…è´¹ä¸»æœºè¶…é¢åº¦ï¼Œå…è´¹å­˜å‚¨è¶…é¢åº¦ï¼Œocä¼˜å…ˆåœæ‰çš„èµ„æºå°±æ˜¯è¿™ä¸ªA1.Flexæœºå‹ã€‚
A1.Flexæœºå‹å¯é€‰æ“ä½œç³»ç»Ÿåªæœ‰oracle linux 7æˆ–8ï¼Œä¸ä¸€å®šé¡ºæ‰‹ã€‚
æ“ä½œç³»ç»Ÿè¢«ç©åæ—¶ï¼Œä¸åƒä¸€èˆ¬äº‘æœåŠ¡æ§åˆ¶å°å¯ä»¥æ¢å¤é•œåƒï¼Œä½ åªèƒ½é‡æ–°ç”³è¯·
å°†å®¹å™¨ä½œä¸ºè™šæ‹Ÿæœºä½¿ç”¨å¹¶ä¸ç¬¦åˆå®¹å™¨åº”ç”¨éƒ¨ç½²çš„åˆè¡·ï¼Œä½†é‰´äºä»¥ä¸Šé—®é¢˜æœ¬æ–‡ä¸­é‡‡ç”¨dockeråˆ›å»ºä¸€ä¸ªå®¹å™¨ä»£æ›¿è™šæ‹Ÿæœºï¼Œä¸€åˆ‡åœ¨è™šæœºä¸­æ“ä½œï¼Œå½“ç³»ç»Ÿç¾éš¾ä¸å¯æ¢å¤æ—¶ï¼Œåˆ æ‰å°±å¥½ï¼Œçœå´åˆ·æœºæŠ¢æ³¨ä¹‹è‹¦ã€‚
å¸ƒç½²æ­¥éª¤ ssh ç™»å½•åˆ°ä¸»æœº
1ã€å®‰è£…docker yum install docker 2ã€Dockerfile ç¼–å†™Dockerfile
FROMubuntu:20.04LABELMAINTAINER="luckfu.com"USERroot# change root password to `ubuntu` RUNecho'root:ubuntu'|chpasswdENVDEBIAN_FRONTENDnoninteractive# install ssh server RUNapt-getupdate&amp;&amp;apt-getinstall-y\openssh-serversudo\&amp;&amp;rm-rf/var/lib/apt/lists/* \ &amp;&amp; mkdir -p /run/sshd \ &amp;&amp; ssh-keygen -A \ &amp;&amp; sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/g' /etc/ssh/sshd_config \ &amp;&amp; apt-get purge -y --auto-remove EXPOSE 22 # run ssh server CMD ["/usr/sbin/sshd", "-D", "-o", "ListenAddress=0.0.0.0"] 3ã€ç”Ÿæˆé•œåƒ docker build -f ./Dockerfile -t ubuntu-ssh ä½¿ç”¨ docker imageså‘½ä»¤æŸ¥çœ‹
docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntuos-ssh latest b6010c26ebb7 1 days ago 189MB ubuntu 20.04 d5ca7a445605 8 weeks ago 65.6MB 4ã€å¯åŠ¨å®¹å™¨ æ‰§è¡Œå‘½ä»¤
docker run -d -p 9022:22 -p 8000-9000:8000-9000 \ -v /data/:/data \ --name ubuntuos-ssh ubuntuos-ssh ä¸»è¦å‚æ•°åŠå«ä¹‰ï¼š
å‚æ•° è§£é‡Š -d å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ -p ç«¯å£æ˜ å°„ [ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£] -v å­˜å‚¨å·æ˜ å°„ [ä¸»æœºç›®å½•:å®¹å™¨ç›®å½•] &ndash;name æŒ‡å®šå®¹å™¨åç§° ubuntuos ä¸Šè¿°å‘½ä»¤ä¸­æˆ‘ä»¬éƒ¨ç½²äº†ä¸€ä¸ªåç§°ä¸ºubuntuos-sshçš„å®¹å™¨ï¼Œå°†ä¸»æœºçš„/data(oracle cloud ä¸­å¯ä»¥ç”³è¯·100Gâ€œå§‹ç»ˆå…è´¹â€å­˜å‚¨ï¼ŒæŒ‚è½½åˆ°ä¸»æœº/data)æŒ‚è½½åˆ°å®¹å™¨çš„/dataä¸‹ï¼Œå°†ä¸»æœºçš„9022æ˜ å°„å®¹å™¨çš„sshæœåŠ¡22ç«¯å£ï¼Œå¦å¤–å¼€æ”¾äº†8000-9000ç«¯å£å¤‡ç”¨
æŸ¥çœ‹å®¹å™¨æ˜¯å¦è¿è¡Œ
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 0c9cf191daf2 ubuntuos-ssh "/usr/sbin/sshd -D -â€¦" 12 days ago Up 12 days 0.0.0.0:8000-9000->8000-9000/tcp, :::8000-9000->8000-9000/tcp, 0.0.0.0:9022->22/tcp, :::9022->22/tcp ubuntuos-ssh ç™»å½•å®¹å™¨ÃŸ
è¿™é‡Œæˆ‘ä»¬è¦ä½¿ç”¨sshï¼Œè€Œä¸æ˜¯exec -it è¿›å…¥
å¯†ç  ubuntu
ssh root@localhost -p 9022 root@localhost's password: (base) root@xxxxxxx:~# åˆ°è¿™é‡Œå¦‚æœæ­£å¸¸ç™»å½•ï¼Œåˆ™è¯´æ˜å®¹å™¨æ­£å¸¸è¿è¡Œ
5ã€é€šè¿‡ç½‘ç»œç™»å½• ç™»å½•oracle cloudæ§åˆ¶å°
æ£€æŸ¥å®¹å™¨ä½¿ç”¨çš„ 22 8000-9000ç«¯å£æ˜¯å¦å¼€é€š ä¸»æœºæ£€æŸ¥é˜²ç«å¢™å¦‚iptables firwwallä¸­ï¼Œç«¯å£æ˜¯å¦æ‰“å¼€ è¿œç¨‹ç™»å½• ssh root@IP -p 9022 å¯åŠ²é€ å§</content></entry><entry><title>ä½¿ç”¨pythonè„šæœ¬æŠ¢æ³¨Oracleç”²éª¨æ–‡ VM.Standard.A1.Flex</title><url>http://www.luckfu.com/post/ampere_a1_free/</url><categories><category>cloud vps</category><category>python</category><category>oci</category></categories><tags><tag>Oracle Cloud</tag><tag>Free VPS</tag><tag>python script</tag><tag>è‡ªåŠ¨åŒ–è„šæœ¬</tag><tag>VM.Standard.A1.Flex</tag></tags><content type="html"> Oracle cloud å¼€æ”¾æ³¨å†Œè´¦å·èƒ½ç”³è¯·4c24gçš„å…è´¹äº‘æœåŠ¡å™¨,æ•°æ®åº“ä»¥åŠå…¶ä»–çš„æœåŠ¡ï¼Œ1c1gçš„x86æœåŠ¡å™¨æ¯”è¾ƒå®¹æ˜“ç”³è¯·ï¼Œä½†çƒ­é—¨çš„4c24gçš„Ampere A1ç±»å‹ä¸»æœºé€šè¿‡ç½‘é¡µæ­£å¸¸ç”³è¯·æ ¹æœ¬ç”³è¯·ä¸åˆ°ï¼Œç›®å‰ç½‘ç»œä¸Šæµè¡Œçš„æŠ¢æ³¨æ–¹æ³•æ— å¤–ä¹ä¸¤ç§æ¨¡å¼ï¼š
æµè§ˆå™¨æ’ä»¶æˆ–è„šæœ¬æˆ–æŒ‰é”®ç²¾çµï¼Œè¿™ç§æ–¹æ³•çš„é—®é¢˜æ˜¯æ§åˆ¶å°è¶…æ—¶ï¼Œè¿˜å®¹æ˜“è¢«æœåŠ¡å™¨åˆ¤å®šéæ³•æ“ä½œï¼Œç¦ç”¨è´¦å·ï¼Œå¯¹äºåŠ¨è¾„è¦æ±‚ç¨³å®šè¿è¡Œå‡ å¤©æ‰èƒ½å®Œæˆçš„æ“ä½œï¼Œæ˜¾ç„¶å·²ç»ä¸åˆé€‚ã€‚ è°ƒç”¨ociå‘½ä»¤è„šæœ¬ï¼Œè¿™æ˜¯æœ€å®‰å…¨çš„æ¨¡å¼ï¼Œå› ä¸ºociæ˜¯oracleå®˜æ–¹æä¾›ï¼ŒåŸç†æ˜¯ä½¿ç”¨ociå‘½ä»¤ç›´æ¥ç”³è¯·å®ä¾‹ï¼Œä¾‹å¦‚ï¼š oci compute instance launch .... ç„¶è€Œï¼Œæ ¹æ®æˆ‘é¦™æ¸¯ä¸»æœºæµ‹è¯•ï¼Œè¿™ç§æœ€å¤šåªèƒ½åšåˆ°20ç§’åˆ·æ–°ä¸€æ¬¡ï¼ŒåŸå› æ˜¯ oci å‘½ä»¤æ‰§è¡Œçš„å®Œæ•´çš„è¿‡ç¨‹ï¼š
1ã€å¯åŠ¨ã€å¼€å§‹è¿æ¥ oracle cloud 2ã€éªŒè¯ç”¨æˆ·åˆæ³•æ€§ 3ã€æ‰§è¡Œå‘½ä»¤ 4ã€é€€å‡º 1ï¼Œ2ï¼Œ4æ­¥éª¤åœ¨å¾ªç¯ä¸­æµªè´¹äº†å¤§é‡æ—¶é—´ï¼Œæœ¬æ–‡ä¸­é‡‡ç”¨pythonè°ƒç”¨oci api çš„æ¨¡å¼ï¼Œä¸€æ¬¡ç™»å½•çœç•¥å¤šæ¬¡éªŒè¯ç¯èŠ‚ï¼Œå¾ªç¯æ‰§è¡Œåˆ›å»ºinstanceå‘½ä»¤ï¼Œåˆ·æ–°é€Ÿåº¦å¯ä»¥è¾¾åˆ°3ç§’/æ¬¡ å½“è¿”å›instanceåˆ›å»ºæˆåŠŸæ—¶ï¼Œè‡ªåŠ¨é€€å‡ºã€‚
å¸ƒç½²æ­¥éª¤ 1ã€ä¸‹è½½ociå·¥å…· bash -c "$(curl â€“L https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh)" é»˜è®¤å›è½¦ï¼Œå®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æ£€æŸ¥æ˜¯å¦æˆåŠŸ
oci -v 2ã€é…ç½®ociè¿æ¥ åœ¨oracle cloudæ§åˆ¶å°ä¸Šï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒ=>èœå•ä¸­é€‰æ‹©â€œç”¨æˆ·è®¾ç½®â€ å¤åˆ¶ç”¨æˆ·å’Œç§Ÿæˆ·ID è¾“å…¥
oci setup config å¡«å†™æ­£ç¡®çš„ç”¨æˆ·å’Œç§Ÿæˆ·id
Enter a location for your config [/root/.oci/config]: Enter a user OCID: #è¾“å…¥ä½ çš„ç”¨æˆ·ocid Enter a tenancy OCID: #è¾“å…¥ä½ ç§Ÿæˆ·çš„ç”¨æˆ·id Enter a region by index or name(e.g. 1: ap-chiyoda-1, 2: ap-chuncheon-1, 3: ap-hyderabad-1, 4: ap-melbourne-1, 5: ap-mumbai-1, 6: ap-osaka-1, 7: ap-seoul-1, 8: ap-sydney-1, 9: ap-tokyo-1, 10: ca-montreal-1, 11: ca-toronto-1, 12: eu-amsterdam-1, 13: eu-frankfurt-1, 14: eu-zurich-1, 15: me-dubai-1, 16: me-jeddah-1, 17: sa-santiago-1, 18: sa-saopaulo-1, 19: uk-cardiff-1, 20: uk-gov-cardiff-1, 21: uk-gov-london-1, 22: uk-london-1, 23: us-ashburn-1, 24: us-gov-ashburn-1, 25: us-gov-chicago-1, 26: us-gov-phoenix-1, 27: us-langley-1, 28: us-luke-1, 29: us-phoenix-1, 30: us-sanjose-1): 9 #è¿™é‡Œé€‰æ‹©åŒºåŸŸ Do you want to generate a new API Signing RSA key pair? (If you decline you will be asked to supply the path to an existing key.) [Y/n]: y #è¾“å…¥y Enter a directory for your keys to be created [/root/.oci]: Enter a name for your key [oci_api_key]: Public key written to: /root/.oci/oci_api_key_public.pem Enter a passphrase for your private key (empty for no passphrase): Private key written to: /root/.oci/oci_api_key.pem Fingerprint: Config written to /root/.oci/config ... å¤åˆ¶ç”Ÿæˆçš„å…¬é’¥ï¼Œè·å–å‘½ä»¤å¦‚ä¸‹ï¼š
cat /root/.oci/oci_api_key_public.pem æŠŠå±•ç¤ºå‡ºæ¥çš„å†…å®¹å¤åˆ¶ä¸‹æ¥ã€‚å¹¶ä¸”æ·»åŠ åˆ°ï¼Œç”²éª¨æ–‡åå°=>ç”¨æˆ·è®¾ç½®&raquo;èµ„æº&raquo;APIç§˜é’¥&raquo;æ·»åŠ APIç§˜é’¥
3ã€pythonè„šæœ¬ å®‰è£…python oci å‡è®¾ä½ å·²ç»å®‰è£…å¥½pythonç¯å¢ƒ
pip install oci ç™»å½•è¯ä¹¦ æ–°å»ºæˆ–ä½¿ç”¨ç³»ç»Ÿå·²æœ‰çš„è¯ä¹¦ï¼Œæœ¬æ–‡ç›´æ¥æŸ¥çœ‹æœ¬æœºå·²æœ‰è¯ä¹¦è®°å½•ä¸‹æ¥ cat ~/.ssh/id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAA......local ä¿®æ”¹è„šæœ¬ ä¸‹è½½:
link ä¿®æ”¹luanch.py è„šæœ¬ä¸­çš„å‚æ•° INSTANCE_NAME = 'vpså®ä¾‹å' #ä½ è¦åˆ›å»ºçš„vpså®ä¾‹å SUBNET_ID = "ç½‘ç»œ->è™šæ‹Ÿäº‘ç½‘ç»œ->è™šæ‹Ÿäº‘ç½‘ç»œè¯¦ç»†ä¿¡æ¯->OCID" #å¦‚æœæ˜¯å…¨æ–°ç”¨æˆ·ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªVNC compartment_id= &lt;font color=red>"ç§Ÿæˆ·id" ssh_public_key="id_rsa.pubçš„å†…å®¹" è¿è¡Œ æ‰§è¡Œè„šæœ¬ï¼Œå½“ä¸»æœºç”³è¯·å®Œæˆï¼Œä¼šè‡ªåŠ¨é€€å‡º
python ./luanch.py</content></entry><entry><title>å…³äºæˆ‘</title><url>http://www.luckfu.com/about.html</url><categories/><tags/><content type="html"> æ›´å¤šä¿¡æ¯è¯·è®¿é—®GitHub.</content></entry></search>