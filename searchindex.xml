<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>hugo + github action + github vscode çœŸé¦™</title><url>http://www.luckfu.com/post/first_github_action/</url><categories><category>github</category><category>github action</category><category>hugo</category></categories><tags><tag>githubd</tag><tag>github action</tag><tag>hugo</tag></tags><content type="html"> github action çœŸé¦™ï¼Œgithubçš„vscodeç¼–è¾‘å™¨çœŸé¦™ï¼Œç»“åˆèµ·æ¥çœŸæ°´æ— é¦™ğŸ˜„ æœ¬ç«™æ˜¯åŸºäºhugoå‘å¸ƒåœ¨github pagesä¸Š,è¿™ç§é™æ€ç½‘ç«™æ¯”è¾ƒéº»çƒ¦çš„æ˜¯ï¼Œæœ¬åœ°ç¼–è¾‘æœ¬åœ°å‘å¸ƒï¼Œpublicå‘å¸ƒåˆ°github.io,å¦‚æœè¿˜è¦æºç ä¹Ÿå­˜å…¥githubï¼Œè¿˜å¾—å†å»ºä¸€ä¸ªrepoå­˜æºç ï¼Œpublicä½œä¸ºsubmoduleæ·»åŠ åˆ°æ ¹repoï¼Œdelpyæ—¶è¿˜å¾—submodule updateï¼Œ è¿˜å¥½æ­¤æ—¶æœ‰github actionï¼Œé€šè¿‡actions-hugoï¼Œåªéœ€è¦å‘å¸ƒä¸€æ¬¡ï¼Œå°±å¯ä»¥æ›´æ–°github pages,çœŸé¦™
æ›´é¦™çš„æ˜¯ï¼Œgithub æ¨å‡ºäº†ç‰›é€¼å“„å“„çš„vscodeç¼–è¾‘å™¨ï¼Œåªè¦åœ¨æºç é¡¹ç›®ä¸Šç‚¹.é”® è‡ªåŠ¨è¿›å…¥ç½‘é¡µç‰ˆvscodeï¼Œè‡ªå¸¦gitï¼Œç°åœ¨å¯ä»¥é€šè¿‡è¿™ä¸ªç¼–è¾‘å™¨åœ¨çº¿ç¼–å†™å†…å®¹ï¼Œä¿å­˜æäº¤ï¼Œå†é€šè¿‡actionè‡ªåŠ¨å‘å¸ƒï¼Œå®ç°åœ¨çº¿ç¼–è¾‘blogçš„éœ€æ±‚ã€‚</content></entry><entry><title>å°†dockerå®¹å™¨ä½œä¸ºè™šæ‹ŸæœºæŠ˜è…¾</title><url>http://www.luckfu.com/post/ampere_a1_docker/</url><categories><category>cloud vps</category><category>docker</category></categories><tags><tag>Oracle Cloud</tag><tag>Free VPS</tag><tag>docker</tag><tag>VM.Standard.A1.Flex</tag></tags><content type="html"> ä¸Šä¸€ç¯‡è¯´åˆ°Oracle Cloudå…è´¹ä¸”å¤§çƒ­çš„4c24gçš„VM.Standard.A1.Flexæœºå‹éš¾ç”³è¯·ï¼Œè€Œå®é™…ä½¿ç”¨ä¸­ï¼Œoracle cloudå…è´¹å¥—é¤ä¸­é™·é˜±è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§æƒ…å†µï¼š
å…è´¹ä¸»æœºè¶…é¢åº¦ï¼Œå…è´¹å­˜å‚¨è¶…é¢åº¦ï¼Œocä¼˜å…ˆåœæ‰çš„èµ„æºå°±æ˜¯è¿™ä¸ªA1.Flexæœºå‹ã€‚
A1.Flexæœºå‹å¯é€‰æ“ä½œç³»ç»Ÿåªæœ‰oracle linux 7æˆ–8ï¼Œä¸ä¸€å®šé¡ºæ‰‹ã€‚
æ“ä½œç³»ç»Ÿè¢«ç©åæ—¶ï¼Œä¸åƒä¸€èˆ¬äº‘æœåŠ¡æ§åˆ¶å°å¯ä»¥æ¢å¤é•œåƒï¼Œä½ åªèƒ½é‡æ–°ç”³è¯·
å°†å®¹å™¨ä½œä¸ºè™šæ‹Ÿæœºä½¿ç”¨å¹¶ä¸ç¬¦åˆå®¹å™¨åº”ç”¨éƒ¨ç½²çš„åˆè¡·ï¼Œä½†é‰´äºä»¥ä¸Šé—®é¢˜æœ¬æ–‡ä¸­é‡‡ç”¨dockeråˆ›å»ºä¸€ä¸ªå®¹å™¨ä»£æ›¿è™šæ‹Ÿæœºï¼Œä¸€åˆ‡åœ¨è™šæœºä¸­æ“ä½œï¼Œå½“ç³»ç»Ÿç¾éš¾ä¸å¯æ¢å¤æ—¶ï¼Œåˆ æ‰å°±å¥½ï¼Œçœå´åˆ·æœºæŠ¢æ³¨ä¹‹è‹¦ã€‚
å¸ƒç½²æ­¥éª¤ ssh ç™»å½•åˆ°ä¸»æœº
1ã€å®‰è£…docker yum install docker 2ã€Dockerfile ç¼–å†™Dockerfile
FROMubuntu:20.04LABELMAINTAINER="luckfu.com"USERroot# change root password to `ubuntu` RUNecho'root:ubuntu'|chpasswdENVDEBIAN_FRONTENDnoninteractive# install ssh server RUNapt-getupdate&amp;&amp;apt-getinstall-y\openssh-serversudo\&amp;&amp;rm-rf/var/lib/apt/lists/* \ &amp;&amp; mkdir -p /run/sshd \ &amp;&amp; ssh-keygen -A \ &amp;&amp; sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/g' /etc/ssh/sshd_config \ &amp;&amp; apt-get purge -y --auto-remove EXPOSE 22 # run ssh server CMD ["/usr/sbin/sshd", "-D", "-o", "ListenAddress=0.0.0.0"] 3ã€ç”Ÿæˆé•œåƒ docker build -f ./Dockerfile -t ubuntu-ssh ä½¿ç”¨ docker imageså‘½ä»¤æŸ¥çœ‹
docker images REPOSITORY TAG IMAGE ID CREATED SIZE ubuntuos-ssh latest b6010c26ebb7 1 days ago 189MB ubuntu 20.04 d5ca7a445605 8 weeks ago 65.6MB 4ã€å¯åŠ¨å®¹å™¨ æ‰§è¡Œå‘½ä»¤
docker run -d -p 9022:22 -p 8000-9000:8000-9000 \ -v /data/:/data \ --name ubuntuos-ssh ubuntuos-ssh ä¸»è¦å‚æ•°åŠå«ä¹‰ï¼š
å‚æ•° è§£é‡Š -d å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ -p ç«¯å£æ˜ å°„ [ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£] -v å­˜å‚¨å·æ˜ å°„ [ä¸»æœºç›®å½•:å®¹å™¨ç›®å½•] &ndash;name æŒ‡å®šå®¹å™¨åç§° ubuntuos ä¸Šè¿°å‘½ä»¤ä¸­æˆ‘ä»¬éƒ¨ç½²äº†ä¸€ä¸ªåç§°ä¸ºubuntuos-sshçš„å®¹å™¨ï¼Œå°†ä¸»æœºçš„/data(oracle cloud ä¸­å¯ä»¥ç”³è¯·100Gâ€œå§‹ç»ˆå…è´¹â€å­˜å‚¨ï¼ŒæŒ‚è½½åˆ°ä¸»æœº/data)æŒ‚è½½åˆ°å®¹å™¨çš„/dataä¸‹ï¼Œå°†ä¸»æœºçš„9022æ˜ å°„å®¹å™¨çš„sshæœåŠ¡22ç«¯å£ï¼Œå¦å¤–å¼€æ”¾äº†8000-9000ç«¯å£å¤‡ç”¨
æŸ¥çœ‹å®¹å™¨æ˜¯å¦è¿è¡Œ
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 0c9cf191daf2 ubuntuos-ssh "/usr/sbin/sshd -D -â€¦" 12 days ago Up 12 days 0.0.0.0:8000-9000->8000-9000/tcp, :::8000-9000->8000-9000/tcp, 0.0.0.0:9022->22/tcp, :::9022->22/tcp ubuntuos-ssh ç™»å½•å®¹å™¨ÃŸ
è¿™é‡Œæˆ‘ä»¬è¦ä½¿ç”¨sshï¼Œè€Œä¸æ˜¯exec -it è¿›å…¥
å¯†ç  ubuntu
ssh root@localhost -p 9022 root@localhost's password: (base) root@xxxxxxx:~# åˆ°è¿™é‡Œå¦‚æœæ­£å¸¸ç™»å½•ï¼Œåˆ™è¯´æ˜å®¹å™¨æ­£å¸¸è¿è¡Œ
5ã€é€šè¿‡ç½‘ç»œç™»å½• ç™»å½•oracle cloudæ§åˆ¶å°
æ£€æŸ¥å®¹å™¨ä½¿ç”¨çš„ 22 8000-9000ç«¯å£æ˜¯å¦å¼€é€š ä¸»æœºæ£€æŸ¥é˜²ç«å¢™å¦‚iptables firwwallä¸­ï¼Œç«¯å£æ˜¯å¦æ‰“å¼€ è¿œç¨‹ç™»å½• ssh root@IP -p 9022 å¯åŠ²é€ å§</content></entry><entry><title>ä½¿ç”¨pythonè„šæœ¬æŠ¢æ³¨Oracleç”²éª¨æ–‡ VM.Standard.A1.Flex</title><url>http://www.luckfu.com/post/ampere_a1_free/</url><categories><category>cloud vps</category><category>python</category><category>oci</category></categories><tags><tag>Oracle Cloud</tag><tag>Free VPS</tag><tag>python script</tag><tag>è‡ªåŠ¨åŒ–è„šæœ¬</tag><tag>VM.Standard.A1.Flex</tag></tags><content type="html"> Oracle cloud å¼€æ”¾æ³¨å†Œè´¦å·èƒ½ç”³è¯·4c24gçš„å…è´¹äº‘æœåŠ¡å™¨,æ•°æ®åº“ä»¥åŠå…¶ä»–çš„æœåŠ¡ï¼Œ1c1gçš„x86æœåŠ¡å™¨æ¯”è¾ƒå®¹æ˜“ç”³è¯·ï¼Œä½†çƒ­é—¨çš„4c24gçš„Ampere A1ç±»å‹ä¸»æœºé€šè¿‡ç½‘é¡µæ­£å¸¸ç”³è¯·æ ¹æœ¬ç”³è¯·ä¸åˆ°ï¼Œç›®å‰ç½‘ç»œä¸Šæµè¡Œçš„æŠ¢æ³¨æ–¹æ³•æ— å¤–ä¹ä¸¤ç§æ¨¡å¼ï¼š
æµè§ˆå™¨æ’ä»¶æˆ–è„šæœ¬æˆ–æŒ‰é”®ç²¾çµï¼Œè¿™ç§æ–¹æ³•çš„é—®é¢˜æ˜¯æ§åˆ¶å°è¶…æ—¶ï¼Œè¿˜å®¹æ˜“è¢«æœåŠ¡å™¨åˆ¤å®šéæ³•æ“ä½œï¼Œç¦ç”¨è´¦å·ï¼Œå¯¹äºåŠ¨è¾„è¦æ±‚ç¨³å®šè¿è¡Œå‡ å¤©æ‰èƒ½å®Œæˆçš„æ“ä½œï¼Œæ˜¾ç„¶å·²ç»ä¸åˆé€‚ã€‚ è°ƒç”¨ociå‘½ä»¤è„šæœ¬ï¼Œè¿™æ˜¯æœ€å®‰å…¨çš„æ¨¡å¼ï¼Œå› ä¸ºociæ˜¯oracleå®˜æ–¹æä¾›ï¼ŒåŸç†æ˜¯ä½¿ç”¨ociå‘½ä»¤ç›´æ¥ç”³è¯·å®ä¾‹ï¼Œä¾‹å¦‚ï¼š oci compute instance launch .... ç„¶è€Œï¼Œæ ¹æ®æˆ‘é¦™æ¸¯ä¸»æœºæµ‹è¯•ï¼Œè¿™ç§æœ€å¤šåªèƒ½åšåˆ°20ç§’åˆ·æ–°ä¸€æ¬¡ï¼ŒåŸå› æ˜¯ oci å‘½ä»¤æ‰§è¡Œçš„å®Œæ•´çš„è¿‡ç¨‹ï¼š
1ã€å¯åŠ¨ã€å¼€å§‹è¿æ¥ oracle cloud 2ã€éªŒè¯ç”¨æˆ·åˆæ³•æ€§ 3ã€æ‰§è¡Œå‘½ä»¤ 4ã€é€€å‡º 1ï¼Œ2ï¼Œ4æ­¥éª¤åœ¨å¾ªç¯ä¸­æµªè´¹äº†å¤§é‡æ—¶é—´ï¼Œæœ¬æ–‡ä¸­é‡‡ç”¨pythonè°ƒç”¨oci api çš„æ¨¡å¼ï¼Œä¸€æ¬¡ç™»å½•çœç•¥å¤šæ¬¡éªŒè¯ç¯èŠ‚ï¼Œå¾ªç¯æ‰§è¡Œåˆ›å»ºinstanceå‘½ä»¤ï¼Œåˆ·æ–°é€Ÿåº¦å¯ä»¥è¾¾åˆ°3ç§’/æ¬¡ å½“è¿”å›instanceåˆ›å»ºæˆåŠŸæ—¶ï¼Œè‡ªåŠ¨é€€å‡ºã€‚
å¸ƒç½²æ­¥éª¤ 1ã€ä¸‹è½½ociå·¥å…· bash -c "$(curl â€“L https://raw.githubusercontent.com/oracle/oci-cli/master/scripts/install/install.sh)" é»˜è®¤å›è½¦ï¼Œå®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤æ£€æŸ¥æ˜¯å¦æˆåŠŸ
oci -v 2ã€é…ç½®ociè¿æ¥ åœ¨oracle cloudæ§åˆ¶å°ä¸Šï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒ=>èœå•ä¸­é€‰æ‹©â€œç”¨æˆ·è®¾ç½®â€ å¤åˆ¶ç”¨æˆ·å’Œç§Ÿæˆ·ID è¾“å…¥
oci setup config å¡«å†™æ­£ç¡®çš„ç”¨æˆ·å’Œç§Ÿæˆ·id
Enter a location for your config [/root/.oci/config]: Enter a user OCID: #è¾“å…¥ä½ çš„ç”¨æˆ·ocid Enter a tenancy OCID: #è¾“å…¥ä½ ç§Ÿæˆ·çš„ç”¨æˆ·id Enter a region by index or name(e.g. 1: ap-chiyoda-1, 2: ap-chuncheon-1, 3: ap-hyderabad-1, 4: ap-melbourne-1, 5: ap-mumbai-1, 6: ap-osaka-1, 7: ap-seoul-1, 8: ap-sydney-1, 9: ap-tokyo-1, 10: ca-montreal-1, 11: ca-toronto-1, 12: eu-amsterdam-1, 13: eu-frankfurt-1, 14: eu-zurich-1, 15: me-dubai-1, 16: me-jeddah-1, 17: sa-santiago-1, 18: sa-saopaulo-1, 19: uk-cardiff-1, 20: uk-gov-cardiff-1, 21: uk-gov-london-1, 22: uk-london-1, 23: us-ashburn-1, 24: us-gov-ashburn-1, 25: us-gov-chicago-1, 26: us-gov-phoenix-1, 27: us-langley-1, 28: us-luke-1, 29: us-phoenix-1, 30: us-sanjose-1): 9 #è¿™é‡Œé€‰æ‹©åŒºåŸŸ Do you want to generate a new API Signing RSA key pair? (If you decline you will be asked to supply the path to an existing key.) [Y/n]: y #è¾“å…¥y Enter a directory for your keys to be created [/root/.oci]: Enter a name for your key [oci_api_key]: Public key written to: /root/.oci/oci_api_key_public.pem Enter a passphrase for your private key (empty for no passphrase): Private key written to: /root/.oci/oci_api_key.pem Fingerprint: Config written to /root/.oci/config ... å¤åˆ¶ç”Ÿæˆçš„å…¬é’¥ï¼Œè·å–å‘½ä»¤å¦‚ä¸‹ï¼š
cat /root/.oci/oci_api_key_public.pem æŠŠå±•ç¤ºå‡ºæ¥çš„å†…å®¹å¤åˆ¶ä¸‹æ¥ã€‚å¹¶ä¸”æ·»åŠ åˆ°ï¼Œç”²éª¨æ–‡åå°=>ç”¨æˆ·è®¾ç½®&raquo;èµ„æº&raquo;APIç§˜é’¥&raquo;æ·»åŠ APIç§˜é’¥
3ã€pythonè„šæœ¬ å®‰è£…python oci å‡è®¾ä½ å·²ç»å®‰è£…å¥½pythonç¯å¢ƒ
pip install oci ç™»å½•è¯ä¹¦ æ–°å»ºæˆ–ä½¿ç”¨ç³»ç»Ÿå·²æœ‰çš„è¯ä¹¦ï¼Œæœ¬æ–‡ç›´æ¥æŸ¥çœ‹æœ¬æœºå·²æœ‰è¯ä¹¦è®°å½•ä¸‹æ¥ cat ~/.ssh/id_rsa.pub ssh-rsa AAAAB3NzaC1yc2EAAA......local ä¿®æ”¹è„šæœ¬ ä¸‹è½½:
link ä¿®æ”¹luanch.py è„šæœ¬ä¸­çš„å‚æ•° INSTANCE_NAME = 'vpså®ä¾‹å' #ä½ è¦åˆ›å»ºçš„vpså®ä¾‹å SUBNET_ID = "ç½‘ç»œ->è™šæ‹Ÿäº‘ç½‘ç»œ->è™šæ‹Ÿäº‘ç½‘ç»œè¯¦ç»†ä¿¡æ¯->OCID" #å¦‚æœæ˜¯å…¨æ–°ç”¨æˆ·ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªVNC compartment_id= &lt;font color=red>"ç§Ÿæˆ·id" ssh_public_key="id_rsa.pubçš„å†…å®¹" è¿è¡Œ æ‰§è¡Œè„šæœ¬ï¼Œå½“ä¸»æœºç”³è¯·å®Œæˆï¼Œä¼šè‡ªåŠ¨é€€å‡º
python ./luanch.py</content></entry><entry><title>å…³äºæˆ‘</title><url>http://www.luckfu.com/about.html</url><categories/><tags/><content type="html"> æ›´å¤šä¿¡æ¯è¯·è®¿é—®GitHub.</content></entry></search>